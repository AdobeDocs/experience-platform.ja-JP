---
keywords: Experience Platform；ホーム；人気のトピック；api;API;XDM;XDM システム；エクスペリエンスデータモデル；エクスペリエンスデータモデル；データモデル；スキーマレジストリ；
solution: Experience Platform
title: スキーマレジストリ API ガイド
description: Schema Registry API を使用すると、開発者はAdobe Experience Platform内のすべてのスキーマと関連する Experience Data Model （XDM）リソースをプログラムで管理できます。 このガイドに従って、API を使用した主な操作の実行方法を学習します。
exl-id: 9e693d29-303e-462a-a1e2-93c0d517b8e3
source-git-commit: 6e58f070c0a25d7434f1f165543f92ec5a081e66
workflow-type: tm+mt
source-wordcount: '1141'
ht-degree: 8%

---

# [!DNL Schema Registry] API ガイド

[!DNL Schema Registry] を使用してAdobe Experience Platform内のスキーマライブラリにアクセスし、ユーザーインターフェイスと RESTful API を提供します。ここから、使用可能なすべてのライブラリリソースにアクセスできます。

Schema Registry API は、Platform 内で使用可能なすべてのスキーマと関連する Experience Data Model （XDM）リソースをプログラムで管理できるいくつかのエンドポイントを提供します。 これには、Adobe、[!DNL Experience Platform] パートナー、およびユーザーが使用するアプリケーションのベンダーが定義した要件が含まれます。

これらのエンドポイントの概要を以下に示します。詳しくは、個々のエンドポイントのガイドを参照し、必要なヘッダー、サンプル API 呼び出しの読み取りなどに関する重要な情報については、[はじめに](./getting-started.md)のガイドを参照してください。

>[!IMPORTANT]
>
>XDM は、JSON スキーマ形式を使用して、取り込んだ顧客体験データの構造を記述および検証します。 スキーマレジストリ API を使用する前に、[ 公式の JSON スキーマのドキュメント ](https://json-schema.org/) を参照して、この基盤となるテクノロジーをより深く理解することを強くお勧めします。

使用可能なすべてのエンドポイントと CRUD 操作を表示するには、[ スキーマレジストリ API リファレンス ](https://www.adobe.io/experience-platform-apis/references/schema-registry/) を参照してください。

## スキーマ

XDM スキーマは、Platform に取り込まれたデータの構造と形式を表し、検証します。 スキーマは、クラスと 0 個以上のスキーマフィールドグループで構成されます。 `/schemas` エンドポイントを使用して、スキーマの作成、表示、編集、削除をおこなうことができます。 このエンドポイントの使用方法については、[ スキーマエンドポイントガイド ](./schemas.md) を参照してください。

フィールドグループやデータタイプの作成と追加など、Schema Registry API で完全なスキーマを手動で作成する手順については、[API スキーマ作成チュートリアル ](../tutorials/create-schema-api.md) を参照してください。

CSV データを取り込む場合は、[CSV からスキーマへの変換 ](#csv-to-schema) の節を参照してください。

## 動作

動作は、スキーマが記述するデータの特性を定義します。 各 XDM クラスは、特定の動作を参照する必要があります。この動作は、そのクラスを使用するすべてのスキーマに継承されます。 API で使用可能な動作を表示する方法については、[ ビヘイビアーエンドポイントガイド ](./behaviors.md) を参照してください。

## クラス

クラスは、そのクラスに基づくすべてのスキーマに含める必要がある共通プロパティの基本構造を定義し、これらのスキーマで使用できるフィールドグループを決定します。 すべてのクラスは、既存の動作に関連付ける必要があります。 API でのクラスの操作について詳しくは、[ クラスエンドポイントガイド ](./classes.md) を参照してください。

## フィールドグループ

フィールドグループは、個人、住所、web ブラウザー環境など、特定の概念を表す 1 つ以上のフィールドを定義する、再利用可能なコンポーネントです。 フィールドグループは、表現するデータ（レコードまたは時系列）の動作に応じて、互換性のあるクラスを実装するスキーマの一部として含めることを目的としています。 API でフィールドグループを使用する方法については、[ フィールドグループエンドポイントガイド ](./field-groups.md) を参照してください。

## データタイプ

データ型は、基本リテラルフィールドと同じ方法で、クラスまたはフィールドグループの参照タイプフィールドとして使用されます。主な違いは、データ型によって複数のサブフィールドを定義できる点です。 複数フィールド構造を一貫して使用できるという点ではフィールドグループに似ていますが、データタイプは、スキーマ構造の任意の場所に含めることができるのに対して、フィールドグループはルートレベルでのみ追加できるので、より柔軟です。 API でのデータタイプの使用について詳しくは、[ データタイプエンドポイントガイド ](./data-types.md) を参照してください。

>[!NOTE]
>
>フィールドが特定のデータタイプとして定義されている場合、同じフィールドを別のスキーマの異なるデータタイプで作成することはできません。 この制約は、組織のテナントに適用されます。

## 記述子

記述子は、スキーマ内の特定のフィールドに割り当てられるメタデータのセットで、これらのフィールド（およびスキーマ自体）が他のスキーマにどのように関連するかなど、様々なコンテキストの詳細を提供します。 各スキーマには 1 つ以上の記述子エンティティを適用でき、異なる目的を果たす異なる記述子タイプが複数あります。 API での記述子の操作、様々な記述子タイプとそのユースケースの概要について詳しくは、[ 記述子エンドポイントガイド ](./descriptors.md) を参照してください。

## 和集合

Platform を使用すると、特定のユースケース用のスキーマを作成できますが、特定のクラスに属するスキーマの「和集合」を作成することもできます。 結合スキーマは、同じクラスを共有するすべてのスキーマのフィールドを 1 つの表現に集約します。 スキーマを [ リアルタイム顧客プロファイル ](../../profile/home.md) で使用できるようにすると、そのスキーマは特定のクラスの結合に含まれます。 そのため、結合スキーマは直接編集できず、プロファイルで使用するスキーマを含めるか除外することによってのみ影響を受けます。

スキーマレジストリ API で結合を表示する方法については、[ 結合エンドポイントガイド ](./unions.md) を参照してください。

## CSV からスキーマへの変換 {#csv-to-schema}

CSV ファイルをテンプレートとして使用して XDM スキーマを自動的に生成できます。これにより、スキーマフィールドを一括読み込みするテンプレートを作成でき、手動の API や UI の作業を減らすことができます。

詳しくは、[CSV からスキーマへの変換エンドポイントガイド ](./export.md) を参照してください。

>[!NOTE]
>
>また、UI を使用して、[AI で生成されたレコメンデーションを使用して CSV をスキーマにマッピング ](../../ingestion/tutorials/map-csv/recommendations.md) することもできます（現在はベータ版）。

## 書き出し {#export}

Schema Registry API を使用すると、サンドボックスと組織間で XDM リソースを転送および共有できます。 スキーマ、フィールドグループまたはデータタイプの場合は、リソースの構造と依存リソースを含む書き出しペイロードを生成できます。 その後、このペイロードを使用して、リソースを宛先サンドボックスおよび組織に読み込むことができます。

既存の XDM リソースの書き出しペイロードを作成する方法について詳しくは、[ 書き出しエンドポイントガイド ](./export.md) を参照してください。

## インポート

[ エクスポート ](#export) または [CSV をスキーマ変換 ](./import.md) エンドポイントを使用してエクスポートペイロードを作成する場合、そのペイロードをターゲット組織とサンドボックスに送信して、指定したリソースを読み込むことができます。

エクスポートペイロードから XDM リソースを生成する方法について詳しくは、[ インポートエンドポイントガイド ](./export.md) を参照してください。

## サンプルデータ

スキーマライブラリ内の指定されたスキーマのサンプルデータを生成できます。 返された応答オブジェクトは、データ取り込みのソースとして使用できます。

このエンドポイントの使用について詳しくは、[ サンプルデータエンドポイントガイド ](./sample-data.md) を参照してください。

## 監査ログ

スキーマレジストリは、異なる更新間にリソース（クラス、フィールドグループ、データタイプ、スキーマ）に対して発生したすべての変更のログを保持します。 特定のリソースのログを取得するには、このエンドポイントに対するGETリクエストのパスで `$id` または `meta:altId` を指定します。

このエンドポイントの使用について詳しくは、[ 監査ログエンドポイントのガイド ](./audit-log.md) を参照してください。

## 次の手順

 API を使用して呼び出しを開始するには、[はじめに](./getting-started.md)を参照し、エンドポイントガイドの 1 つを選択して、特定のエンドポイントの使用方法を確認します。
