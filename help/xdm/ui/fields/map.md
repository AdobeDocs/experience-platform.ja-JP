---
title: UI でのマップフィールドの定義
description: Experience Platform ユーザーインターフェイスでマップフィールドを定義する方法を説明します。
exl-id: 657428a2-f184-4d7c-b657-4fc60d77d5c6
source-git-commit: c0421974493884488e4d639278106835ad1d8b1b
workflow-type: tm+mt
source-wordcount: '487'
ht-degree: 0%

---

# UI でのマップフィールドの定義

Adobe Experience Platformを使用すると、カスタムエクスペリエンスデータモデル（XDM）クラス、スキーマフィールドグループおよびデータタイプの構造を完全にカスタマイズできます。

また、スキーマエディターでマップフィールドを定義して、柔軟な動的キーを持つキーと値のペアのコレクションを保存することもできます。

Experience Platform ユーザーインターフェイス（UI）で新しいフィールドを定義する際に、**[!UICONTROL タイプ]** ドロップダウンを使用し、リストから「**[!UICONTROL マップ]**」を選択します。

![&#x200B; タイプのドロップダウンとマップ値がハイライト表示されたスキーマエディター。](../../images/ui/fields/special/map.png)

[!UICONTROL Map value type] プロパティが表示されます。 この値は、[!UICONTROL Map] データタイプに必須です。 マップに使用できる値は [!UICONTROL &#x200B; 文字列 &#x200B;] および [!UICONTROL &#x200B; 整数 &#x200B;] です。 使用可能なオプションのドロップダウンリストから値を選択します。

![&#x200B; 「値のタイプをマッピング [!UICONTROL &#x200B; ドロップダウンがハイライト表示されたスキーマエディター &#x200B;] 表示されます。](../../images/ui/fields/special/map-value-type.png)

サブフィールドを設定したら、フィールドグループに割り当てる必要があります。 **[!UICONTROL フィールドグループ]** ドロップダウンメニューまたは検索フィールドを使用して、「**[!UICONTROL 適用]**」を選択します。 同じプロセスを使用して引き続きフィールドをオブジェクトに追加するか、「**[!UICONTROL 保存]**」を選択して設定を確定できます。

![&#x200B; 適用するフィールドグループの選択と設定の記録。](../../images/ui/fields/special/assign-to-field-group.gif)

## 使用の制限 {#restrictions}

XDM は、このデータタイプの使用に次の制限を設けます。

* マップの種類は `object` 型でなければなりません。
* マップの種類にはプロパティを定義できません（つまり、「空の」オブジェクトを定義します）。
* マップの種類には、`additionalProperties.type` または `string` のいずれかでマップ内に配置できる値を記述する `integer` フィールドを含める必要があります。
* マルチエンティティのセグメント化は、マップキーに基づいてのみ定義でき、値に基づいて定義することはできません。
* マップは、アカウントオーディエンスではサポートされていません。
* カスタム XDM オブジェクトで定義されるマップは、単一レベルに制限されます。 ネストされたマップは作成できません。 この制限は、標準 XDM オブジェクトで定義されたマップには適用されません。
* マップの配列はサポートされていません。

絶対に必要な場合にのみ、マップタイプのフィールドを使用するようにしてください。これには、次のパフォーマンス上の欠点があります。

* [Adobe Experience Platform クエリサービスからの応答時間が &#x200B;](../../../query-service/home.md)1 億件のレコードに対して 3 秒から 10 秒に短縮されます。
* マップのキー数は 16 未満にする必要があります。そうしないと、さらに低下する可能性があります。

>[!NOTE]
>
>Experience Platform UI には、マップタイプのフィールドのキーを抽出する方法に制限があります。 オブジェクトタイプのフィールドは展開できますが、マップは代わりに単一のフィールドとして表示されます。 文字列データ型でも整数データ型でもない、スキーマレジストリ API で作成されたマップフィールドは、「[!UICONTROL &#x200B; 複雑 &#x200B;]」データ型として表示されます。

## 次の手順

このドキュメントを読み、Experience Platform UI でマップフィールドを定義できるようになりました。 クラスとフィールドグループのみを使用して、フィールドをスキーマに追加できます。 UI でこれらのリソースを管理する方法について詳しくは、[&#x200B; クラス &#x200B;](../resources/classes.md) および [&#x200B; フィールドグループ &#x200B;](../resources/field-groups.md) の作成と編集に関するガイドを参照してください。

[!UICONTROL &#x200B; スキーマ &#x200B;] ワークスペースの機能について詳しくは、[[!UICONTROL &#x200B; スキーマ &#x200B;] ワークスペースの概要 &#x200B;](../overview.md) を参照してください。
