---
title: UI でのマップフィールドの定義
description: Experience Platformユーザーインターフェイスでマップフィールドを定義する方法を説明します。
exl-id: 657428a2-f184-4d7c-b657-4fc60d77d5c6
source-git-commit: ee27fc42a1ee23ef650d320df64e5970a84d0d38
workflow-type: tm+mt
source-wordcount: '452'
ht-degree: 0%

---

# UI でのマップフィールドの定義

Adobe Experience Platformを使用すると、カスタムエクスペリエンスデータモデル（XDM）クラス、スキーマフィールドグループおよびデータタイプの構造を完全にカスタマイズできます。

また、スキーマエディターでマップフィールドを定義して、柔軟かつ動的なデータ構造をモデル化したり、キーと値のペアのコレクションを保存したりすることもできます。

Platform ユーザーインターフェイス（UI）で新しいフィールドを定義する際には、 **[!UICONTROL タイプ]** ドロップダウンで「」を選択します&#x200B;**[!UICONTROL マップ]**」を選択します。

![タイプ ドロップダウンとマップ値がハイライト表示されたスキーマエディター。](../../images/ui/fields/special/map.png)

A [!UICONTROL 値タイプをマッピング] プロパティが表示されます。 この値は、に必要です。 [!UICONTROL マップ] データタイプ。 マップに使用できる値は次のとおりです [!UICONTROL 文字列] および [!UICONTROL 整数]. 使用可能なオプションのドロップダウンリストから値を選択します。

![を使用したスキーマエディター [!UICONTROL 値タイプをマッピング] ドロップダウンがハイライト表示されています。](../../images/ui/fields/special/map-value-type.png)

サブフィールドを設定したら、フィールドグループに割り当てる必要があります。 の使用 **[!UICONTROL フィールドグループ]** ドロップダウンメニューまたは検索フィールドで、 **[!UICONTROL 適用]**. 同じプロセスを使用してオブジェクトにフィールドを追加し続けるか、を選択します **[!UICONTROL 保存]** をクリックして設定を確認します。

![適用されるフィールドグループの選択と設定の記録。](../../images/ui/fields/special/assign-to-field-group.gif)

## 使用の制限 {#restrictions}

XDM は、このデータタイプの使用に次の制限を設けます。

* マップのタイプはでなければなりません `object`.
* マップの種類にはプロパティを定義できません（つまり、「空の」オブジェクトを定義します）。
* マップのタイプには次を含める必要があります `additionalProperties.type` マップ内に配置できる値を記述するフィールドは、 `string` または `integer`.
* マルチエンティティのセグメント化は、マップキーに基づいてのみ定義でき、値に基づいて定義することはできません。
* マップは、アカウントオーディエンスではサポートされていません。

絶対に必要な場合にのみ、マップタイプのフィールドを使用するようにしてください。これには、次のパフォーマンス上の欠点があります。

* からの応答時間 [Adobe Experience Platform クエリサービス](../../../query-service/home.md) 1 億件のレコードに対して 3 秒から 10 秒まで低下します。
* マップのキー数は 16 未満にする必要があります。そうしないと、さらに低下する可能性があります。

>[!NOTE]
>
>Platform UI には、マップタイプのフィールドのキーを抽出する方法に制限があります。 オブジェクトタイプのフィールドは展開できますが、マップは代わりに単一のフィールドとして表示されます。 文字列データ型でも整数データ型でもない、スキーマレジストリ API で作成されたマップフィールドは、と表示されます[!UICONTROL 複合]」というデータタイプです。

## 次の手順

このドキュメントを読み、Platform UI でマップフィールドを定義できるようになりました。 クラスとフィールドグループのみを使用して、フィールドをスキーマに追加できます。 UI でこれらのリソースを管理する方法について詳しくは、作成と編集のガイドを参照してください [クラス](../resources/classes.md) および [フィールドグループ](../resources/field-groups.md).

の機能について詳しくは、を参照してください [!UICONTROL スキーマ] ワークスペース、を参照 [[!UICONTROL スキーマ] workspace の概要](../overview.md).
