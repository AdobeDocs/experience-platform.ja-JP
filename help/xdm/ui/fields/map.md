---
title: UI でのマップフィールドの定義
description: Experience Platform ユーザーインターフェイスでマップフィールドを定義する方法を説明します。
exl-id: 657428a2-f184-4d7c-b657-4fc60d77d5c6
source-git-commit: f129c215ebc5dc169b9a7ef9b3faa3463ab413f3
workflow-type: tm+mt
source-wordcount: '455'
ht-degree: 0%

---

# UI でのマップフィールドの定義

Adobe Experience Platformを使用すると、カスタムエクスペリエンスデータモデル（XDM）クラス、スキーマフィールドグループおよびデータタイプの構造を完全にカスタマイズできます。

また、スキーマエディターでマップフィールドを定義して、柔軟かつ動的なデータ構造をモデル化したり、キーと値のペアのコレクションを保存したりすることもできます。

Experience Platform ユーザーインターフェイス（UI）で新しいフィールドを定義する際に、**[!UICONTROL タイプ]** ドロップダウンを使用し、リストから「**[!UICONTROL マップ]**」を選択します。

![ タイプのドロップダウンとマップ値がハイライト表示されたスキーマエディター。](../../images/ui/fields/special/map.png)

[!UICONTROL Map value type] プロパティが表示されます。 この値は、[!UICONTROL Map] データタイプに必須です。 マップに使用できる値は [!UICONTROL  文字列 ] および [!UICONTROL  整数 ] です。 使用可能なオプションのドロップダウンリストから値を選択します。

![ 「値のタイプをマッピング [!UICONTROL  ドロップダウンがハイライト表示されたスキーマエディター ] 表示されます。](../../images/ui/fields/special/map-value-type.png)

サブフィールドを設定したら、フィールドグループに割り当てる必要があります。 **[!UICONTROL フィールドグループ]** ドロップダウンメニューまたは検索フィールドを使用して、「**[!UICONTROL 適用]**」を選択します。 同じプロセスを使用して引き続きフィールドをオブジェクトに追加するか、「**[!UICONTROL 保存]**」を選択して設定を確定できます。

![ 適用するフィールドグループの選択と設定の記録。](../../images/ui/fields/special/assign-to-field-group.gif)

## 使用の制限 {#restrictions}

XDM は、このデータタイプの使用に次の制限を設けます。

* マップの種類は `object` 型でなければなりません。
* マップの種類にはプロパティを定義できません（つまり、「空の」オブジェクトを定義します）。
* マップの種類には、`string` または `integer` のいずれかでマップ内に配置できる値を記述する `additionalProperties.type` フィールドを含める必要があります。
* マルチエンティティのセグメント化は、マップキーに基づいてのみ定義でき、値に基づいて定義することはできません。
* マップは、アカウントオーディエンスではサポートされていません。

絶対に必要な場合にのみ、マップタイプのフィールドを使用するようにしてください。これには、次のパフォーマンス上の欠点があります。

* [Adobe Experience Platform クエリサービスからの応答時間が ](../../../query-service/home.md)1 億件のレコードに対して 3 秒から 10 秒に短縮されます。
* マップのキー数は 16 未満にする必要があります。そうしないと、さらに低下する可能性があります。

>[!NOTE]
>
>Experience Platform UI には、マップタイプのフィールドのキーを抽出する方法に制限があります。 オブジェクトタイプのフィールドは展開できますが、マップは代わりに単一のフィールドとして表示されます。 文字列データ型でも整数データ型でもない、スキーマレジストリ API で作成されたマップフィールドは、「[!UICONTROL  複雑 ]」データ型として表示されます。

## 次の手順

このドキュメントを読み、Experience Platform UI でマップフィールドを定義できるようになりました。 クラスとフィールドグループのみを使用して、フィールドをスキーマに追加できます。 UI でこれらのリソースを管理する方法について詳しくは、[ クラス ](../resources/classes.md) および [ フィールドグループ ](../resources/field-groups.md) の作成と編集に関するガイドを参照してください。

[!UICONTROL  スキーマ ] ワークスペースの機能について詳しくは、[[!UICONTROL  スキーマ ] ワークスペースの概要 ](../overview.md) を参照してください。
