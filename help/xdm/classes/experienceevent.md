---
keywords: Experience Platform；ホーム；人気のあるトピック；スキーマ;スキーマ;XDM；フィールド；スキーマ;スキーマ;IDマップ；IDマップ；スキーマ設計；マップ；マップ；イベントモデリング；イベントモデリング；ベストプラクティス；イベント;イベント;
solution: Experience Platform
title: XDM ExperienceEventクラス
topic-legacy: overview
description: このドキュメントでは、XDM ExperienceEventクラスの概要と、イベントデータモデリングのベストプラクティスを示します。
exl-id: a8e59413-b52f-4ea5-867b-8d81088a3321
source-git-commit: 4f1fe7ca5f09bb1e8e1b913d1dee1cff347d6a24
workflow-type: tm+mt
source-wordcount: '1476'
ht-degree: 4%

---

# [!DNL XDM ExperienceEvent] class

[!DNL XDM ExperienceEvent] は、標準のExperience Data Model(XDM)クラスです。このクラスを使用すると、特定のイベントが発生した場合や特定の条件が満たされた場合に、システムのタイムスタンプ付きのスナップショットを作成できます。

エクスペリエンスイベントは、発生した事実（特定の時点や個人の身元など）を記録したものです。 イベントは、明示的（直接観察可能な人間の行動）か、暗黙的（直接的な人間の行動なしで発生）のいずれかで、集約や解釈なしで記録されます。 プラットフォームエコシステムでのこのクラスの使用に関する詳細は、[XDMの概要](../home.md#data-behaviors)を参照してください。

[!DNL XDM ExperienceEvent]クラス自体は、スキーマに対して時系列関連のフィールドをいくつか提供します。 データを取り込むと、以下の一部のフィールドの値が自動的に入力されます。

![](../images/classes/experienceevent/structure.png)

| プロパティ | 説明 |
| --- | --- |
| `_id` | イベントの一意の文字列識別子。 このフィールドは、個々のイベントの一意性を追跡し、データの重複を防ぎ、そのイベントをダウンストリームサービスで検索するために使用します。<br><br>場合によっては、UUID( `_id` Universally Unique Identifier) [または](https://tools.ietf.org/html/rfc4122) GUID( [Globally Unique Identifier)](https://docs.microsoft.com/en-us/dotnet/api/system.guid?view=net-5.0)を使用できます。Adobe Experience Platformデータ準備では、この値は[`uuid`または`guid`マッピング関数](../../data-prep/functions.md#special-operations)を使用して生成できます。<br><br>ソース接続からデータをストリーミングする場合、またはParketファイルから直接取り込む場合は、プライマリID、タイムスタンプ、イベントタイプなど、偶数的に一意となる特定の組み合わせフィールドを連結して、この値を生成する必要があります。<br><br>このフィールドは、個々の人 **に関連するIDではなく、データの記録そのものを表している**、ということを区別することが重要です。人に関連するIDデータは、代わりに互換性のあるミックスインが提供する[IDフィールド](../schema/composition.md#identity)に左右する必要があります。 |
| `eventMergeId` | [Adobe Experience PlatformWeb SDK](../../edge/home.md)を使用してデータを取り込む場合、これはレコードの作成元となった取り込んだバッチのIDを表します。 このフィールドは、データ取り込み時にシステムによって自動的に入力されます。 Web SDK実装のコンテキスト外でのこのフィールドの使用はサポートされていません。 |
| `eventType` | イベントのタイプまたはカテゴリを示す文字列。 このフィールドは、小売会社の商品表示イベントと買い物かごへの追加イベントを区別するなど、同じスキーマとデータセット内の異なるイベントタイプを区別する場合に使用できます。<br><br>このプロパティの標準値は、 [付録の節](#eventType)に記載されています。この値には、使用事例の説明が含まれています。このフィールドは拡張可能なenumです。つまり、独自のイベントタイプ文字列を使用して、追跡しているイベントを分類することもできます。 |
| `producedBy` | イベントのプロデューサーまたは接触チャネルを表すstring値です。 このフィールドを使用すると、特定のイベント生産者を、セグメント化のために必要に応じて除外できます。<br><br>このプロパティに推奨される値の一部は、 [付録の節に記載されています](#producedBy)。このフィールドは拡張可能なenumです。つまり、独自の文字列を使用して、異なるイベントプロデューサーを表すこともできます。 |
| `identityMap` | イベントが適用される個々の名前空間IDのセットが含まれるmapフィールド。 このフィールドは、IDデータが取り込まれると自動的に更新されます。 このフィールドを[リアルタイム顧客プロファイル](../../profile/home.md)に適切に利用するため、データ操作でフィールドの内容を手動で更新しないでください。<br /><br />使用事例の詳細については、「スキーマ [合成の](../schema/composition.md#identityMap) 基本」の「IDマップ」の節を参照してください。 |
| `timestamp` | イベントが発生した時のISO 8601タイムスタンプ。[RFC 3339 Section 5.6](https://tools.ietf.org/html/rfc3339#section-5.6)に従ってフォーマットされます。 このタイムスタンプは過去に発生する必要があります。 このフィールドの使用に関するベストプラクティスについては、[タイムスタンプ](#timestamps)の下の節を参照してください。 |

## イベントモデリングのベストプラクティス

以下の節では、Adobe Experience PlatformでイベントベースのExperience Data Model(XDM)スキーマを設計するためのベストプラクティスについて説明します。

### タイムスタンプ {#timestamps}

イベントスキーマのルート`timestamp`フィールドは&#x200B;****&#x200B;のみがイベント自体の観測を表し、過去に起こる必要があります。 セグメントの使用例で、将来発生する可能性のあるタイムスタンプの使用が必要な場合、これらの値は、エクスペリエンスイベントスキーマの他の場所で制限する必要があります。

例えば、旅行・接客業界の企業が航空便予約イベントをモデル化している場合、クラスレベル`timestamp`フィールドは予約イベントが観察された時間を表します。 旅行予約の開始日など、イベントに関連する他のタイムスタンプは、標準ミックスインまたはカスタムミックスインで提供される別のフィールドにキャプチャする必要があります。

![](../images/classes/experienceevent/timestamps.png)

クラスレベルのタイムスタンプをイベントスキーマ内の他の関連日時値とは別に保つことで、顧客ジャーニーのタイムスタンプ付きのアカウントをエクスペリエンスアプリケーションに保持しながら、柔軟なセグメントの使用例を実装できます。

### 計算済みフィールドの使用

エクスペリエンスアプリケーション内で特定の操作を行うと、複数の関連イベントが同じイベントタイムスタンプを技術的に共有するので、単一のイベントレコードとして表すことができます。 例えば、顧客がWebサイトで表示している製品の場合、「product」属性と「page」表示属性が重なり合う一部の一般的な属性の両方を含むイベントレコードが生成されます。 このような場合、計算済みフィールドを使用して、レコード内の複数のイベントがキャプチャされる場合に、最も重要な属性を取り込むことができます。

[Adobe Experience Platformデータ](../../data-prep/home.md) プリプレイでは、XDMとの間でデータのマッピング、変換、検証を行うことができます。サービスが提供する使用可能な[マッピング関数](../../data-prep/functions.md)を使用して、論理演算子を呼び出し、マルチイベントレコードのデータをExperience Platformに取り込む際に優先順位付け、変換、統合できます。

UIを介してデータを手動でプラットフォームに取り込む場合は、[CSVファイルのXDM](../../ingestion/tutorials/map-a-csv-file.md)へのマッピングのガイドを参照して、計算済みフィールドの作成方法を確認してください。

ソース接続を使用してプラットフォームにデータをストリーミングする場合は、代わりに計算済みフィールドを使用するようにソースを設定できます。 接続を設定する際の計算済みフィールドの実装方法については、各ソース](../../sources/home.md)の[ドキュメントを参照してください。

## 互換性のあるスキーマフィールドグループ{#field-groups}

>[!NOTE]
>
>複数のフィールドグループの名前が変更されました。 詳しくは、[フィールドグループ名の更新](../field-groups/name-updates.md)のドキュメントを参照してください。

Adobeは、[!DNL XDM ExperienceEvent]クラスで使用するいくつかの標準フィールドグループを提供します。 次に、このクラスでよく使用されるフィールドグループのリストを示します。

* [[!UICONTROL エンドユーザーIDの詳細]](../field-groups/event/enduserids.md)
* [[!UICONTROL 環境の詳細]](../field-groups/event/environment-details.md)

## 付録

次の節では、[!UICONTROL XDM ExperienceEvent]クラスに関する追加情報を説明します。

### `eventType`に指定できる値 {#eventType}

次の表に、`eventType`に使用できる値とその定義を示します。

| 値 | 定義 |
| --- | --- |
| `advertising.completes` | 時間指定メディアアセットが完了まで視聴されました。 これは、視聴者が先にスキップした可能性があるので、ビデオ全体を視聴したとは限りません。 |
| `advertising.timePlayed` | 特定の時間指定メディアアセットに対するユーザーの滞在時間を示します。 |
| `advertising.federated` | エクスペリエンスイベントがデータフェデレーション（顧客間のデータ共有）を通じて作成されたかどうかを示します。 |
| `advertising.clicks` | 広告の「アクション」をクリックします。 |
| `advertising.conversions` | パフォーマンス評価のイベントをトリガーする顧客が実行する事前定義済みのアクション。 |
| `advertising.firstQuartiles` | デジタルビデオ広告は、通常の速度で再生時間の 25％ を再生しました。 |
| `advertising.impressions` | 視聴可能な顧客に対する広告のインプレッション。 |
| `advertising.midpoints` | デジタルビデオ広告は、通常の速度で再生時間の 50％を再生しました。 |
| `advertising.starts` | デジタルビデオ広告の再生が開始されました。 |
| `advertising.thirdQuartiles` | デジタルビデオ広告は、通常の速度で再生時間の 75%を再生しました。 |
| `web.webpagedetails.pageViews` | Webページが1つ以上の表示を受信しました。 |
| `web.webinteraction.linkClicks` | リンクが1回以上選択されています。 |
| `commerce.checkouts` | 製品リストに対してチェックアウトイベントが発生しました。 チェックアウトプロセスに複数のステップがある場合は、複数のチェックアウトイベントが存在する可能性があります。 複数の手順がある場合、各イベントのタイムスタンプと参照先のページ/エクスペリエンスを使用して、各イベント（手順）を順番に識別します。 |
| `commerce.productListAdds` | 商品が商品リストまたは買い物かごに追加されました。 |
| `commerce.productListOpens` | 新しい製品リスト（買い物かご）が初期化または作成されました。 |
| `commerce.productListRemovals` | 1つ以上の商品エントリが商品リストまたは買い物かごから削除されました。 |
| `commerce.productListReopens` | アクセスできなくなった（破棄された）製品リスト（買い物かご）は、再マーケティングアクティビティを介して、顧客によって再アクティブ化されました。 |
| `commerce.productListViews` | 製品リストまたは買い物かごが1つ以上の表示を受け取りました。 |
| `commerce.productViews` | 製品が1つ以上の表示を受け取りました。 |
| `commerce.purchases` | 注文が受け入れられました。コマースコンバージョンで必要なアクションはこれだけです。 購入イベントは、商品リストを参照する必要があります。 |
| `commerce.saveForLaters` | 製品リストは、製品ウィッシュリストなど、将来的に使用するために保存されています。 |
| `delivery.feedback` | 電子メール配信など、配信に対するフィードバックイベント。 |
| `message.feedback` | 顧客に送信するメッセージに対する送信/バウンス/エラーなどのフィードバックイベント。 |
| `message.tracking` | 顧客に送信されたメッセージに対するオープン/クリック/カスタムアクションなどのイベントを追跡する。 |

### `producedBy`の推奨値 {#producedBy}

次の表に、`producedBy`に使用できる値の概要を示します。

| 値 | 定義 |
| --- | --- |
| `self` | Self |
| `system` | システム |
| `salesRef` | 営業担当者 |
| `customerRep` | 顧客担当者 |
