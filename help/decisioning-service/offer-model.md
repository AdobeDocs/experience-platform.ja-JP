---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: オファー判定ドメインモデル
topic: overview
translation-type: tm+mt
source-git-commit: fdaef24a23c1c1da064ca33e8bed522e506fead5

---


# オファー判定ドメインモデルの概要

オファーの判定とは、顧客をオファーに誘導するためのルールや予測を正式に策定し、一元管理する判定サービスの使用事例です。 オファー判定は、コンテンツ判定の一種と _**見なされます**_。 この使用例では、決定オプシ _**ョンは**_ 「 _**オファー**_」と呼ばれ、添付されたコンテンツによって特徴付けられます。 Decisioningサービスで使用されるオブジェクトモデルの紹介については、『Decisioningサービスドメインモデル』を [参照してください](experience-model.md)。

目標は、ターゲット条件、コストと頻度の制約に基づく任意のチャネルでの「最良のオファー」と、提案された以前のオファーを含むチャネル間での以前のインタラクションをエンドユーザーに提示することです。

すべての判定の使用例と同様に、決定オプション(オファー)は、任意の数のアプリケーションで共有されるリポジトリで管理されます。 オファーは、組織の別の部門やパートナーが作成し、毎日そのオファーを追加および削除できます。

オファーは、エクスペリエンスを配信するアプリケーションによって、より大きなエクスペリエンスに視覚的に配置されます。 _**配置は**_、スポットやスロットと呼ばれる場合もあり、戦略を作成するための重要なコンポーネントです。 オファー戦略の設計では、多くの場合、開始の配置の定義を使用します。 通常、オファーには複数のコ _**ンテンツ表現があり**_ 、様々なエクスペリエンスに適切に統合できるようにします。各エクスペリエンスでは、寸法や制約が異なり、様々なメディア形式が必要です。

オファーは、物理的な商品やサービスとの関連性が高く、コストの計算が必要です。 組織は、オファーが消費するオファーを制限できる必要があり、そのため、リソースの提案可能な合計回数を _****_ 、制限できる必要があります。

組織に対する受け入れられたオファーの予測値は最適化基準であり、その予測値は最適化のコストに対してオファーします。 コスト、受け入れの可能性、予測値を使用して、オファーをランク付けします。 最良のオファーは、予測されるポジティブな影響が最も高いオファーアクティビティです。

オファー判定では、エンドユーザーが持つインタラクションを多くのチャネル _****_ やアプリケーションで考慮し、エンドユーザーのプロファイルとエクスペリエンスのイベントデータを利用します。 例えば、コールセンターアプリケーションは、オファーの判定を使用して、エンドユーザーが行った購入やレビューに基づいてオファーを有効または無効にすることができます。また、電子メール管理アプリケーションは、Webサイト上の閲覧履歴に基づいて週刊ニュースレターで「次に最良のオファー」をオファー判定に依存させることができます。

オファーには他にも興味深い性質があります 多くの場合、オファーが有効 _**な場合**_ 、およびオファーを無効にする必要がある場合に、スケジュールまたは日時範囲が定義されています。

最後に、オファーの魅力は、提示頻度で低下する。 繰り返しオファーを提案した後に受け入れられないオファーは、別の提案が提示された可能性があるため、機会を失います。 そのため、エンドユーザの疲労を管理 _**する必要が**_ あります。

## オファー決定戦略の概要

全体的なアプローチは、すべての制約が満たされるまでオファーの選択を絞り込み、残りのオプションにランキングモデルを適用して、キャッピング制約（重複排除とフォールバック選択の回避）を使用して複数のアクティビティに対して最適化します。

| 戦略コンポーネント | 実現形式 |
| --- | --- |
| 決定アクティビティ | オファーアクティビティ |
| 決定オプション | オファーとコンテンツ表現 |
| フォールバックオプション | コンテンツ表示を使用した代替オファー |
| 決定オプションの有限セット | オファーインベントリ(オファーライブラリ) |
| 話題カテゴリ | オファーフィルター(タグとオファーIDに基づく) |
| 決定出力 | 複数のオファーに対するアクティビティあたり1つのアクティビティの提案 |
| 決定の結果 | エクスペリエンスイベントが期待され、オファーを参照している場合(例： `eventType='opened'` |
| 決定アルゴリズム | 内部サービスロジック、パラメータ化 |
| 制約 | 配置制約、カレンダー制約、グローバルおよびユーザー単位の制限、重複除外制約 |
| 決定ルール | 実施要件ルール |
| 期待されるユーテ *ィリティのモデル* | オファーの順位 |

オプションのインベントリに含まれるオファーの総数は、通常は非常に多く（10,000秒の順序で）、各オファーアクティビティは、異なるカテゴリ（トピック）に含まれるオファーに焦点を当てることがあります。 このオファー決定戦略は、オファーフィルタをオファーアクティビティに付加する。 追加の制約は、決定が要求された時点で評価されます。
次の節では、Decisioningドメインのコンポーネントについて詳しくオファー判定ドメインのコンポーネントを説明します。

## 一般オファー

一般的なオファーは、パーソナライズされたオファーとも呼ばれ、オファーの意思決定アクティビティの中心にあるオプションです。 名前やステータスなどの属性を持ちます。 status属性は、エンティティがアクティブな承認済みエンティティのリストに含まれる準備ができているかどうかを示します。 一般オファーには、いくつかの制約が追加されます。 詳しくは、下の「制約」の節を参照して‎く [ださい](#offer-constraints)。

## コンテンツのオファー

### オファー配置

プレースメントは、コンテンツの制約を定義し、アクティビティと共に使用して、次に最高のエクスペリエンスを提供する場所を指定します。 これにより、考慮可能なオプションの数がさらに減り、オプションによって課せられる別の制約がアクティビティされます。 これは配置拘束と呼ばれます。 配置制約に適合するコンテンツ（オプションなど）を持つオファーのみが考慮されます。 これは、決定戦略の初期段階で評価されます。 オプションオブジェクトが変更されると、各アクティビティの配置拘束が再評価され、1つ以上のアクティビティに対してこのオプションが考慮または除外される場合があります。

コンテンツの依存関係の複雑な詳細を正式に作成するのは、Decisioningサービスの責任ではありません。 代わりに、各クライアントはすべてのチャネルにわたる配置のリストを識別し、それらの配置に一意の識別子と名前を付けます。 デザイナーは、特定の配置を参照することで、指定したコンテンツが配置に適合すると主張します。

コンテンツが開発されると、オファーマーケティング担当者とコンテンツデザイナーは、「ホームページのヒーロー画像」または「サービスコールを開くスクリプト」の名前の後ろにある「黙示的な契約」に同意する（同意する必要がある）。 前者は幅600px、高さ350pxの画像として認められ、後者は意味構造を持つ3 ～ 4文の中で50語以下の2つの言語の異形のテキストにコンテンツを制限している場合があります。 非表示の契約のすべての意味を保存しない場合の配置。

### オファー表示域

チャネル内の配置の様々なパラメーターでオファーを適切に表示できるようにするには、そのオファーの様々な表現を作成する必要があります。 プレースメントに添付されるコンテンツは、オファー別にグループ化されます。 各オファーは、1つ以上の表現を持つことができ、これらの各表現は、定義された配置の1つを参照する。 1つのリプレゼンテーション内の各オファーは、異なる配置を使用する必要があります。 表示が多いほど、オファーが異なる配置コンテキストでオファーを使用する機会が多くなります。

配置は、表現に追加できるコンテンツアイテムのタイプを制限します。

## 代替オファー

フォールバックオファーは、配置ルール以外に追加の制約がない決定オプションです。 フォールバックオファーには、他のオファーと同様に、配置に関連付けられたコンテンツ表現が含まれます。

フォールバックオファーは、アクティビティで指定され、組み合わされた制約ですべての絞り込みオプションが無効な場合に、使用できるコンテンツエクスペリエンスを示します。 実行時のコンテキストやプロファイルに依存しないので、配置拘束は、アセンブリのアセンブリ時に事前にチェックできます。アクティビティは、 フォールバックオファーを使用すると、常に質問への回答が表示されます。現在最良のオファーは？

## オファー制約

### カレンダーの制約

オファー判定ドメインでは、オファーに有効期間があります。 つまり、オファーの開始日時が過ぎる前に提案することはできず、終了日時が過ぎた後では提案することはできません。 オファーエンティティは、これらのカレンダー制約を定義する単純な構造を持ちます。

定期的に、期限切れのオファーは、考慮されるオプションのリストから削除されます。 ただし、カレンダーフィルターは、決定が要求された時点で適用され、制約が正確に適用されます。

### キャッピング拘束

オファーには、オプションのキャッピング拘束を設定できます。 2つの値で構成されます。

- グローバル上限値は、オファーセット全体(ターゲットオーディエンス)でプロファイルを提案する頻度を制限します。

- 各プロファイルの上限と、同じオファーに提案できる頻度を決定します。

### 重複制約

決定を求められた場合、クライアントは一度に複数のアクティビティの提案を求めます。 これは、コンテンツの判定の一般的なシナリオです。 各アクティビティは、エクスペリエンス全体に1つ以上のコンテンツオプションを提供します。 組み合わせの面から判断する場合は、重複を避けるために、アクティビティ間で判断を行う必要があります。ただし、各アクティビティがオプションインベントリ全体の別々のサブセットを選択する場合を除きます。 上位のオプションは、すべてのアクティビティで高い順位を付ける可能性が高く、すべてのアクティビティが同じオプションを提案した場合は、経験が乏しくなります。 一方、配信システムがすべてのチャネルで「次に最適なコンバージョン」が何かを知りたがり、制限がない場合は、異なるアクティビティ間で同じオプションを提案しても構いません。

重複制約は、現在、ビジネスオブジェクトリポジトリに書き込まれていません。 実行時のデフォルトの方法は、重複除外です。 リクエストパラメーターは、デフォルトの動作を上書きして、重複除外手順を抑制できます。

### プロファイル制約 —実施要件ルール

これまでのところ、どのユーザに対して選択を行ったかに関係なく、オファーの制約が適用されています。 Experience Decisioningは、顧客のレコードと時系列のイベントに基づいて提案をパーソナライズする使用例もサポートします。 ルールはプロファイルごとに評価され、そのオファーに該当するか、抑制する必要があるかを決定します。 これを行うために、実施要件ルールを各オファーに関連付ける。 エンドユーザーのプロファイルとエクスペリエンスのイベントに加え、実施要件ルールはリアルタイムのコンテキストデータを考慮に入れます。 このデータは配信サービスによって提供され、在庫レベル、気象状況、フライトスケジュールなどのプロファイルに関連しないデータの形式をとることができます。

ターゲット設定とセグメント化ルールを区別し、適格性と優先度のルールを判断することが重要です。 ターゲット設定するプロファイルのセットは、適格性の出力(オーディエンスの選択)です。選択可能なオファーのセットは、評価の出力です。

## オファーコレクション

インベントリとは、判定の対象となるオプションの全体的なプールです。 在庫は、さらにコレクションまたはカテゴリに分けることができます。 オプションのコレクションは、これらのオプションに共通のタグで表されます。 フィルターは、オファーが特定のカテゴリに該当するか、より具体的には同じタグを共有するかをテストするために使用されます。

### タグ

タグを使用すると、オプションのグループが1つのオプションに属していることを表すことができます。カテゴリ

1つのオプションに複数のタグを含めることができるので、複数のカテゴリに同時に含めることができます。 カテゴリは、別の画像と重なったり、別の画像を含んだりすることもできます。 カテゴリ「S」がタグ「A」を有するオファーで定義され、カテゴリ「R」がタグ「A」とタグ「B」の両方のオプションで定義される場合、「S」は「R」のスーパーセットとなる。

### フィルター

フィルターは、オプションに属する一連のオプションの条件を定義するために使用されます。カテゴリ フィルターは、一般クエリの目録に対するオファーと考えられる。 フィルターを作成する基本的な方法は2つあります。オファーに1つ以上のタグが含まれていることを示し、一連のオファーを明示的に選択します。 前者の方法は、コレクション内のオファーが指定したすべてのタグを持つ必要があること、または指定したタグの1つ以上を持つ場合にオプションが適用されることを示すように設定できます。

オプションがコレクションに明示的に配置されている場合、そのコレクションのタグセットは無視されます。

## オファーアクティビティ

アクティビティは、判定プロセスを設定および制御します。 現在、決定方法は主に事前に決定されていますが、今後のオファー決定ドメインモデルの繰り返しで、モデル、追加のルールおよび制約を選択できます。

エクスペリエンスは、複数のエクスペリエンスを同時に使用してアクティビティできます。 現在、1回の判定リクエストで最大30アクティビティに対処できます。 エクスペリエンスの30を超えるアクティビティまたはスロットにコンテンツを入力する必要がある場合、同じプロファイルに対して複数のリクエストを作成できます。 ただし、アクティビティが同じ決定要求に含まれる場合は、それらのオファーの提案間で重複の排除が実行されます。

アクティビティが別々のオファーのセットから選択される方法で定義されている場合、アクティビティが同じリクエストで組み合わされるか、別々のリクエストに分割されるかは、ほとんど変わりません。 ただし、ネットワークと応答の時間の制約により、同じリクエストにアクティビティを組み合わせることが必要になる場合があります。 異なるリクエストが異なるサービスノードにルーティングされる場合があるので、同じプロファイルデータを異なるノードにフェッチする必要がある場合があります。 これにより、他の要求で使用できる有効なI/O帯域幅が削減されます。

アクティビティは、エクスペリエンスにコンテンツを挿入するために使用します。 コンテンツアイテムが正しく「適合」する（保証されない）ことを容易にするため、アクティビティは単一の配置を参照します。 配置は必ずしも具体的な場所/スロットではなく、それらの場所/スロットを抽象化したもののようなものです。 例えば、タイルのグリッドを含むWebページでは、すべてのタイルの形状とサイズが同じで、類似したコンテンツを保持できると仮定して、各タイルを同じ配置で管理できます。 ただし、個々のタイルは通常、独自のタイルで提供されますアクティビティ。

次の図は、ビジネスエンティティが相互にどのように関連しているかを示しています。

![](./images/figure-10.png)

クライアントが決定のためにオブジェクトのグラフを作成し、リンクする場合、通常は3つの異なるワークストリームが存在します。 以下に示します。

- タグや配置などのサポートエンティティの設定 これらのエンティティは、他のエンティティの構造化、フィルタリング、グループ化に使用されます。 また、2番目と3番目のワークフローの間の調整を行うためにも使用されます。 このワークフローは、事前の作業を構成しますが、いつでも設定を調整できます。 タグは比較的簡単ですが、配置の計画はもう少しで済みます。 少なくとも、ビジネスでは、意思決定が行われるすべての場所のインベントリを作成する必要があります。

- 様々な表現とオファールール（制約）を使用してビジネスを作成する。 この中央ワークフローは、最適なものを選択するオプションを提供します。 最初のワークフローのタグはオファーの分類に使用され、配置は表示できるオプションと場所を示すために使用されます。

   - このワークフローは、ワークフローの絶対制約も定義します。オファー これらは絶対的なものです。なぜなら、常に強制され、単に一連のオファーのランキングに影響を与えるのではないからです。 例えば、カレンダー制約が設定されると、オファーは設定開始の日時より前に選択されず、終了日時より後には選択されなくなります。 このワークフローで設定される制約は、カレンダ [ー制約](#calendar-constraints)、上 [限制約](#capping-constraints) 、適 [格性制](#profile-constraints---eligibility-rules)約です。 ここでのサブワークフローは、特定のワークフローを受け取る資格のあるユーザーを決定する追加のルールのオファーです。

      - 拘束が作成されると同時に、そのオファーの表示が選択されます。 このワークフローは、コンテンツが既にどこかで作成済みで、単にコンテンツリポジトリにアップロードされ、コンテンツリポジトリから選択されていることを前提としています。 最初のワークフローの配置がここに表示されます。 オファーは配置を選択し、その配置の下にコンテンツを関連付けること [ができま](#offer-placements)す。

      - 適切なフォールバックオファーを作成することは、このワークフローの最後の手順です。 フォールバックオファーは、制約のない一般的なオファーに非常に似ています。

- 最後のワークフローは、ワークフローの作成に関するアクティビティです。 ただし、この手順は、ワークフローの作成後に必ずしも連続して行われるわけではありません。オファーの作成 両方のプロセスが継続中で、同時に実行されています。 アクティビティは、トピック別、および意思決定が表示される場所別に、オプションの範囲を絞り込むために使用します。 アクティビティは、コレクシ [ョン](#offer-collections) と配置を参照します。 また、適格なオファーを判断で [きない場合](#fallback-offers) 、使用するフォールバックオファーも指定する必要があります。

