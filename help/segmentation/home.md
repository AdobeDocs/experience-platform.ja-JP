---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: Adobe Experience Platform Segmentation Service
topic: overview
translation-type: tm+mt
source-git-commit: a6a1ecd9ce49c0a55e14b0d5479ca7315e332904

---


# セグメント化サービスの概要

Adobe Experience Platform Segmentation Serviceは、セグメントを作成し、リアルタイム顧客プロファイルデータからオーディエンスを生成できるユーザーインターフェイスおよびRESTful APIを提供します。 これらのセグメントは、プラットフォーム上で一元的に設定および管理され、アドビのどのソリューションからでも簡単にアクセスできます。

このドキュメントでは、Segmentation Serviceの概要と、Adobe Experience Platformで果たす役割について説明します。

## Segmentation Serviceの概要

このドキュメント全体で使用される以下の主要用語を理解することが重要です。

- **セグメント**:多数の個人(顧客、見込み客、ユーザーまたは組織など)を、類似の特性を共有し、マーケティング戦略と同様に対応する小さなグループに分割します。
- **セグメント定義**:ルールセットは、ターゲットオーディエンスの主要な特性や動作を記述します。 概念化が完了すると、セグメント定義で説明されているルールを使用して、セグメントの適格なオーディエンスメンバーが決定されます。
- **オーディエンス**:セグメント定義の条件を満たすプロファイルの結果セット。

## セグメントの仕組み

セグメント化とは、プロファイルストアにあるプロファイルのサブセットによって共有される特定の属性や行動を定義し、マーケティング可能な人々のグループを顧客ベースから選別するプロセスです。例えば、「スニーカーを購入し忘れましたか？」という電子メールキャンペーンでは、過去 30 日間にランニングシューズを検索したが購入を完了しなかったすべてのユーザーのオーディエンスが必要な場合があります。

概念的に定義されたセグメントは、エクスペリエンスプラットフォームで構築されます。 セグメントは通常、マーケティング担当者またはオーディエンススペシャリストが作成しますが、一部の組織では、データアナリストとのコラボレーションのためにマーケティング部門が作成することを好みます。 データアナリストは、プラットフォームに送信されるデータを確認する際に、セグメントのルールや条件の作成に使用するフィールドや値を選択することで、セグメント定義を構成します。 これは、UIまたはAPIを使用して行います。

## セグメントの作成

APIを使用して作成する場合でも、セグメントビルダーを使用して作成する場合でも、最終的にはプロファイルクエリ言語(PQL)を使用してセグメントを定義します。 ここで、条件を満たすプロファイルを取得するために構築された言語で概念セグメント定義を説明します。 詳しくは、 [PQLの概要を参照してください](./pql/overview.md)。

セグメントビルダー（Segmentation ServiceのUI実装）でセグメントを作成して使用する方法については、『セグメントビルダー』ガイドを参 [照してください](./ui/overview.md)。

APIを使用したセグメント定義の作成について詳しくは、APIを使用したオーディエンスセグメントの作成に関するチ [ュートリアルを参照してくださ](./tutorials/create-a-segment.md)い。

>[!NOTE] イベントでは、スキーマが拡張され、以降のすべてのアップロードで、新しく追加されたフィールドを適宜更新する必要があります。 エクスペリエンスデータモデル(XDM)のカスタマイズについて詳しくは、 [スキーマエディターのチュートリアルを参照してくださ](../xdm/tutorials/create-schema-ui.md)い。

## セグメントの評価

### ストリーミングセグメント

>[!NOTE] ストリーミングセグメントはベータ版の機能で、ご要望に応じてご利用いただけます。

ストリーミングセグメント化は、継続的なデータ選択プロセスで、ユーザのアクティビティに応じてセグメントを更新します。 セグメントを作成して保存すると、受信データに対してセグメント定義がリアルタイム顧客プロファイルに適用されます。 セグメントの追加と削除は定期的に処理され、ターゲットオーディエンスの関連性が維持されます。

ストリーミングセグメントの詳細については、ストリーミングセグメントのドキュメ [ントを参照してくださ](./api/streaming-segmentation.md)い。

### バッチセグメント

継続的なデータ選択プロセスの代わりに、バッチセグメント化では、セグメント定義を介してすべてのプロファイルデータを一度に移動し、対応するオーディエンスを生成します。 作成したセグメントは保存され、保存されて使用するために書き出すことができます。

セグメントの評価方法については、セグメント評価のチュートリ [アルを参照してくださ](./tutorials/evaluate-a-segment.md)い。

## セグメント結果へのアクセス

書き出したセグメントにアクセスする方法については、「セグメント評価のチュートリ [アル」を参照してくださ](./tutorials/evaluate-a-segment.md)い。

## セグメントメタデータ

セグメントメタデータを使用すると、イベント内でのインデックス作成を容易にし、セグメントの再利用や組み合わせを可能にします。

（APIまたはセグメントビルダーを使用して）セグメントを作成するには、セグメント名を定義し、結合ポリシーを定義する必要があります。

### セグメント名

新しいセグメントを作成する場合は、セグメント名を指定する必要があります。 セグメント名は、Segmentation Serviceで作成されたコレクションの中の特定のセグメントを識別するために使用されます。 したがって、セグメント名は説明的で簡潔で一意である必要があります。

>[!NOTE] セグメントを計画する際、セグメントは他のセグメントから参照したり、他のセグメントと組み合わせたりできます。 名前を選択する際、セグメントに再利用可能な部分が含まれる可能性を考慮してください。

### 結合ポリシー

マージポリシーは、プロファイルがデータの優先順位付けを行い、特定の条件下で統合表示に組み込む方法を決定するために使用するルールです。
マージポリシーを定義しない場合は、デフォルトのプラットフォームマージポリシーが使用されます。 組織に固有の結合ポリシーを使用する場合は、独自の結合ポリシーを作成し、組織のデフォルトとしてマークすることができます。

>[!NOTE] オーディエンスのサイズの推定は、組織の既定のプロファイル結合ポリシーに基づきます。

### その他のセグメントメタデータ

セグメント名と結合ポリシーに加えて、セグメントビルダーには、セグメント定義の目的を要約できる追加の「セグメントの説明」メタデータフィールドがオファーされます。

## アドバンスセグメント機能

セグメントは、ストリーミングデータの取り込みと次の高度なセグメント機能のいずれかを組み合わせ [ることで](../ingestion/streaming-ingestion/overview.md) 、継続的にオーディエンスを生成するように設定できます。
- [順次セグメント](#sequential)
- [動的分類](#dynamic)
- [マルチエンティティセグメント](#multi-entity)

これらの高度な機能については、以降の節で詳しく説明します。

## 順次セグメント {#sequential}

標準的なユーザーの遍歴は、本質的には順次的です。  Adobe Experience Platformを使用すると、一連のセグメントを定義してこの遍歴を反映させ、発生したイベントのシーケンスを捕捉できます。 セグメントビルダーのイベントの表示タイムラインを使用して、イベントを希望の順序に並べ替えることができます。

順次セグメント化を必要とする顧客の遍歴の例としては、製品表示/製品追加/チェックアウト/購入なしがあります。

## 動的分類 {#dynamic}

動的セグメント化は、マーケティング担当者がマーケティングキャンペーンのセグメントを作成する際に従来直面していた拡張性の問題を解決します。

すべての使用例を明示的に繰り返しキャプチャする必要がある静的セグメントとは異なり、動的セグメントでは変数を使用してルールロジックを作成し、関係を動的に表現します。

### 使用例：自宅以外で購入を行う顧客を探す

この高度なセグメント機能の価値を理解するために、データアーキテクトとマーケティング担当者の協力を得て、自宅以外で購入した顧客を特定します。

**問題**

静的セグメント化では、購入イベントをホームの状態と等しくない購入セグメントに対してフィルタリングする前に、一意のホームの状態属性を持つ個々のセグメントを定義する必要があります。 このタイプの明示的なセグメントは、「ユタ州の購入の状態がユタではない人を探しています」と読みます。 この方法を使用してオーディエンスを作成するには、米国の州ごとに1つのセグメントを定義し、合計50個のセグメントを定義する必要があります。

拡張時に必然的に発生する様々なセグメントの組み合わせの結果、静的セグメント化に必要な手動のプロセスは時間がかかり、全体の効率が低下します。

**解決策**

動的セグメントでは、購入状態属性に変数を割り当てることで、「購入の状態が顧客の自宅の状態と異なる購入を見つける」ことが簡単になります。 これにより、50個の静的セグメントを単一の動的セグメントに統合できます。

## マルチエンティティセグメント {#multi-entity}

高度なマルチエンティティセグメント化機能を使用すると、複数のXDMクラスを使用してセグメントを作成し、個人のスキーマに拡張を追加できます。 その結果、Segmentation Serviceは、セグメントの定義中に、データストアにネイティブであるかのように追加のフィールドにプロファイルできます。

複数エンティティのセグメント化は、ビジネスニーズに関連するデータに基づいてオーディエンスを特定するために必要な柔軟性を提供します。 このプロセスは、データベースのクエリーに関する専門知識を必要とせずに、すばやく簡単に実行できます。 これにより、データストリームに高コストの変更を加えたり、バックエンドのデータ結合を待つ必要がなく、セグメントに主要なデータを追加できます。

### 使用例：価格主導型プロモーション

この高度なセグメント機能の価値を理解するために、マーケティング担当者と連携するデータアーキテクトを検討します。

この例では、データアーキテクトは、個人(XDM IndividualプロファイルとXDM ExperienceEventを基本クラスとするスキーマで構成される)のデータを、キーを使用して別のクラスに結合します。 結合後、データアーキテクトまたはマーケティング担当者は、セグメント定義時に、これらの新しいフィールドを基本クラスのスキーマと同様に使用できます。

**問題**

データアーキテクトとマーケティング担当者は、どちらも同じ衣料品店で働きます。 その小売店は、北米全域で1,000以上の店舗を持ち、ライフサイクル全体を通じて定期的に製品価格を引き下げます。 その結果、マーケティング担当者は、買い物客が買い物をしたときに、割引価格で買い物をする機会を得るための特別なキャンペーンを行うことを希望しています。

データアーキテクトのリソースには、顧客の閲覧からのWebデータへのアクセス、および製品のSKU識別子を含む買い物かごへの追加データへのアクセスが含まれます。 また、別の「products」クラスにアクセスし、追加の製品情報（製品価格を含む）が保存されます。 このガイダンスは、過去14日間に製品を買い物かごに追加したが、その商品を購入しなかった顧客の価格が下がった場合に焦点を当てることです。

**解決策**

>[!NOTE] この例では、データアーキテクトが既にID名前空間を確立しているとします。

データアーキテクトはAPIを使用して、ExperienceEventスキーマのキーを「products」クラスに関連付けます。 これにより、データアーキテクトは、ExperienceEventクラスにネイティブな場合と同様に、「products」クラスの追加フィールドを使用できます。スキーマ 設定作業の最後の手順として、データアーキテクトは、適切なデータをリアルタイム顧客プロファイルに取り込む必要があります。 これを行うには、プロファイルで使用する「products」データセットを有効にします。 設定作業が完了すると、データアーキテクトまたはマーケティング担当者がセグメントビルダーでターゲットセグメントを作成できます。

XDMクラス間の関 [係を定義する方法については](../xdm/schema/composition.md#union) 、スキーマ構成の概要を参照してください。

<!-- ## Personalization payload

Segments can now carry a payload of contextual details to enable deep personalization of Adobe Solutions as well as external non-Adobe applications. These payloads can be added while defining your target segment.

With contextual data built into the segment itself, this advanced Segmentation Service feature allows you to better connect with your customer.

Segment Payload helps you answer questions surrounding your customer’s frame of reference such as:
- What: What product was purchased? What product should be recommended next?
- When: At what time and date did the purchase occur?
- Where: In which store or city did the customer make their purchase?

While this solution does not change the binary nature of segment membership, it does add additional context to each profile through an associated segment membership object. Each segment membership object has the capacity to include three kinds of contextual data:

- **Identifier**: this is the ID for the segment 
- **Attributes**: this would include information about the segment ID such as last qualification time, XDM version, status and so on.
- **Event data**: Specific aspects of experience events which resulted in the profile qualifying for the segment

Adding this specific data to the segment itself allows execution engines to personalize the experience for the customers in their target audience. -->

### 使用例

この高度なセグメント機能の価値を説明するために、セグメントペイロードの機能強化の前にマーケティングアプリケーションに存在していた課題を示す3つの標準的な使用例を検討します。
- 電子メールのパーソナライゼーション
- 電子メールの再ターゲット設定
- 広告の再ターゲット設定

**電子メールのパーソナライゼーション**

電子メールキャンペーンを作成したマーケティング担当者が、過去3か月間の最近の顧客ストアでの購入を使用して、ターゲットオーディエンスのセグメントを作成しようとした可能性があります。 このセグメントには、商品名と、購入が行われたストアの名前の両方が必要であるのが理想的です。 機能強化の前は、購入イベントからストアIDを取り込み、それをその顧客のプロファイルに割り当てていました。

**電子メールの再ターゲット設定**

多くの場合、「買い物かごの放棄」をターゲットとする電子メールキャンペーンのセグメントを作成し、資格を得るのは複雑です。 この機能強化の前は、必要なデータが利用できるため、パーソナライズされたメッセージに含める製品を把握するのは困難でした。 製品が破棄されたデータは、以前はデータの監視と抽出が困難だったイベントエクスペリエンスと結び付けられます。

**広告の再ターゲット設定**

マーケターにとって、従来の課題の1つは、買い物かご品目を破棄した顧客を再ターゲットにする広告を作成することです。 セグメント定義はこの課題に取り組みましたが、機能強化の前は、購入した製品と破棄した製品を区別する正式な方法はありませんでした。 セグメントの定義中に、特定のターゲットセットを定義できるようになりました。

## Segmentation Serviceのデータタイプ

すべてのXDMデータ型はSegmentation Service内でサポートされています。 セグメント定義を構成するルールは、次のデータタイプによってコンテキスト化されます。

### 文字列データ

セグメント定義では、文字列データを使用して、「国名」や「忠誠度のプログラムレベル」など、セグメントオーディエンスの数値以外の制約を定義します。

文字列データは、論理文、包含/排他文、比較文を使用して、セグメント定義に含まれます。 文字列属性をセグメント定義に追加したら、文字列に関連するステートメントを使用して、他の文字列フィールドと比較して評価できます。

| 明細のタイプ | 例 |
| -------------- | -------- |
| 論理 | そして、または、 |
| 包括的/排他的 | 含む、存在する、除外する、存在しない |
| 比較 | 等しい、等しくない、次を含む、次の値を持つ開始 |


### 日付データ

日付データを使用すると、特定の開始/終了日を使用するか、以下の表に示す日付関連のステートメントを使用して、時間ベースのコンテキストをセグメント定義に割り当てることができます。 1つの実装では、今年いつでもブランドとの関わりを持ち、過去数日間 *も活動して* いる顧客のオーディエンスを作 *成しています* 。

| フィールドの例 | 日付に関連するステートメント | タイムライン |
| ------------- | ------------------------ | --------- |
| person.firstPurchase | 今日、昨日、今月、今年 | セグメントが作成された日に関連します。 |
| person.lastPurchase | 最後に、中、前、後、中 | 任意の週/月内に関連。 |

### エクスペリエンスイベント

XDM ExperienceEventsは、Adobe Experience Platformスキーマとして、顧客がPlatform統合アプリケーションを使用して明示的で暗黙的な操作を記録します。これには、操作が行われた時点のシステムのスナップショットが含まれます。 ExperienceEventsはファクトレコードです。 したがって、セグメント定義時に使用できるデータソースとなります。

次の表に示すように、イベントデータは、キーワードを使用してレンダリングされ、イベントの動作を絞り込み、イベント属性を指定します。

| キーワード | 使用方法 |
| ------- | --- |
| 含む/除外する | データの組み込みまたはイベントの省略によるデータの動作を示します。 |
| 任意/すべて | 条件を満たすセグメントの数の判断に役立ちます。 |
| 「タイムルールの適用」切り替えボタン | 日付データを組み込みます。 |
| 等しい、等しくない、開始、開始なし、次で終わる、次で終わらない、次を含む、次を含まない、次を含まない、次を含まない、次を含まない、存在しない | 文字列データを組み込みます。 |

### セグメント

既存のセグメント定義は、新しいセグメント定義のコンポーネントとして使用し、新しいセグメントに属性とイベントに基づくルールを追加することもできます。

### Audiences

外部オーディエンスは、新しいセグメント定義のコンポーネントとして使用し、新しいセグメントに属性ルールを追加することもできます。

現在、Adobeオーディエンスマネージャーのみがオーディエンスとしてサポートされます。 今後、追加のソースが有効になる予定です。

### その他のデータ型

上記に加えて、サポートされるデータタイプのリストには次のものも含まれます。
- 文字列
- Uniformリソース識別子
- 列挙
- 数値
- ロング
- 整数
- 短い
- バイト
- Boolean
- 日付
- 日時
- 配列
- オブジェクト
- マップ
- イベント

## 次の手順

セグメント化サービスは、リアルタイム顧客データからセグメントを作成するための統合されたプロファイルを提供します。 まとめ：

- セグメント化は、プロファイルストアからプロファイルのサブセットを定義するプロセスで、目的のマーケティング可能なグループの行動や属性を特定できます。 Segmentation Serviceを使用すると、このプロセスが可能になります。
- セグメントを計画する際は、セグメントを他のセグメントから参照し、他のセグメントと組み合わせることができます。
- セグメントは、プロファイルデータ、関連する時系列データ、またはその両方に基づくルールから作成できます。
- セグメントは、オンデマンドで評価することも、継続的に評価することもできます。 オンデマンドで評価されると、すべてのプロファイルデータがセグメント定義を一度に通過します。 データが継続的に評価される場合、データは、プラットフォームに入るに従ってセグメント定義を通じてストリーミングされます。

UIでセグメントを定義する方法については、『セグメントビルダ』ガイドを [参照してください](./ui/overview.md)。 APIを使用したセグメント定義の作成について詳しくは、APIを使用したセグメントの作成に関するチ [ュートリアルを参照してくださ](./tutorials/create-a-segment.md)い。