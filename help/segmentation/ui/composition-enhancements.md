---
title: オーディエンス構成の機能強化
description: オーディエンスのエンリッチメントと迅速なアクティベーションを備えたオーディエンスコンポジションに加えられた機能強化について説明します。
hide: true
hidefromtoc: true
source-git-commit: 42e639b403edbaf666d8bc21eb35b2b75530d6b0
workflow-type: tm+mt
source-wordcount: '470'
ht-degree: 0%

---


# オーディエンス構成の機能強化

これで、オーディエンス構成の **2** 拡張機能にアクセスできるようになりました。

- [オーディエンスの強化](#audience-enrichment)
- [アクティベーションの高速化](#faster-activation)

## オーディエンスの強化 {#audience-enrichment}

オーディエンスのエンリッチメントにより、値の配列を出力して、作成したオーディエンスにプロファイルを適合させることができます。

コンポジションにオーディエンスのエンリッチメントを追加するには、キャンバス内の最上位の **[!UICONTROL Audience]** ブロックを選択します。 オーディエンスに名前を付けた後、「**[!UICONTROL Build rule]**」を選択してルールビルダーキャンバスを開きます。

![ オーディエンスブロックがハイライト表示され、「ルールを作成」ボタンも表示されています。](/help/segmentation/images/ui/composition-enhancements/select-build-rule.png)

ルールビルダーキャンバスが表示されます。 オーディエンスのエンリッチメントのフィルター条件を作成できるようになりました。 このフィルター条件には **必ず** 配列内の属性を含めます。 配列である属性は、組織のスキーマ構造によって異なります。 フィルター条件を作成したら、右側のパネル内で「**[!UICONTROL Delivery]**」を選択します。

![ ルールビルダーキャンバスは、エンリッチメントを許可するオーディエンスの例を示しています。 「配信」ボタンもハイライト表示されます。](/help/segmentation/images/ui/composition-enhancements/view-delivery.png)

エンリッチメントに使用するオブジェクト配列を左パネルのリストから選択します。 プロファイル上に配列が 1 つしかない場合は、その配列が自動的に選択されます。 「**[!UICONTROL Save]**」を選択すると、オーディエンス構成に戻ります。

<!-- , as well as the fields you want to be used in the enrichment. -->

![ エンリッチメントツリーのスキーマツリーが表示されます。](/help/segmentation/images/ui/composition-enhancements/view-schema-tree.png)

オーディエンス構成内で、[!UICONTROL Audience] ブロックは「[!UICONTROL Rule builder with enhancement]」タイプになりました。 次の日別バッチでオーディエンスをアクティベートするには、「**[!UICONTROL Publish]**」を選択します。

![ オーディエンス ブロックがハイライト表示され、エンリッチメントを含むオーディエンスが追加されたことを示しています。](/help/segmentation/images/ui/composition-enhancements/rule-builder-with-enrichment.png)

### 動作の詳細とガードレール

オーディエンスのエンリッチメントを使用する際は、次の詳細とガードレールに留意してください。

- オーディエンスエンリッチメントは、オーディエンスコンポジションで作成されたオーディエンス内でのみ使用できます
- コンポジション内で使用される最初のブロック **必須** は、ルールベースのオーディエンスです。
- コンポジション内で他の操作を使用することは **できません**。
- 公開後は、ルールベースのオーディエンスに対してコンポジションを編集 **できません**。

   - ベース *コンポジションまたはルールベースのオーディエンスを変更する場合は* コンポジションをドラフトにコピーしてドラフトを編集できます。

- 単一のオーディエンス内でエンリッチメントペイロードを生成するために使用できるのは **one** オブジェクト配列のみです

   - ペイロード配列はオブジェクト内にネストできますが（プロファイルスキーマ内の最大 7 つのレイヤー）、別の配列に含めること **できません**。
   - ペイロード配列の行数は 50 行以下 **する必要があります**。
   - ペイロード内で出力されるすべての列は **プリミティブ型である必要があります**。
   - 配列の最初の **20** 列のみが出力されます。

- 現時点で使用できるオーディエンスコンポジションは **10** のみです

## アクティベーションの高速化 {#faster-activation}

アクティベーションを高速化すると、コンポジションが評価された直後に、ダウンストリームの宛先に対してオーディエンスをアクティブ化できます。 その結果、宛先がセグメント評価後にアクティベートするように設定されている場合、評価ジョブが終了するまで 24 時間待つ必要がなくなりました。

詳しくは、[ バッチプロファイル宛先に対するオーディエンスのアクティブ化ガイド ](/help/destinations/ui/activate-batch-profile-destinations.md#export-full-files) を参照してください。
