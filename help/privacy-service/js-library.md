---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: アドビプライバシーJavaScriptライブラリの概要
topic: overview
translation-type: tm+mt
source-git-commit: 3b916ac5529db6ca383bf8bad56961bb1b8a0b0c

---


# アドビプライバシーJavaScriptライブラリの概要

データプロセッサーとして、アドビでは、お客様の許可と指示に従って個人会社を処理します。 データ管理者であるお客様は、アドビに処理および保管を委任する個人データを決めます。Adobe Experience Cloudソリューションを通じて送信する情報に応じて、アドビは、General Data Protection Regulation(GDPR)やCalifornia Consumer Privacy Act(CCPA)などのプライバシー規制に適用される個人情報を保存できます。 Experience Cloudソリューションがプライベ [ートデータを収集する方法について詳しくは、Adobe Experience Cloudのプライバシーに関するドキュメント](https://www.adobe.com/privacy/marketing-cloud.html) （英語）を参照してください。

データコ **ントローラーは** 、AdobeプライバシーJavaScriptライブラリを使用して、特定のドメインに対してExperience Cloudソリューションで生成されたすべてのデータの件名のIDを取得できます。 これらのIDは、 [Adobe Experience Platformプライバシーサービスが提供するAPIを使用して](home.md)、データサブジェクトに属するプライベートデータに対するアクセスおよび削除のリクエストを作成する際に使用できます。

>[!NOTE] プライバシーJSライブラリは、通常、プライバシー関連のページにのみインストールする必要があり、Webサイトやドメインのすべてのページにインストールする必要はありません。

## 関数

プライバシーJSライブラリは、プライバシーサービスでIDを管理するための機能をいくつか提供します。 これらの関数は、特定のブラウザー用にブラウザーに保存されるIDの管理にのみ使用できます。訪問者 Experience Cloud Central Serviceに情報を直接送信するために使用することはできません。

次の表に、ライブラリが提供する様々な機能の概要を示します。

| 関数 | 説明 |
| --- | --- |
| `retrieveIdentities` | プライバシーサービスから取得した一致するID(`validIds`)と、見つからなかったIDの配列(`failedIds`)を返します。 |
| `removeIdentities` | 一致する（有効な）各IDをブラウザーから削除します。 一致するID(`validIds`)の配列を返します。各IDには、このIDが削除さ `isDeleteClientSide` れたかどうかを示すブール値が含まれます。 |
| `retrieveThenRemoveIdentities` | 一致するIDの配列(`validIds`)を取得し、ブラウザーからそれらのIDを削除します。 この関数はと似ていますが、削除が可能な場合（削除要求で提供する前に一意の識別子を取得する必要がある場合など）に、使用するAdobeソリューションでアクセス要求が必要な場合に最も適しています。 `removeIdentities` |

>[!NOTE] また、ブ `removeIdentities``retrieveThenRemoveIdentities` ラウザーからIDを削除するのは、IDをサポートする特定のアドビソリューションのIDのみです。 例えば、Adobeオーディエンスマネージャーではサードパーティcookieに保存されているdemdex IDは削除せず、アドビのターゲットではIDを保存しているすべてのcookieが削除されます。

3つの関数はすべて非同期プロセスを表すので、取得したIDはコールバックまたはプロミスを使用して処理する必要があります。


## 設置

プライバシーJSライブラリを使用して開始を行うには、次のいずれかの方法を使用して、コンピューターにインストールする必要があります。

* 次のコマンドを実行して、npmを使用してインストールします。 `npm install @adobe/adobe-privacy`
* Adobe Launch Extensionを `AdobePrivacy`
* https://github.com/Adobe-Marketing-Cloud/adobe-privacyからダウンロ [ード](https://github.com/Adobe-Marketing-Cloud/adobe-privacy)

## プライバシーJSライブラリのインスタンス化

プライバシーJSライブラリを利用するすべてのアプリでは、新しいオブジェクトをインスタンス化する必要があ `AdobePrivacy` ります。このオブジェクトは、特定のアドビソリューションに設定する必要があります。 例えば、Adobe Analyticsのインスタンス化は次のようになります。

```js
var adobePrivacy = new AdobePrivacy({
    imsOrgID: "{IMS_ORG}",
    key: "{DATA_SUBJECT_ID}",
    reportSuite: "{REPORT_SUITE_ID}",
    trackingServer: "{SERVER_URL}",
    clientCode: "{TARGET_CLIENT_CODE}"
});
```

様々なアドビソリューションでサポートされるリストの完全なパラメーターについては、サポートされるアドビソリューション設定パラメーターに関する付録 [の節を参照してくださ](#adobe-solution-configuration-parameters)い。

## コードサンプル

LaunchまたはDTMを使用していない場合を除き、次のコードサンプルで、いくつかの一般的なシナリオでプライバシーJSライブラリを使用する方法を示します。

### Retrieve identities

この例は、Experience CloudからIDのリストを取得する方法を示します。

#### JavaScript

次のコードは、で取得したIDを `handleRetrievedIDs`処理するコールバックまたは約束として使用する関数を定義しま `retrieveIdentities`す。

```javascript
function handleRetrievedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.retrieveIdentities(handleRetrievedIDs);

// If using promises:
adobePrivacy.retrieveIdentities().then(handleRetrievedIDs);
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべてのIDを含むJSONオブジェクト。 |
| `failedIDs` | プライバシーサービスから取得されなかった、または見つからなかったすべてのIDを含むJSONオブジェクト。 |

#### 結果

コードが正常に実行された場合は、取 `validIDs` 得したIDのリストが入力されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543"
},
{
    "company": "adobe",
    "namespace": "gsurfer_id",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao"
}
```

### Remove identities

この例は、ブラウザーからIDのリストを削除する方法を示します。

#### JavaScript

次のコードは、がブラウザーから削除さ `handleRemovedIDs`れた後に取得したIDを処理するコールバックまたは約束として使用する `removeIdentities` 関数を定義します。

```javascript
function handleRemovedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.removeIdentities(handleRemovedIDs);

// If using promises:
adobePrivacy.removeIdentities().then(handleRemovedIDs)…
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべてのIDを含むJSONオブジェクト。 |
| `failedIDs` | プライバシーサービスから取得されなかった、または見つからなかったすべてのIDを含むJSONオブジェクト。 |

#### 結果

コードが正常に実行された場合は、取 `validIDs` 得したIDのリストが入力されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543",
    "isDeletedClientSide": false
},
{
    "company": "adobe",
    "namespace": "AMO",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao",
    "isDeletedClientSide": true
}
```

## 次の手順

このドキュメントを読むと、プライバシーJSライブラリのコア機能が紹介されます。 ライブラリを使用してIDのリストを取得した後、これらのIDを使用して、プライバシーサービスAPIへのデータアクセスを作成したり、リクエストを削除したりできます。 詳しくは、「 [Privacy Service Developer Guide](api/getting-started.md) 」を参照してください。

## 付録

ここでは、プライバシーJSライブラリの使用に関する補足情報を説明します。

### アドビのソリューション設定パラメーター

次に、AdobePrivacyオブジェクトをインスタンス化する際に使用される、サポートされるAdobeソリューションで受け入れら [れる設定パラメーターを示します](#instantiate-the-privacy-js-library)。

**Adobe Analytics**

| パラメーター | 説明 |
| --- | --- |
| `cookieDomainPeriods` | cookie追跡用のドメイン内のピリオド数（デフォルトは2）。 |
| `dataCenter` | アドビのデータ収集データセンター。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 次の値が考えられます。 <ul><li>&quot;d1&quot;:サンノゼデータセンター。</li><li>&quot;d2&quot;:ダラスデータセンター。</li></ul> |
| `reportSuite` | JavaScript Webビーコンで指定されたレポートスイートID（「s_code.js」や「dtm」など）。 |
| `trackingServer` | データ収集ドメイン（SSL以外）。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |
| `trackingServerSecure` | データ収集ドメイン(SSL)。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |
| `visitorNamespace` | 名前空間のグループ化に使用される訪問者。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |

**Adobe Target**

| パラメーター | 説明 |
| --- | --- |
| `clientCode` | アドビシステムでクライアントを識別するターゲットコード。 |

**Adobe Audience Manager**

| パラメーター | 説明 |
| --- | --- |
| `aamUUIDCookieName` | Adobe User Managerから返された一意のユーザーIDを含むファーストパーティCookieのオーディエンス名。 |

**Adobe IDサービス(ECID)**

| パラメーター | 説明 |
| --- | --- |
| `imsOrgID` | IMS組織ID。 |