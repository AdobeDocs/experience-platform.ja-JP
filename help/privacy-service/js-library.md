---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: アドビのプライバシー JavaScript ライブラリの概要
topic: overview
translation-type: tm+mt
source-git-commit: 6d706b33573e88b2f1ea9d386928dcfdb089a9c5
workflow-type: tm+mt
source-wordcount: '922'
ht-degree: 72%

---


# アドビのプライバシー JavaScript ライブラリの概要

アドビは、データプロセッサーとして、お客様の許可と指示に従って個人データを処理します。データ管理者であるお客様は、アドビに処理および保管を委任する個人データを決めます。Depending on the information you choose to send through Adobe Experience Cloud solutions, Adobe can store private information applicable to privacy regulations such as the [!DNL General Data Protection Regulation] (GDPR) and [!DNL California Consumer Privacy Act] (CCPA). Experience Cloud ソリューションによる個人データの収集について詳しくは、[Adobe Experience Cloud のプライバシー](https://www.adobe.com/jp/privacy/experience-cloud.html)に関するドキュメントを参照してください。

データ管理者は、**アドビのプライバシー JavaScript ライブラリ**&#x200B;を使用して、特定のドメインについて ソリューションで生成されたすべてのデータサブジェクトの ID を自動的に取得できます。[!DNL Experience Cloud][Adobe Experience Platform Privacy Service](home.md) が提供する API では、これらの ID を使用して、データサブジェクトに属する個人データへのアクセスリクエストと削除リクエストを作成できます。

>[!NOTE]
>
>The [!DNL Privacy JS Library] typically only needs to be installed on privacy-related pages, and is not required to be installed on all pages of a website or domain.

## 関数

に [!DNL Privacy JS Library] は、でIDを管理するための機能がいくつか用意されて [!DNL Privacy Service]います。 これらの関数は、ブラウザーに保存されている、特定の訪問者の ID を管理する場合にのみ使用できます。They cannot be used to submit information to the [!DNL Experience Cloud Central Service] directly.

次の表に、ライブラリが提供する様々な関数の概要を示します。

| 関数 | 説明 |
| --- | --- |
| `retrieveIdentities` | Returns an array of matching identities (`validIds`) that were retrieved from [!DNL Privacy Service], as well as an array of identities that were not found (`failedIds`). |
| `removeIdentities` | 一致する（有効な）各 ID をブラウザーから削除します。一致する ID の配列（`validIds`）を返します。各 ID には、この ID が削除されたかどうかを示す `isDeletedClientSide` ブール値が含まれます。 |
| `retrieveThenRemoveIdentities` | 一致する ID の配列（`validIds`）を取得し、ブラウザーからそれらの ID を削除します。この関数は `removeIdentities` に似ていますが、削除の前に、使用中の Adobe ソリューションでアクセス要求を実行する必要がある場合（削除リクエストに指定する固有の ID を取得する必要がある場合など）に最も適しています。 |

>[!NOTE]
>
>`removeIdentities` と `retrieveThenRemoveIdentities` では、これらをサポートする特定のアドビソリューションのブラウザーから ID が削除されるだけです。例えば、Adobe Audience Manager では、サードパーティの Cookie に保存されている demdex ID は削除されませんが、Adobe Target では ID を保存しているすべての cookie が削除されます。

これら 3 つの関数はすべて非同期プロセスを表すので、取得した ID はコールバックまたは promise を使用して処理する必要があります。


## インストール

To start using the [!DNL Privacy JS Library], you must install it onto your machine using one of the following methods:

* `npm install @adobe/adobe-privacy` コマンドを実行して、npm を使用してインストールする。
* Adobe Launch の拡張機能を `AdobePrivacy` という名前で使用する
* [Experience CloudGitHubリポジトリからダウンロード](https://github.com/Adobe-Marketing-Cloud/adobe-privacy)

## をインスタンス化する [!DNL Privacy JS Library]

All apps that utilize the [!DNL Privacy JS Library] must instantiate a new `AdobePrivacy` object, which must be configured to a specific Adobe solution. 例えば、Adobe Analytics でインスタンス化する場合は、次のようになります。

```js
var adobePrivacy = new AdobePrivacy({
    imsOrgID: "{IMS_ORG}",
    reportSuite: "{REPORT_SUITE_ID}",
    trackingServer: "{SERVER_URL}",
    clientCode: "{TARGET_CLIENT_CODE}"
});
```

様々なアドビソリューションのためにサポートされている全パラメーターのリストについては、付録の、サポートされている[アドビソリューションの設定パラメーター](#adobe-solution-configuration-parameters)に関する節を参照してください。

## コードサンプル

The following code samples demonstrate how to use the [!DNL Privacy JS Library] for several common scenarios, provided that you are not using [!DNL Launch] or DTM.

### ID の取得

This example demonstrates how to retrieve a list of identities from [!DNL Experience Cloud].

#### JavaScript

次のコードは、関数 `handleRetrievedIDs` を定義します。これは、`retrieveIdentities` で取得された ID を処理するコールバックまたは promise として使用されます。

```javascript
function handleRetrievedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.retrieveIdentities(handleRetrievedIDs);

// If using promises:
adobePrivacy.retrieveIdentities().then(handleRetrievedIDs);
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべての ID を含む JSON オブジェクト。 |
| `failedIDs` | A JSON object containing all the IDs that were not retrieved from [!DNL Privacy Service], or otherwise could not be found. |

#### 結果

コードが正常に実行された場合は、取得された ID のリストが `validIDs` に表示されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543"
},
{
    "company": "adobe",
    "namespace": "gsurfer_id",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao"
}
```

### ID の削除

この例では、ブラウザーから ID のリストを削除する方法を示しています。

#### JavaScript

次のコードは、関数 `handleRemovedIDs` を定義します。これは、ブラウザーから削除された後に、`removeIdentities` で取得された ID を処理するコールバックまたは promise として使用されます。

```javascript
function handleRemovedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.removeIdentities(handleRemovedIDs);

// If using promises:
adobePrivacy.removeIdentities().then(handleRemovedIDs)…
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべての ID を含む JSON オブジェクト。 |
| `failedIDs` | A JSON object containing all the IDs that were not retrieved from [!DNL Privacy Service], or otherwise could not be found. |

#### 結果

コードが正常に実行された場合は、取得された ID のリストが `validIDs` に表示されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543",
    "isDeletedClientSide": false
},
{
    "company": "adobe",
    "namespace": "AMO",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao",
    "isDeletedClientSide": true
}
```

## 次の手順

By reading this document, you have been introduced to the core functionalities of the [!DNL Privacy JS Library]. After using the library to retrieve a list of identities, you can use those identities to create data access and delete requests to the [!DNL Privacy Service] API. 詳しくは、「[Privacy Service developer guide](api/getting-started.md)」を参照してください。

## 付録

This section contains supplemental information for using the [!DNL Privacy JS Library].

### アドビソリューションの設定パラメーター

次のリストは、サポートされているアドビソリューションで受け入れ可能な、[AdobePrivacy オブジェクトのインスタンス化](#instantiate-the-privacy-js-library)に使用される設定パラメーターを示しています。

**Adobe Analytics**

| パラメーター | 説明 |
| --- | --- |
| `cookieDomainPeriods` | cookie 追跡用のドメイン内のピリオド数（デフォルトは 2）。 |
| `dataCenter` | アドビのデータ収集データセンター。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。設定可能な値は次のとおりです。 <ul><li>d1：サンノゼデータセンター</li><li>d2：ダラスデータセンター</li></ul> |
| `reportSuite` | JavaScript Web ビーコンで指定されたレポートスイート ID（「s_code.js」や「dtm」など）。 |
| `trackingServer` | データ収集ドメイン（非 SSL）。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |
| `trackingServerSecure` | データ収集ドメイン（SSL）。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |
| `visitorNamespace` | 訪問者のグループ化に使用される名前空間。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |

**Adobe Target**

| パラメーター | 説明 |
| --- | --- |
| `clientCode` | Adobe Target システムでクライアントを識別するクライアントコード。 |

**Adobe Audience Manager**

| パラメーター | 説明 |
| --- | --- |
| `aamUUIDCookieName` | Adobe Audience Manager から返された一意のユーザー ID を含むファーストパーティ Cookie の名前。 |

**Adobe ID サービス（ECID）**

| パラメーター | 説明 |
| --- | --- |
| `imsOrgID` | IMS 組織 ID。 |