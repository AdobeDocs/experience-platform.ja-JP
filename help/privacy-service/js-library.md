---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: アドビプライバシーJavaScriptライブラリの概要
topic: overview
translation-type: tm+mt
source-git-commit: 5b32c1955fac4f137ba44e8189376c81cdbbfc40
workflow-type: tm+mt
source-wordcount: '921'
ht-degree: 6%

---


# アドビプライバシーJavaScriptライブラリの概要

Adobeは、データ処理装置として、会社の権限および指示に従って個人データを処理します。 データ管理者であるお客様は、アドビに処理および保管を委任する個人データを決めます。Adobe Experience Cloudソリューションで送信する情報に応じて、アドビは、(GDPR)や [!DNL General Data Protection Regulation] (CCPA)などのプライバシー規制に適用される個人情報を保存でき [!DNL California Consumer Privacy Act] ます。 Experience Cloudソリューションがプライベートデータを収集する方法について詳しくは、Adobe Experience Cloud [での](https://www.adobe.com/privacy/marketing-cloud.html) プライバシーに関するドキュメントを参照してください。

データコントローラーは、 **AdobeプライバシーJavaScriptライブラリ** (JavaScriptライブラリ [!DNL Experience Cloud] )を使用して、特定のドメインのソリューションで生成されたすべてのデータ件名IDの取得を自動化できます。 その後、 [Adobe Experience Platform Privacy Serviceが提供するAPIを使用して](home.md)、これらのIDを使用して、データサブジェクトに属するプライベートデータに対するアクセス要求や削除要求を作成できます。

>[!NOTE]
>
>通常は、プライバシー関連のページにのみインストールする [!DNL Privacy JS Library] 必要があり、Webサイトまたはドメインのすべてのページにインストールする必要はありません。

## 関数

に [!DNL Privacy JS Library] は、でIDを管理するための機能がいくつか用意されて [!DNL Privacy Service]います。 これらの関数は、特定の訪問者用にブラウザーに保存されているIDの管理にのみ使用できます。 情報を [!DNL Experience Cloud Central Service] 直接に送信する場合は使用できません。

次の表に、ライブラリが提供する様々な機能の概要を示します。

| 関数 | 説明 |
| --- | --- |
| `retrieveIdentities` | 検出されたID(`validIds`)と、見つからなかったID( [!DNL Privacy Service]`failedIds`)の配列を返します。 |
| `removeIdentities` | 一致する（有効な）各IDをブラウザーから削除します。 一致するID(`validIds`)の配列を返します。各IDには、このIDが削除されたかどうかを示す `isDeleteClientSide` ブール値が含まれます。 |
| `retrieveThenRemoveIdentities` | 一致するIDの配列(`validIds`)を取得し、ブラウザーからそれらのIDを削除します。 この関数はと似ていますが `removeIdentities`、削除が可能な場合（削除要求で提供する前に一意の識別子を取得する必要がある場合など）に、使用するAdobeソリューションでアクセス要求が必要な場合に使用するのが最適です。 |

>[!NOTE]
>
>`removeIdentities` また、IDをサポートする特定のアドビソリューションのIDのみをブラウザーから削除し `retrieveThenRemoveIdentities` ます。 例えば、Adobe Audience Managerがサードパーティcookieに保存されているdemdex IDを削除するのではなく、Adobe TargetがIDを保存しているすべてのcookieを削除するとします。

3つの関数はすべて非同期プロセスを表すので、取得したIDはすべてコールバックまたは約束を使用して処理する必要があります。


## 設置

を使用して開始を行うに [!DNL Privacy JS Library]は、次のいずれかの方法を使用してマシンにインストールする必要があります。

* 次のコマンドを実行して、npmを使用してインストールします。 `npm install @adobe/adobe-privacy`
* 名前の下にAdobe Launch Extensionを使用 `AdobePrivacy`
* https://github.com/Adobe-Marketing-Cloud/adobe-privacyからダウンロ [ード](https://github.com/Adobe-Marketing-Cloud/adobe-privacy)

## をインスタンス化する [!DNL Privacy JS Library]

を使用するすべてのアプリでは、新しい [!DNL Privacy JS Library]`AdobePrivacy` オブジェクトをインスタンス化する必要があります。このオブジェクトは、特定のアドビソリューションに設定する必要があります。 例えば、Adobe Serverのインスタンス化は次のようになります。

```js
var adobePrivacy = new AdobePrivacy({
    imsOrgID: "{IMS_ORG}",
    key: "{DATA_SUBJECT_ID}",
    reportSuite: "{REPORT_SUITE_ID}",
    trackingServer: "{SERVER_URL}",
    clientCode: "{TARGET_CLIENT_CODE}"
});
```

様々なアドビソリューションでサポートされるパラメーターの完全なリストについては、サポートされる [Adobeソリューション設定パラメーターに関する付録の節を参照してください](#adobe-solution-configuration-parameters)。

## コードサンプル

以下のコード例は、またはDTMを使用しない場合 [!DNL Privacy JS Library] に、いくつかの一般的なシナリオでのAEMの使用方法を示して [!DNL Launch] います。

### Retrieve identities

この例は、IDのリストを取得する方法を示し [!DNL Experience Cloud]ます。

#### JavaScript

次のコードは、によって取得されたIDを処理するコールバック `handleRetrievedIDs`として使用する関数、またはを定義 `retrieveIdentities`します。

```javascript
function handleRetrievedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.retrieveIdentities(handleRetrievedIDs);

// If using promises:
adobePrivacy.retrieveIdentities().then(handleRetrievedIDs);
```

| Variable | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべてのIDを含むJSONオブジェクト。 |
| `failedIDs` | 取得されなかった、または見つからなかったIDをすべて含むJSONオブジェクト [!DNL Privacy Service]。 |

#### 結果

コードが正常に実行されると、取得したID `validIDs` のリストが入力されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543"
},
{
    "company": "adobe",
    "namespace": "gsurfer_id",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao"
}
```

### Remove identities

この例は、IDのリストをブラウザーから削除する方法を示しています。

#### JavaScript

次のコードは、がブラウザーから削除さ `handleRemovedIDs`れた後に取得したIDを処理するコールバックとして使用する関数、または約束する関数 `removeIdentities` を定義します。

```javascript
function handleRemovedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.removeIdentities(handleRemovedIDs);

// If using promises:
adobePrivacy.removeIdentities().then(handleRemovedIDs)…
```

| Variable | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべてのIDを含むJSONオブジェクト。 |
| `failedIDs` | 取得されなかった、または見つからなかったIDをすべて含むJSONオブジェクト [!DNL Privacy Service]。 |

#### 結果

コードが正常に実行されると、取得したID `validIDs` のリストが入力されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543",
    "isDeletedClientSide": false
},
{
    "company": "adobe",
    "namespace": "AMO",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao",
    "isDeletedClientSide": true
}
```

## 次の手順

このドキュメントを読むと、の主な機能が紹介され [!DNL Privacy JS Library]ます。 ライブラリを使用してIDのリストを取得した後、これらのIDを使用して、 [!DNL Privacy Service] APIへのデータアクセスおよび削除リクエストを作成できます。 詳しくは、 [Privacy Service開発者ガイド](api/getting-started.md) を参照してください。

## 付録

この節では、を使用する際の補足情報を記載し [!DNL Privacy JS Library]ます。

### アドビのソリューション設定パラメーター

以下は、AdobePrivacyオブジェクトを [インスタンス化する際に使用される、サポートされるAdobeソリューションで使用できる設定パラメーターのリストです](#instantiate-the-privacy-js-library)。

**Adobe Analytics**

| パラメーター | 説明 |
| --- | --- |
| `cookieDomainPeriods` | cookieトラッキング用のドメイン内のピリオド数（デフォルトは2）。 |
| `dataCenter` | アドビのデータ収集データセンター。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 有効な値は次のとおりです。 <ul><li>&quot;d1&quot;: サンノゼデータセンター。</li><li>&quot;d2&quot;: ダラスデータセンター。</li></ul> |
| `reportSuite` | JavaScript Webビーコンで指定されたレポートスイートID（「s_code.js」や「dtm」など） |
| `trackingServer` | データ収集ドメイン（SSL以外）。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |
| `trackingServerSecure` | データ収集ドメイン(SSL)。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |
| `visitorNamespace` | 訪問者のグループ化に使用する名前空間。 これは、JavaScript Webビーコンで指定されている場合にのみ含める必要があります。 |

**Adobe Target**

| パラメーター | 説明 |
| --- | --- |
| `clientCode` | Adobe Targetシステム内のクライアントを識別するクライアントコード。 |

**Adobe Audience Manager**

| パラメーター | 説明 |
| --- | --- |
| `aamUUIDCookieName` | Adobe Audience Managerから返される一意のユーザーIDを含むファーストパーティCookieの名前。 |

**Adobe IDサービス(ECID)**

| パラメーター | 説明 |
| --- | --- |
| `imsOrgID` | IMS組織ID。 |