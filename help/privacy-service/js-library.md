---
keywords: Experience Platform;ホーム;人気のトピック
solution: Experience Platform
title: Adobe プライバシーに関する JavaScript ライブラリの概要
topic-legacy: overview
description: Adobe Privacy JavaScript ライブラリを使用すると、プライバシーサービスで使用するために、データサブジェクト id を取得することができます。
exl-id: 757bf69e-25bf-4ef9-9787-3e74b213908a
source-git-commit: 82dea48c732b3ddea957511c22f90bbd032ed9b7
workflow-type: tm+mt
source-wordcount: '944'
ht-degree: 69%

---

# アドビのプライバシー JavaScript ライブラリの概要

アドビは、データプロセッサーとして、お客様の許可と指示に従って個人データを処理します。データ管理者であるお客様は、アドビに処理および保管を委任する個人データを決めます。Adobe エクスペリエンスクラウドソリューションで送信するように選択した情報によって、 [!DNL General Data Protection Regulation] (GDPR) や (ccpa) などプライバシーに関する規制に適用される個人情報が保存さ [!DNL California Consumer Privacy Act] れます。 Experience Cloud ソリューションによる個人データの収集について詳しくは、[Adobe Experience Cloud のプライバシー](https://www.adobe.com/jp/privacy/experience-cloud.html)に関するドキュメントを参照してください。

データ管理者は、**アドビのプライバシー JavaScript ライブラリ**&#x200B;を使用して、特定のドメインについて ソリューションで生成されたすべてのデータサブジェクトの ID を自動的に取得できます。[!DNL Experience Cloud][Adobe Experience Platform Privacy Service](home.md) が提供する API では、これらの ID を使用して、データサブジェクトに属する個人データへのアクセスリクエストと削除リクエストを作成できます。

>[!NOTE]
>
>通常、は [!DNL Privacy JS Library] プライバシー関連のページにのみインストールする必要があります。これは、web サイトまたはドメインのすべてのページにインストールする必要はありません。

## 関数

では、 [!DNL Privacy JS Library] で id を管理するためのいくつかの機能が提供されて [!DNL Privacy Service] います。 これらの関数は、ブラウザーに保存されている、特定の訪問者の ID を管理する場合にのみ使用できます。これを使用して直接に情報を送信することはできません [!DNL Experience Cloud Central Service] 。

次の表に、ライブラリが提供する様々な関数の概要を示します。

| 関数 | 説明 |
| --- | --- |
| `retrieveIdentities` | によって検索された id の配列および見つからなかった id の配列を返し `validIds` [!DNL Privacy Service] `failedIds` ます ()。 |
| `removeIdentities` | 一致する（有効な）各 ID をブラウザーから削除します。一致する ID の配列（`validIds`）を返します。各 ID には、この ID が削除されたかどうかを示す `isDeletedClientSide` ブール値が含まれます。 |
| `retrieveThenRemoveIdentities` | 一致する ID の配列（`validIds`）を取得し、ブラウザーからそれらの ID を削除します。この関数は `removeIdentities` に似ていますが、削除の前に、使用中の Adobe ソリューションでアクセス要求を実行する必要がある場合（削除リクエストに指定する固有の ID を取得する必要がある場合など）に最も適しています。 |

>[!NOTE]
>
>`removeIdentities` と `retrieveThenRemoveIdentities` では、これらをサポートする特定のアドビソリューションのブラウザーから ID が削除されるだけです。例えば、Adobe Audience Manager では、サードパーティの Cookie に保存されている demdex ID は削除されませんが、Adobe Target では ID を保存しているすべての cookie が削除されます。

これら 3 つの関数はすべて非同期プロセスを表すので、取得した ID はコールバックまたは promise を使用して処理する必要があります。


## インストール

の使用を開始するには、 [!DNL Privacy JS Library] 次のいずれかの方法を使用してコンピューターにインストールする必要があります。

* `npm install @adobe/adobe-privacy` コマンドを実行して、npm を使用してインストールする。
* [名前の下に Adobe プライバシータグの拡張機能をインストールします。 ](../tags/extensions/web/privacy/overview.md)`AdobePrivacy`
* [エクスペリエンスクラウド GitHub リポジトリからダウンロード](https://github.com/Adobe-Marketing-Cloud/adobe-privacy)

## インスタンス化します。 [!DNL Privacy JS Library]

を使用するすべてのアプリは、 [!DNL Privacy JS Library] 新規オブジェクトをインスタンス化する必要があり `AdobePrivacy` ますが、これは特定のアドビソリューションに設定されている必要があります。 例えば、Adobe Analytics でインスタンス化する場合は、次のようになります。

```js
var adobePrivacy = new AdobePrivacy({
    imsOrgID: "{IMS_ORG}",
    reportSuite: "{REPORT_SUITE_ID}",
    trackingServer: "{SERVER_URL}",
    clientCode: "{TARGET_CLIENT_CODE}"
});
```

様々なアドビソリューションのためにサポートされている全パラメーターのリストについては、付録の、サポートされている[アドビソリューションの設定パラメーター](#adobe-solution-configuration-parameters)に関する節を参照してください。

## コードサンプル

次のコードサンプルは、 [!DNL Privacy JS Library] タグを使用していない一般的なシナリオについて、を使用する方法を示しています。

### ID の取得

次の例では、から id のリストを取得する方法を示し [!DNL Experience Cloud] ます。

#### JavaScript

次のコードは、関数 `handleRetrievedIDs` を定義します。これは、`retrieveIdentities` で取得された ID を処理するコールバックまたは promise として使用されます。

```javascript
function handleRetrievedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.retrieveIdentities(handleRetrievedIDs);

// If using promises:
adobePrivacy.retrieveIdentities().then(handleRetrievedIDs);
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべての ID を含む JSON オブジェクト。 |
| `failedIDs` | 取得されたものではないすべての Id が含まれている JSON オブジェクト [!DNL Privacy Service] 。または、それ以外の場合は見つかりませんでした。 |

#### 結果

コードが正常に実行された場合は、取得された ID のリストが `validIDs` に表示されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543"
},
{
    "company": "adobe",
    "namespace": "gsurfer_id",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao"
}
```

### ID の削除

この例では、ブラウザーから ID のリストを削除する方法を示しています。

#### &lt;/C2>

次のコードは、関数 `handleRemovedIDs` を定義します。これは、ブラウザーから削除された後に、`removeIdentities` で取得された ID を処理するコールバックまたは promise として使用されます。

```javascript
function handleRemovedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.removeIdentities(handleRemovedIDs);

// If using promises:
adobePrivacy.removeIdentities().then(handleRemovedIDs)…
```

| 変数 | 説明 |
| --- | --- |
| `validIds` | 正常に取得されたすべての ID を含む JSON オブジェクト。 |
| `failedIDs` | 取得されたものではないすべての Id が含まれている JSON オブジェクト [!DNL Privacy Service] 。または、それ以外の場合は見つかりませんでした。 |

#### 結果

コードが正常に実行された場合は、取得された ID のリストが `validIDs` に表示されます。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543",
    "isDeletedClientSide": false
},
{
    "company": "adobe",
    "namespace": "AMO",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao",
    "isDeletedClientSide": true
}
```

## 次の手順

このドキュメントでは、の主な機能について紹介されてい [!DNL Privacy JS Library] ます。 ライブラリを使用して id のリストを取得した後は、それらの id を使用して、データアクセスを作成したり、API に対する要求を削除したりすることができ [!DNL Privacy Service] ます。 [詳細については、プライバシーサービス API ガイドを参照してください ](api/overview.md) 。

## 付録

この節では、を使用するための補助的な情報が記載されてい [!DNL Privacy JS Library] ます。

### アドビソリューションの設定パラメーター

次のリストは、サポートされているアドビソリューションで受け入れ可能な、[AdobePrivacy オブジェクトのインスタンス化](#instantiate-the-privacy-js-library)に使用される設定パラメーターを示しています。

**Adobe Analytics**

| パラメーター | 説明 |
| --- | --- |
| `cookieDomainPeriods` | cookie 追跡用のドメイン内のピリオド数（デフォルトは 2）。 |
| `dataCenter` | アドビのデータ収集データセンター。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。設定可能な値は次のとおりです。 <ul><li>d1：サンノゼデータセンター</li><li>d2：ダラスデータセンター</li></ul> |
| `reportSuite` | JavaScript Web ビーコンで指定されたレポートスイート ID（「s_code.js」や「dtm」など）。 |
| `trackingServer` | データ収集ドメイン（非 SSL）。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |
| `trackingServerSecure` | データ収集ドメイン（SSL）。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |
| `visitorNamespace` | 訪問者のグループ化に使用される名前空間。これは、JavaScript Web ビーコンで指定されている場合にのみ、含める必要があります。 |

**Adobe Target**

| パラメーター | 説明 |
| --- | --- |
| `clientCode` | Adobe Target システムでクライアントを識別するクライアントコード。 |

**Adobe Audience Manager**

| パラメーター | 説明 |
| --- | --- |
| `aamUUIDCookieName` | Adobe Audience Manager から返された一意のユーザー ID を含むファーストパーティ Cookie の名前。 |

**Adobe ID サービス（ECID）**

| パラメーター | 説明 |
| --- | --- |
| `imsOrgID` | IMS 組織 ID。 |
