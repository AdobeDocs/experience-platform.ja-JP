---
title: Privacy Serviceのベストプラクティス
description: 次の最適な使用ガイドラインに従って、プライバシーリクエストを完了する際の処理時間と組織にかかるコストを削減する方法を説明します。
source-git-commit: c6507a39ba5ae5ca6aa2bf02cf8844a4592152ac
workflow-type: tm+mt
source-wordcount: '1234'
ht-degree: 0%

---

# Privacy Serviceのベストプラクティス

Privacy Serviceを使用すると、顧客がデータストアにアクセスしたり、データを削除したりする場合に、データプライバシー規制への準拠を自動化できます。 Privacy Serviceは、進化するこれらのビジネスニーズに対処するために、Adobe Experience Cloudアプリケーションをまたいで顧客データに対してアクセス要求と削除要求を送信する RESTful API と UI を提供します。

このガイドでは、顧客データリクエストを管理する際に、プライバシーリクエストを効率的に処理し、完了応答時間を最適化するためのベストプラクティスについて説明します。

## はじめに {#getting-started}

このガイドでは、 [Privacy Service](./home.md) およびを使用すると、Adobe Experience Cloudアプリケーション全体でデータ主体（顧客）からのアクセス要求と削除要求を管理できます。 また、 [UI でのプライバシージョブリクエストの作成](./ui/user-guide.md#create-a-new-privacy-job-request) または [API](./api/overview.md)を参照し、これらの操作をプログラムで実行する方法を理解します。

## 前提条件 {#prerequisites}

Adobe Experience Platform Privacy Serviceへのアクセスは、Adobe Admin Consoleの詳細なロールベースの権限によって制御されます。 製品 UI と API の特定の機能を使用するには、製品プロファイルで関連する権限がPrivacy Serviceされます。 追加の権限が必要な場合は、システム管理者に問い合わせてください。

管理者は、 [Privacy Serviceの権限の管理](./permissions.md) を参照してください。

## プライバシージョブ作成のガイドライン {#creation-guidelines}

リクエストの処理を効率化し、応答時間を改善するには、プライバシージョブを作成する際に次のガイドラインを考慮します。 これは、API メソッドと UI メソッドの両方に当てはまります。

1. **リクエストあたりのデータ主体の最大化：** 1 件のリクエストにつき最大 1,000 件のデータ主体を可能な限り多く含めます。
2. **効率を高めるためのグループ ID:** 各リクエストで、1 つのデータ主体に対して複数の ID を（最大 9 つ）グループ化します。 The **ID は、同じリクエストの異なるAdobe サービスから取得できます**.
3. **アクセスジョブと削除ジョブを組み合わせる：** データ主体の必要に応じて、1 つのリクエストに「アクセス」ジョブタイプと「削除」ジョブタイプの両方を含めます。
4. **必要な製品のみを含める：** 必要な製品またはライセンスを持つ製品のみを含めます。 製品を追加すると、処理時間を長くし、コストを増やすことができます。

## プライバシージョブのステータスの監視 {#monitor-status}

プライバシージョブを効果的に監視し、そのステータスを確認するために、Privacy Serviceは 3 つの方法を提供します。 利用可能な方法は、監視の効率と生産性の順に次のとおりです。 各方法には、エクスペリエンスを向上させるためのベストプラクティスガイドラインと、すべての方法を組み合わせた理想的なシナリオ例が含まれています。

### リアルタイム通知の受信 {#real-time-notifications}

**I/O イベント** ステータスイベントを介したほぼリアルタイムのステータス監視オファー。 これは、ポーリングメカニズムを実装する必要がなく、追加の API トラフィックが発生するので、最も効率的な方法です。

**RECOMMENDATIONS:**

- **ウェブフックの設定：** 送信済みジョブのステータスが変更された場合にプッシュ通知を受け取る Web フックを設定します。 これは、リアルタイム監視に役立ちます。
- **通知：** ジョブと製品の両方のレベルで通知を使用して、リクエストの進行状況を監視できます。

次のドキュメントを参照してください： [Privacy Serviceイベントの購読](./privacy-events.md) イベント通知用のイベント登録の設定と、Privacy Serviceペイロードの解釈の方法に関する手順。

### フィルターに基づいてすべてのジョブを取得 {#retrieve-filtered-responses-for-all-jobs}

指定されたフィルターに基づいてすべてのプライバシージョブデータを取得するには、次の手順を実行します。 **に対してGETリクエストを実行する `/jobs` endpoint**. この API 呼び出しは、1 つのリクエストのみで大量のジョブ ID セットに対する現在のジョブステータスの概要を提供するのに役立ちます。 詳細な製品の応答がありませんが、 [`/jobs/{jobID}` endpoint](#retrieve-detailed-responses-for-specific-jobs).

に対するGETリクエスト `/jobs` エンドポイントは、大量のジョブ ID セットのステータスデータの収集や比較に最適ですが、次に使用します。 **not** は、通常のポーリングタイプのアクティビティ用です。

**RECOMMENDATIONS:**

- **クエリパラメーター：** 特定のフィルターを使用して、例えば、データ範囲、規制タイプ、ステータス（処理、完了など）などで結果を絞り込みます。

Privacy ServiceUI を使用して、組織内の現在のすべてのプライバシージョブのリストを表示できます。 詳しくは、 [UI ドキュメントでのプライバシージョブの管理](./ui/user-guide.md#job-requests) を参照してください。 または、 [Privacy ServiceAPI での/job エンドポイントの使用](./api/privacy-jobs.md).

Privacy ServiceAPI ドキュメントには、 [使用可能なクエリパラメーターフィルター](https://developer.adobe.com/experience-platform-apis/references/privacy-service/#tag/Privacy-jobs/operation/listPrivacyJobs).

### 単一のジョブの詳細な応答の取得 {#retrieve-detailed-responses-for-specific-jobs}

単一のジョブの詳細な応答を取得するには、次の手順に従います。 **/jobs/に対するGETリクエストを実行します。{jobID} endpoint**. この方法は、製品固有の応答や成功メッセージなど、より深い情報収集を目的としています。 このエンドポイントへの呼び出しは、応答した製品とまだ保留中の製品を確認する最適な方法です ( ただし、 **not** 通常のポーリングアクティビティ用です。

詳しくは、 `/jobs/{JOB_ID}` の詳細に関するエンドポイントドキュメント [特定のジョブのステータスを確認する方法](./api/privacy-jobs.md#check-status).

### 理想的なシナリオの例 {#ideal-scenario}

Webhook を使用して、リクエストからの ID のグループが完了したときに、システムが自動的にレコードを更新し、レポートやアラートを提供できるようにします。 ジョブがまだ未処理の場合、システムはPrivacy ServiceAPI へのGETリクエストを使用して、これらのジョブステータスを取得します `/jobs` エンドポイントに追加され、リストの高レベルの更新を提供します。

特定のジョブがまだ保留中の場合、またはエラーを返した場合、に対するGETリクエストを使用して詳細な応答を取得できます。 `/job/{jobId}` endpoint.

## リクエストデータにアクセス {#access-request-data}

データ主体の情報が要求されると、各サービスは、そのデータの保存方法および使用方法に合った形式でデータを返します。 すべてのサービスがリクエストを完了すると、ジョブの詳細に.ZIP アーカイブファイル URL が表示され、このデータをダウンロードできるようになります。 詳しくは、トラブルシューティングガイドを参照してください。 [プライバシージョブの結果をダウンロードする方法](https://experienceleague.adobe.com/docs/experience-platform/privacy/troubleshooting-guide.html?lang=en#how-do-i-download-the-results-of-my-completed-privacy-jobs%3F).

データアーカイブの管理に関する主な注意事項を次に示します。

- 30 日後にすべてのアーカイブファイルがExperience Platformサーバから削除されます。 30 日を超える顧客データをクエリすることはできません。
- アーカイブファイルの構造は、リクエストに含まれる各製品のフォルダと、その中に含まれるデータファイルとを含む。 指定した ID のデータが見つからない場合、アーカイブファイルまたはフォルダーが空になる場合があります。
- 以前に作成したジョブのデータは、完了日から 30 日間のみアクセスできます。 その後、データはシステムから削除され、新しいリクエストを実行する必要があります。

**RECOMMENDATIONS:**

- **Protect Data Archives:** URL ファイルと.ZIP ファイルは両方とも保護する必要があります。これらのファイルには、データ主体の個人情報 (PII) が含まれている場合があるからです。

## 技術上の考慮事項 {#technical-considerations}

Privacy Serviceリクエストを完了する際に注意すべき技術的な考慮事項がいくつかあります。

- **データ保持期間：** ジョブのグループのルックバック期間の上限は 60 日で、クエリの最大期間は 30 日です（開始日/終了日）。
- **ゲートウェイのタイムアウト：** 60 秒を超える場合は、要求がゲートウェイから破棄される可能性があることに注意してください。
- **エラー処理：** エラーメッセージを十分に確認し、必要に応じて要求を再送信します。 Privacy Serviceは、エラー後にジョブを自動的に再処理しません。
- **HTTP 429 エラーについて：** HTTP 429 エラーメッセージと、問題を軽減するために必要な手順について確認します。 HTTP 429 エラーは「リクエストが多すぎます」の結果です。 詳しくは、 [一般的なエラーメッセージ](./troubleshooting-guide.md#common-error-messages) 問題の解決方法の詳細については、トラブルシューティングガイドの「 」の節を参照してください。

## 次の手順

このドキュメントを読むと、Privacy Serviceを効率的かつ効果的に使用するために必要な知識と慣行が得られます。 次に、 [トラブルシューティングガイド](./troubleshooting-guide.md) Privacy Serviceに関するよくある質問と、API でよく発生するエラーに関する情報について、を参照してください。
