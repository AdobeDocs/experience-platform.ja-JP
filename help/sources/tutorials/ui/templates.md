---
description: Adobe Experience Platform UI でテンプレートを使用して、B2B データのデータ取り込みプロセスを高速化する方法を説明します。
title: UI のテンプレートを使用してソースのデータフローを作成する
badge1: ベータ版
exl-id: 48aa36ca-656d-4b9d-954c-48c8da9df1e9
source-git-commit: f9e3c19fdfd4ca0e03fdf3b3a7b5e82b72490dbc
workflow-type: tm+mt
source-wordcount: '2271'
ht-degree: 34%

---

# UI のテンプレートを使用してソースのデータフローを作成する {#create-a-sources-dataflow-using-templates-in-the-ui}

>[!CONTEXTUALHELP]
>id="platform_sources_marketo_mapping"
>title="Experience Platform UI のソース用テンプレート"
>abstract="テンプレートには、ソースから Experience Platform にデータを取り込む際に使用できる、スキーマ、データセット、ID、マッピングルール、ID 名前空間およびデータフローなどの自動生成されたアセットが含まれます。自動生成されたアセットを更新して、ユースケースに合わせてカスタマイズできます。"

>[!IMPORTANT]
>
>テンプレートはベータ版で、次のソースでサポートされています。
>
>* [[!DNL Marketo Engage]](../../connectors/adobe-applications/marketo/marketo.md)
>* [[!DNL Microsoft Dynamics]](../../connectors/crm/ms-dynamics.md)
>* [[!DNL Salesforce]](../../connectors/crm/salesforce.md)
>
>ドキュメントと機能は変更される場合があります。

Adobe Experience Platform には、データ取り込みプロセスを高速化するために使用できる、事前設定済みのテンプレートが用意されています。テンプレートには、ソースから Experience Platform にデータを取り込む際に使用できる、スキーマ、データセット、ID、マッピングルール、ID 名前空間およびデータフローなどの自動生成されたアセットが含まれます。

テンプレートを使用すると、次のことができます。

* テンプレート化されたアセットの作成を高速化することで、取り込みの価値創出までの時間を短縮します。
* 手動データ取り込みプロセス中に発生する可能性のあるエラーを最小限に抑えます。
* ユースケースに合わせて、自動生成されたアセットを随時更新します。

次のチュートリアルでは、Experience Platform UI でテンプレートを使用する方法を説明します。

## はじめに

このチュートリアルは、 Experience Platform の次のコンポーネントを実際に利用および理解しているユーザーを対象としています。

* [&#x200B; ソース &#x200B;](../../home.md):Experience Platformを使用すると、データを様々なソースから取得しながら、Experience Platform サービスを使用して受信データの構造化、ラベル付け、拡張を行うことができます。
* [[!DNL Experience Data Model (XDM)] システム](../../../xdm/home.md)：Experience Platform が顧客体験データの整理に使用する標準化されたフレームワーク。
* [&#x200B; サンドボックス &#x200B;](../../../sandboxes/home.md): Experience Platformには、1 つのExperience Platform インスタンスを別々の仮想環境に分割し、デジタルエクスペリエンスアプリケーションの開発と発展に役立つ仮想サンドボックスが用意されています。

## Experience Platform UI でテンプレートを使用する {#use-templates-in-the-platform-ui}

>[!CONTEXTUALHELP]
>id="platform_sources_templates_accounttype"
>title="ビジネスタイプを選択する"
>abstract="ユースケースに適したビジネスタイプを選択します。アクセス権は、Real-time Customer Data Platform サブスクリプションアカウントによって異なる場合があります。"
>additional-url="https://experienceleague.adobe.com/docs/experience-platform/rtcdp/intro/rtcdp-intro/overview.html?lang=ja" text="Real-Time CDP の概要"

Experience Platform UI で、左側のナビゲーションから「**[!UICONTROL Sources]**」を選択し、[!UICONTROL Sources] Workspace にアクセスして、Experience Platformで使用可能なソースのカタログを確認します。

*[!UICONTROL Categories]* メニューを使用すると、カテゴリ別にソースをフィルタリングできます。 または、検索バーにソース名を入力して、カタログから特定のソースを検索します。

[!UICONTROL Adobe applications] カテゴリに移動して [!DNL Marketo Engage] ソースカードを表示し、「[!UICONTROL Add data]」を選択して開始します。

![ソースワークスペースのカタログで、Marketo Engage ソースがハイライト表示されています。](../../images/tutorials/templates/catalog.png)

ポップアップウィンドウが表示され、テンプレートを参照するか、既存のスキーマおよびデータセットを使用するかを選択できます。

* **テンプレートを参照**：ソーステンプレートは、マッピングルールを使用して、スキーマ、ID、データセットおよびデータフローを自動作成します。必要に応じて、これらのアセットをカスタマイズできます。
* **既存のアセットを使用**：作成した既存のデータセットとスキーマを使用して、データを取り込みます。必要に応じて、新しいデータセットやスキーマも作成できます。

>[!NOTE]
>
>テンプレートでは、変更データキャプチャワークフローが必要なソースを操作する際や、複数のデータモデルをサポートする際に、リレーショナルスキーマを自動生成できます。 これらのスキーマにより、Data Mirrorの機能でリアルタイムのデータ同期が可能になります。\
>リレーショナルスキーマでテンプレートを使用する場合、自動生成されるアセットには、必須のプライマリキー、バージョン ID およびタイムスタンプ ID フィールドが含まれます。\
>詳しくは、[Data Mirrorの概要および &#x200B;](../../../xdm/data-mirror/overview.md) リレーショナルスキーマ [&#x200B; テクニカルリファレンス &#x200B;](../../../xdm/schema/relational.md) を参照してください。

自動生成されたアセットを使用するには、「**[!UICONTROL Browse templates]**」を選択してから「**[!UICONTROL Select]**」を選択します。

![テンプレートを参照するか、既存のアセットを使用するかを選択できるポップアップウィンドウ。](../../images/tutorials/templates/browse-templates.png)

### 認証

認証手順が表示され、新しいアカウントを作成するか、既存のアカウントを使用するかを尋ねられます。

>[!BEGINTABS]

>[!TAB  既存のアカウントを使用 ]

既存のアカウントを使用するには、「[!UICONTROL Existing account]」を選択し、表示されるリストから使用するアカウントを選択します。

![アクセス可能な既存のアカウントのリストを含む既存のアカウントの選択ページ。](../../images/tutorials/templates/existing-account.png)

>[!TAB  新規アカウントの作成 ]

新しいアカウントを作成するには、「**[!UICONTROL New account]**」を選択し、ソース接続の詳細とアカウント認証資格情報を入力します。 終了したら「**[!UICONTROL Connect to source]**」を選択し、新しい接続が確立されるまでしばらく待ちます。

![ソース接続の詳細とアカウント認証資格情報を含む新しいアカウントの認証ページ。](../../images/tutorials/templates/new-account.png)

>[!ENDTABS]

### テンプレートを選択する

アカウントが認証され、データフローに使用するテンプレートを選択できるようになりました。

+++[!DNL Marketo Engage] テンプレート
次の表に、[!DNL Marketo Engage] ソースで使用できるテンプレートの概要を示します。

| [!DNL Marketo Engage] テンプレート | 説明 |
| --- | --- |
| アクティビティ | アクティビティテンプレートは、メールのインタラクション、web サイトのインタラクション、セールスの電話など、アクティビティのイベントベースのスナップショットをキャプチャします。 |
| 会社 | 会社テンプレートには、会社の会社基本情報、場所、請求情報など、ビジネスアカウントの詳細が取り込まれます。 |
| 指定顧客 | 重点顧客テンプレートは、追跡するターゲット顧客として決定された顧客の詳細を取得します。 |
| 機会 | 商談テンプレートには、タイプ、販売ステージ、関連アカウントなど、ビジネス商談の詳細が取り込まれます。 |
| 商談連絡先の役割 | 「商談担当者役割」テンプレートは、特定の商談に関連付けられた引合の役割に関する詳細を取得します。 |
| ユーザー | 人物テンプレートは、人口統計の詳細、連絡先情報、同意環境設定など、個々の人物の属性を取得します。 |
| プログラムメンバーシップ | プログラムメンバーシップテンプレートは、ビジネスキャンペーンに関連する連絡先の詳細を取得します。これには、ナーチャリング頻度や連絡先への回答が含まれます。 |
| プログラム | プログラムテンプレートには、ステータス、チャネル、タイムライン、コストなど、ビジネスキャンペーンの詳細が取り込まれます。 |
| 静的リスト メンバーシップ | 静的リストメンバーシップテンプレートは、静的リスト内の人物とメンバーシップの関係をキャプチャします。 |
| 静的リスト | 静的リストテンプレートは、特定のユースケースに対応する人物のインスタンス化されたリストを取得します。 |

{style="table-layout:auto"}

+++

+++[!DNL Salesforce] B2B テンプレート
次の表に、[!DNL Salesforce] ソースで使用できる B2B テンプレートの概要を示します。

| [!DNL Salesforce] B2B テンプレート | 説明 |
| --- | --- |
| アカウント連絡先の関係 | アカウント連絡先の関係テンプレートは、連絡先と 1 つ以上のアカウントの関係をキャプチャします。 |
| アカウント | アカウントテンプレートには、会社の会社基本情報、場所、請求情報など、ビジネスアカウントの詳細が取り込まれます。 |
| キャンペーンメンバー | キャンペーンメンバーテンプレートは、個々のリードまたは連絡先と特定の [!DNL Salesforce] キャンペーンとの関係をキャプチャします。 |
| キャンペーン | Campaigns テンプレートでは、会社の会社基本情報、場所、請求情報など、ビジネスアカウントの詳細を取得します。 |
| 連絡先 | 連絡先テンプレートは、人口統計の詳細、連絡先情報、関連するビジネスエンティティなど、連絡先の属性を取得します。 |
| リード数 | リード テンプレートには、リードの属性（人口統計の詳細、連絡先情報、関連するビジネスエンティティなど）が取り込まれます。 |
| 機会 | 商談テンプレートには、タイプ、販売ステージ、関連するアカウントなど、ビジネス商談の詳細が取り込まれます。 |
| 商談連絡先の役割 | 「商談担当者役割」テンプレートは、特定の商談に関連付けられた引合の役割に関する詳細を取得します。 |

{style="table-layout:auto"}

+++

+++[!DNL Salesforce] B2C テンプレート
次の表に、[!DNL Salesforce] ソースで使用できる B2C テンプレートの概要を示します。

| [!DNL Salesforce] B2C テンプレート | 説明 |
| --- | --- |
| 連絡先 | 連絡先テンプレートは、人口統計の詳細、連絡先情報、関連するビジネスエンティティなど、連絡先の属性を取得します。 |
| リード | リードテンプレートは、リードの属性（人口統計の詳細、連絡先情報、関連するビジネスエンティティなど）をキャプチャします。 |

{style="table-layout:auto"}

+++

+++[!DNL Microsoft Dynamics] B2B テンプレート
次の表に、[!DNL Microsoft Dynamics] ソースで使用できる B2B テンプレートの概要を示します。

| [!DNL Microsoft Dynamics] B2B テンプレート | 説明 |
| --- | --- |
| アカウント | アカウントテンプレートには、会社の会社基本情報、場所、請求情報など、ビジネスアカウントの詳細が取り込まれます。 |
| キャンペーン | Campaigns テンプレートでは、会社の会社基本情報、場所、請求情報など、ビジネスアカウントの詳細を取得します。 |
| 連絡先 | 連絡先テンプレートは、人口統計の詳細、連絡先情報、関連するビジネスエンティティなど、連絡先の属性を取得します。 |
| リード数 | リード テンプレートには、リードの属性（人口統計の詳細、連絡先情報、関連するビジネスエンティティなど）が取り込まれます。 |
| マーケティングリスト | マーケティングリストテンプレートは、マーケティングキャンペーンや他の販売目的のために作成された既存または潜在的な顧客のグループをキャプチャします。 |
| マーケティングリストメンバー | マーケティングリストメンバーは、マーケティングリスト内のリード、アカウント、連絡先など、任意のタイプの顧客レコードの詳細を取得します。 |
| 機会 | 商談テンプレートには、タイプ、販売ステージ、関連するアカウントなど、ビジネス商談の詳細が取り込まれます。 |
| 商談連絡先の役割 | 「商談担当者役割」テンプレートは、特定の商談に関連付けられた引合の役割に関する詳細を取得します。 |

{style="table-layout:auto"}

+++

+++[!DNL Microsoft Dynamics] B2C テンプレート
次の表に、[!DNL Microsoft Dynamics] ソースで使用できる B2C テンプレートの概要を示します。

| [!DNL Microsoft Dynamics] B2C テンプレート | 説明 |
| --- | --- |
| 連絡先 | 連絡先テンプレートは、人口統計の詳細、連絡先情報、関連するビジネスエンティティなど、連絡先の属性を取得します。 |
| リード | リードテンプレートは、リードの属性（人口統計の詳細、連絡先情報、関連するビジネスエンティティなど）をキャプチャします。 |

{style="table-layout:auto"}

+++

選択したビジネスタイプに応じて、テンプレートのリストが表示されます。 テンプレート名の横にあるプレビューアイコン ![&#x200B; プレビューアイコン &#x200B;](/help/images/icons/preview.png) を選択して、テンプレートからサンプルデータをプレビューします。

![プレビューアイコンがハイライトされたテンプレートのリスト。](../../images/tutorials/templates/templates.png)

プレビューウィンドウが表示され、テンプレートからサンプルデータを調べたり、確認することができます。終了したら「**[!UICONTROL Got it]**」を選択します。

![サンプルデータのプレビューウィンドウ。](../../images/tutorials/templates/preview-sample-data.png)

次に、リストから使用するテンプレートを選択します。複数のテンプレートを選択し、一度に複数のデータフローを作成できます。ただし、テンプレートはアカウントにつき 1 回だけ使用できます。テンプレートを選択したら、「**[!UICONTROL Finish]**」を選択し、アセットが生成されるまでしばらく待ちます。

使用可能なテンプレートのリストから 1 つまたは一部の項目を選択した場合でも、すべての B2B スキーマと ID 名前空間が生成され、スキーマ間の B2B の関係が正しく設定されます。

>[!NOTE]
>
>既に使用されているテンプレートは、選択できなくなります。

![商談連絡先の役割テンプレートが選択されているテンプレートのリスト。](../../images/tutorials/templates/select-template.png)

### スケジュールを設定

[!DNL Microsoft Dynamics] ソースと [!DNL Salesforce] ソースの両方で、データフローのスケジュール設定がサポートされています。

スケジュールインターフェイスを使用して、データフローの取り込みスケジュールを設定します。 取り込み頻度を **1 回** に設定して、1 回限りの取り込みを作成します。

![Dynamics およびSalesforce テンプレートのスケジュールインターフェイス &#x200B;](../../images/tutorials/templates/schedule.png)

または、取り込み頻度を **分**、**時間**、**日**、**週** に設定できます。 データフローを複数の取り込みに対してスケジュールする場合は、取り込みごとに時間枠を確立する間隔を設定する必要があります。 例えば、取り込み頻度を **時間** に設定し、間隔を **15** に設定すると、データフローは **15 時間** ごとにデータを取り込むようにスケジュールされます。

この手順の間に、**バックフィル** を有効にし、データの増分取り込みの列を定義することもできます。 バックフィルは履歴データの取り込みに使用しますが、増分取り込みのために定義した列を使用すると、新しいデータを既存のデータと区別することができます。

取り込みスケジュールの設定が完了したら、「**[!UICONTROL Finish]**」を選択します。

![&#x200B; バックフィルが有効になっている Dynamics およびSalesforce テンプレートのスケジュールインターフェイス &#x200B;](../../images/tutorials/templates/backfill.png)

### アセットのレビュー {#review-assets}

>[!CONTEXTUALHELP]
>id="platform_sources_templates_review"
>title="自動生成されたアセットのレビュー"
>abstract="すべてのアセットを生成するには最大 5 分かかる場合があります。 ページを離れる場合は、アセットが完了したら戻るように促す通知を受け取ります。アセットの生成後に確認し、いつでもデータフローに追加の設定を行うことができます。"

[!UICONTROL Review template assets] ページには、テンプレートの一部として自動生成されたアセットが表示されます。 このページでは、ソース接続に関連付けられた自動生成スキーマ、データセット、ID 名前空間、データフローを確認できます。 すべてのアセットを生成するには最大 5 分かかる場合があります。 ページを離れる場合は、アセットが完了したら戻るように促す通知を受け取ります。アセットの生成後に確認し、いつでもデータフローに追加の設定を行うことができます。

デフォルトでは、自動生成されたデータフローはドラフト状態に設定され、マッピングルールやスケジュールされた頻度など、設定をさらにカスタマイズできます。 データフロー名の横にある省略記号（`...`）をクリックし、「**[!UICONTROL Preview mappings]**」を選択して、ドラフトデータフロー用に作成されたマッピングセットを確認します。

![「マッピングをプレビュー」オプションが選択されたドロップダウンウィンドウ。](../../images/tutorials/templates/preview.png)

プレビューページが表示され、ソースデータフィールドとターゲットスキーマフィールドの間のマッピング関係を調べることができます。 データフローのマッピングを表示したら、 Select **[!UICONTROL Got it.]**

![マッピングのプレビューウィンドウ。](../../images/tutorials/templates/preview-mappings.png)

データフローは、実行後いつでも更新できます。 データフロー名の横にある省略記号（`...`）をクリックし、「**[!UICONTROL Update dataflow]**」を選択します。 ソースワークフローページに移動します。このページでは、部分取り込み、エラー診断、アラート通知の設定、データフローのマッピングなど、データフローの詳細を更新できます。

スキーマエディタービューを使用して、自動生成されたスキーマを更新することができます。 詳しくは、[スキーマエディターの使用](../../../xdm/tutorials/create-schema-ui.md)に関するガイドを参照してください。

![「データフローを更新」オプションが選択されたドロップダウンウィンドウ。](../../images/tutorials/templates/update.png)

>[!TIP]
>
>ドラフトデータフローには、ソースワークスペースの [!UICONTROL Dataflows] カタログページからアクセスできます。 上部ヘッダーから「**[!UICONTROL Dataflows]**」を選択し、更新するデータフローをリストから選択します。
>
>![&#x200B; ソースワークスペースのデータフローカタログにある既存のデータフローのリスト。](../../images/tutorials/templates/dataflows.png)

### データフローの公開

公開プロセスを開始するには、ソース ワークフローを使用します。 [!UICONTROL Update dataflow] を選択すると、ワークフローの *[!UICONTROL Add data]* の手順に進みます。 「**[!UICONTROL Next]**」を選択して次に進みます。

![&#x200B; ドラフトデータフローのデータを追加ステップ &#x200B;](../../images/tutorials/templates/continue-draft.png)

次に、データフローの詳細を確認し、エラー診断、部分取り込み、アラート通知の設定を指定します。 終了したら「**[!UICONTROL Next]**」を選択します。

![&#x200B; ドラフトデータフローのデータフローの詳細手順。](../../images/tutorials/templates/dataflow-detail.png)

>[!NOTE]
>
>**[!UICONTROL Save as draft]** を選択すると、いつでも停止して、データフローに加えた変更を保存できます。

マッピング手順が表示されます。 この手順では、データフローのマッピング設定を再設定できます。 マッピングに使用するデータ準備機能の包括的なガイドについては、[&#x200B; データ準備 UI ガイド &#x200B;](../../../data-prep/ui/mapping.md) を参照してください。

![&#x200B; ドラフトデータフローのマッピングステップ &#x200B;](../../images/tutorials/templates/mapping.png)

最後に、データフローの詳細を確認し、「**[!UICONTROL Save & ingest]**」を選択してドラフトを公開します。

![&#x200B; ドラフトデータフローのレビュー手順。](../../images/tutorials/templates/review.png)

## 次の手順

このチュートリアルに従って、データフローと、テンプレートを使用したスキーマ、データセット、ID 名前空間などのアセットを作成しました。 ソースに関する一般的な情報については、[ソースの概要](../../home.md)を参照してください。

## アラートと通知 {#alerts-and-notifications}

テンプレートはAdobe Experience Platform アラートに対応しており、通知パネルを使用して、アセットのステータスに関する更新を受け取ったり、レビューページに戻ったりできます。

Experience Platform UI の上部ヘッダーにある通知アイコンを選択し、ステータスアラートを選択して、確認するアセットを表示します。

![Experience Platform UI の通知パネルには、失敗したデータフローを警告する通知がハイライト表示されます。](../../images/tutorials/templates/notifications.png)

テンプレートのアラート設定を更新すると、データフローのステータスに関するメールとExperience Platform内の通知の両方を受け取ることができます。 アラートの設定について詳しくは、[&#x200B; ソースデータフローのアラートを購読する方法 &#x200B;](../ui/alerts.md) に関するガイドを参照してください。