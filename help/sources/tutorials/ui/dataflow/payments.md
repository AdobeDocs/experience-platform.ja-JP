---
keywords: Experience Platform;home;popular topics
solution: Experience Platform
title: UIで支払コネクタのデータフローを構成します
topic: overview
translation-type: tm+mt
source-git-commit: 1eb9b470ddb048c5825c18c2a998a6b736ddc42a
workflow-type: tm+mt
source-wordcount: '1088'
ht-degree: 1%

---


# UIで支払コネクタのデータフローを構成します

データフローは、ソースからAdobe Experience Platformデータセットにデータを取得し、取り込むスケジュール済みのタスクです。 このチュートリアルでは、支払い勘定を使用して新しいデータフローを構成する手順を説明します。

## はじめに

このチュートリアルでは、Adobe Experience Platformの次のコンポーネントについて、十分に理解している必要があります。

- [Experience Data Model(XDM)System](../../../../xdm/home.md): エクスペリエンスプラットフォームが顧客エクスペリエンスデータを編成する際に使用する標準化されたフレームワークです。
   - [スキーマ構成の基本](../../../../xdm/schema/composition.md): XDMスキーマの基本構成要素について説明します。この基本構成要素には、スキーマ構成の主な原則とベストプラクティスが含まれます。
   - [スキーマエディタのチュートリアル](../../../../xdm/tutorials/create-schema-ui.md): スキーマエディターのUIを使用してカスタムスキーマを作成する方法を説明します。
- [リアルタイム顧客プロファイル](../../../../profile/home.md): 複数のソースからの集計データに基づいて、統合されたリアルタイムの消費者プロファイルを提供します。

また、このチュートリアルでは、既に支払勘定を作成している必要があります。 UIで異なる支払いコネクタを作成するためのチュートリアルのリストは、 [source connectorsの概要](../../../home.md)。

## データの選択

支払勘定を作成すると、「データ *の選択* 」ステップが表示され、ファイル階層を調べるためのインタラクティブなインターフェイスが提供されます。

- インターフェイスの左半分はディレクトリブラウザーで、サーバーのファイルとディレクトリが表示されます。
- インターフェイスの右半分を使用すると、互換性のあるファイルから最大100行のデータをプレビューできます。

使用するディレクトリを選択し、「 **次へ**」を選択します。

![add-data](../../../images/tutorials/dataflow/payments/add-data.png)

## データフィールドのXDMスキーマへのマッピング

「 *マッピング* 」の手順が表示され、ソースデータをプラットフォームデータセットにマッピングするためのインタラクティブなインターフェイスが提供されます。

取り込む受信データのデータセットを選択します。 既存のデータセットを使用することも、新しいデータセットを作成することもできます。

### 既存のデータセットの使用

既存のデータセットにデータを取り込むには、「 **Use existing dataset**」を選択し、データセットアイコンをクリックします。

![use-existing-dataset](../../../images/tutorials/dataflow/payments/existing-dataset.png)

[ *データセットの選択* ]ダイアログが表示されます。 使用するデータセットを見つけて選択し、「 **続行**」をクリックします。

![select-existing-dataset](../../../images/tutorials/dataflow/payments/select-dataset.png)

### 新しいデータセットの使用

データを新しいデータセットに取り込むには、「 **新しいデータセットを** 作成」を選択し、表示されるフィールドにデータセットの名前と説明を入力します。

このプロセス中に、 *部分的な取り込み* 、 *エラー診断も有効にできます*。 「 *部分的な取り込み* 」を有効にすると、エラーを含むデータを取り込むことができ、設定可能な特定のしきい値まで取り込むことができます。 エラー診断を有効にすると、誤ったデータに関する詳細が表示され、個別にバッチ処理が行われます。 詳しくは、 [部分的なバッチインジェストの概要を参照してください](../../../../ingestion/batch-ingestion/partial.md)。

終了したら、スキーマアイコンをクリックします。

![create-new-dataset](../../../images/tutorials/dataflow/payments/new-dataset.png)

[ *スキーマの* 選択]ダイアログが表示されます。 新しいデータセットに適用するスキーマを選択し、「 **完了**」をクリックします。

![select-スキーマ](../../../images/tutorials/dataflow/payments/select-schema.png)

必要に応じて、フィールドを直接マップするか、マッパー関数を使用してソースデータを変換し、計算値や計算値を抽出することができます。 データマッピングおよびマッパーの機能について詳しくは、CSVデータのXDMスキーマフィールドへの [マッピングに関するチュートリアルを参照してください](../../../../ingestion/tutorials/map-a-csv-file.md)。

[ *マッピング* ]画面では、 *[差分]列を設定することもできます*。 データセットフローを作成する際、タイムスタンプフィールドを基準に、スケジュールされたインクリメンタルインジェクションで取り込むレコードを決定できます。

ソースデータがマッピングされたら、「 **次へ**」をクリックします。

![](../../../images/tutorials/dataflow/payments/mapping.png)

## インジェストのスケジュール設定

[ *スケジュール* ]ステップが表示され、設定済みのマッピングを使用して選択したソースデータを自動的に取り込むように取り込みスケジュールを設定できます。 次の表に、スケジュール設定用の様々な設定可能フィールドの概要を示します。

| フィールド | 説明 |
| --- | --- |
| 頻度 | 選択可能な頻度には、分、時間、日、週があります。 |
| 間隔 | 選択した頻度の間隔を設定する整数。 |
| 開始時間 | 最初の取り込みが行われるUTCタイムスタンプ。 |
| 埋め戻し | 最初に取り込まれるデータを決定するboolean値です。 [ *バックフィル* ]を有効にすると、指定したパスにある現在のファイルは、最初にスケジュールされた取り込み中にすべて取り込まれます。 [ *バックフィル* ]を無効にすると *、最初の取り込み実行から* 開始時間の間に読み込まれたファイルだけが取り込まれます。 *開始時間より前に読み込まれたファイルは取り込まれません* 。 |

データフローは、スケジュールに基づいてデータを自動的に取り込むように設計されています。 このワークフローで1回だけ取り込む場合は、 **頻度** 「日」を設定し、 ****&#x200B;間隔に非常に大きな数値（例：10000）を適用することで、これを行うことができます。

スケジュールの値を指定し、「 **次へ**」をクリックします。

![スケジュール](../../../images/tutorials/dataflow/payments/scheduling.png)

## データセットフローの名前を指定する

データセットフローの詳細 *(* データセットフローの名前と説明)を入力する必要がある手順が表示されます。 終了したら **「次へ** 」を選択します。

![dataset-flow-details](../../../images/tutorials/dataflow/payments/dataset-flow-details.png)

## データセットのフローの確認

「 *レビュー* 」ステップが表示され、新しいデータフローを作成前に確認できます。 詳細は次のカテゴリに分類されます。

- *接続*: ソースの種類、選択したソースファイルの関連パス、およびそのソースファイル内の列数が表示されます。
- *データセットとマップのフィールドの割り当て*: ソースデータが取り込まれるデータセット(データセットに従うスキーマなど)を示します。
- *スケジュール*: 取り込みスケジュールの有効期間、頻度、間隔を表示します。

データフローをレビューしたら、 **「Finish** 」をクリックし、データフローを作成するまでの時間を設定します。

![レビュー](../../../images/tutorials/dataflow/payments/review.png)

## データセットフローの監視

データセットフローが作成されたら、データを通じて取り込まれるデータを監視できます。 データセットフローの監視方法について詳しくは、 [アカウントとデータセットフローに関するチュートリアルを参照してください](../monitor.md)。

## 次の手順

このチュートリアルに従うと、マーケティング自動化システムからデータを取り込むためのデータセットフローが正しく作成され、監視データセットに関する洞察が得られます。 受信データは、リアルタイム顧客プロファイルやデータサイエンスワークスペースなどのダウンストリームプラットフォームサービスで使用できるようになりました。 詳しくは、次のドキュメントを参照してください。

- [リアルタイム顧客プロファイルの概要](../../../../profile/home.md)
- [Data Science Workspaceの概要](../../../../data-science-workspace/home.md)

## 付録

以下の節では、ソースコネクタを使用する場合の追加情報について説明します。

### データセットフローの無効化

データセットフローが作成されると、すぐにアクティブになり、与えられたスケジュールに従ってデータを取り込みます。 アクティブなデータセットフローは、次の手順に従っていつでも無効にできます。

「 *データセットフロー* 」画面で、無効にするデータセットフローの名前を選択します。

![browse-dataset-flow](../../../images/tutorials/dataflow/payments/view-dataset-flows.png)

「 *プロパティ* 」列が画面の右側に表示されます。 このパネルには、「 **有効** 」切り替えボタンが含まれています。 切り替えボタンをクリックして、データフローを無効にします。 同じ切り替えを使用して、データフローを無効にした後で再び有効にできます。

![disable](../../../images/tutorials/dataflow/payments/disable.png)

### プロファイル母集団の受信データを有効にする

ソースコネクタから受信するデータは、リアルタイム顧客プロファイルデータの強化と埋め込みに使用できます。 実際の顧客プロファイルデータの入力に関する詳細は、 [プロファイル母集団に関するチュートリアルを参照してください](../profile.md)。
