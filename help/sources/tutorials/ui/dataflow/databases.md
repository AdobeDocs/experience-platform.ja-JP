---
keywords: Experience Platform；ホーム；人気の高いトピック；データベースコネクタ
solution: Experience Platform
title: UIでのデータベース・ソース接続のデータ・フローの構成
topic-legacy: overview
type: Tutorial
description: データフローとは、ソースからプラットフォームデータセットにデータを取得し、取り込むスケジュール設定されたタスクです。 このチュートリアルでは、データベースアカウントを使用して新しいデータフローを構成する手順を説明します。
exl-id: 9fd8a7ec-bbd8-4890-9860-e6defc6cade3
translation-type: tm+mt
source-git-commit: 5d449c1ca174cafcca988e9487940eb7550bd5cf
workflow-type: tm+mt
source-wordcount: '1448'
ht-degree: 3%

---

# UIでのデータベース接続用のデータフローの構成

データフローとは、ソースからプラットフォームデータセットにデータを取得し、取り込むスケジュール設定されたタスクです。 このチュートリアルでは、データベースアカウントを使用して新しいデータフローを構成する手順を説明します。

## はじめに

このチュートリアルは、Adobe Experience Platform の次のコンポーネントを実際に利用および理解しているユーザーを対象としています。

- [[!DNL Experience Data Model (XDM)] システム](../../../../xdm/home.md):Experience Platformが顧客体験データを編成する際に使用する標準化されたフレームワーク。
   - [スキーマ構成の基本](../../../../xdm/schema/composition.md)：スキーマ構成の主要な原則やベストプラクティスなど、XDM スキーマの基本的な構成要素について学びます。
   - [スキーマエディタのチュートリアル](../../../../xdm/tutorials/create-schema-ui.md):スキーマエディターのUIを使用してカスタムスキーマを作成する方法を説明します。
- [[!DNL Real-time Customer Profile]](../../../../profile/home.md):複数のソースからの集計データに基づいて、統合されたリアルタイムの消費者プロファイルを提供します。

また、このチュートリアルでは、データベースアカウントを既に作成済みである必要があります。 UIで異なるデータベースコネクタを作成するためのチュートリアルのリストは、[ソースコネクタの概要](../../../home.md)を参照してください。

## データの選択

データベースアカウントを作成すると、**[!UICONTROL データを選択]**&#x200B;の手順が表示され、データベース階層を調べるためのインタラクティブなインターフェイスが提供されます。

- インターフェイスの左半分はブラウザーで、アカウントのデータベースリストが表示されます。
- インターフェイスの右半分を使用すると、最大100行のデータをプレビューできます。

ページ上部の「**[!UICONTROL 検索]**」オプションを使用すると、使用するソースデータをすばやく特定できます。

>[!NOTE]
>
>「ソースデータの検索」オプションは、Analytics、分類、イベントハブおよびKinesisのコネクタを除く、すべての表形式ベースのソースコネクタで使用できます。

ソースデータを見つけたら、ディレクトリを選択し、「**[!UICONTROL 次へ]**」をクリックします。

![select-data](../../../images/tutorials/dataflow/databases/select-data.png)


## データフィールドのXDMスキーマへのマッピング

*マッピング*&#x200B;の手順が表示され、ソースデータをプラットフォームデータセットにマッピングするためのインタラクティブなインターフェイスが提供されます。

取り込む受信データのデータセットを選択します。 既存のデータセットを使用することも、新しいデータセットを作成することもできます。

### 既存のデータセットを使用する

既存のデータセットにデータを取り込むには、**[!UICONTROL 既存のデータセット]**&#x200B;を選択し、データセットアイコンをクリックします。

![](../../../images/tutorials/dataflow/databases/existing-dataset.png)

**[!UICONTROL データセットを選択]**&#x200B;ダイアログが表示されます。 使用するデータセットを見つけて選択し、**[!UICONTROL 続行]**&#x200B;をクリックします。

![](../../../images/tutorials/dataflow/databases/select-existing-dataset.png)

### 新しいデータセットの使用

データを新しいデータセットに取り込むには、**[!UICONTROL 新しいデータセット]**&#x200B;を選択し、提供されたフィールドにデータセットの名前と説明を入力します。

**[!UICONTROL 検索バー]**&#x200B;にスキーマ名を入力して、スキーマフィールドを添付できます。 ドロップダウンアイコンを選択して、既存のスキーマのリストを表示することもできます。 または、「**[!UICONTROL アドバンス検索]**」を選択して、既存のスキーマの各詳細を含む画面にアクセスすることもできます。

この手順では、[!DNL Real-time Customer Profile]のデータセットを有効にし、エンティティの属性と動作の全体的な表示を作成できます。 すべての有効なデータセットのデータは[!DNL Profile]に含まれ、変更はデータフローの保存時に適用されます。

**[!UICONTROL プロファイルデータセット]**&#x200B;ボタンを切り替えて、[!DNL Profile]のターゲットデータセットを有効にします。

![create-new-dataset](../../../images/tutorials/dataflow/databases/new-dataset.png)

**[!UICONTROL スキーマを選択]**&#x200B;ダイアログが表示されます。 新しいデータセットに適用するスキーマを選択し、**[!UICONTROL 完了]**&#x200B;をクリックします。

![](../../../images/tutorials/dataflow/databases/select-existing-schema.png)

必要に応じて、フィールドを直接マップするか、マッパー関数を使用してソースデータを変換し、計算値や計算値を抽出することができます。 データマッピングとマッパー関数の詳細については、[CSVデータのXDMスキーマフィールドへのマッピング](../../../../ingestion/tutorials/map-a-csv-file.md)のチュートリアルを参照してください。

>[!TIP]
>
>[!DNL Platform] 選択したターゲットスキーマまたはデータセットに基づいて、自動マップされたフィールドに高度な推奨機能を提供します。使用事例に合わせて手動でマッピングルールを調整できます。

![](../../../images/tutorials/dataflow/all-tabular/mapping.png)

**[!UICONTROL プレビューデータ]**&#x200B;を選択すると、選択したデータセットから最大100行のサンプルデータのマッピング結果を確認できます。

マッピング結果を検証する際に必要な重要な情報なので、プレビュー時に、ID列が最初のフィールドとして優先付けされます。

![](../../../images/tutorials/dataflow/all-tabular/mapping-preview.png)

ソースデータがマッピングされたら、「**[!UICONTROL 閉じる]**」を選択します。

## インジェストのスケジュール設定

**[!UICONTROL スケジュール]**&#x200B;の手順が表示され、設定されたマッピングを使用して選択したソースデータを自動的に取り込むように取り込みスケジュールを設定できます。 次の表に、スケジュール設定用の様々な設定可能フィールドの概要を示します。

| フィールド | 説明 |
| --- | --- |
| 頻度 | 選択可能な周波数には、`Once`、`Minute`、`Hour`、`Day`、`Week`があります。 |
| 間隔 | 選択した頻度の間隔を設定する整数。 |
| 開始時間 | 最初の取り込みがいつ行われるかを示すUTCタイムスタンプ。 |
| 埋め戻し | 最初に取り込まれるデータを決定するboolean値です。 **[!UICONTROL バックフィル]**&#x200B;が有効な場合、指定されたパス内の現在のファイルは、最初にスケジュールされた取り込み中にすべて取り込まれます。 **[!UICONTROL バックフィル]**&#x200B;が無効な場合は、最初のインジェスト実行から開始時間の間にロードされたファイルのみが取り込まれます。 開始時間より前に読み込まれたファイルは取り込まれません。 |
| 差分列 | タイプ、日付または時間のフィルターされたソーススキーマフィールドセットを含むオプションです。 このフィールドは、新規データと既存データを区別するために使用します。 増分データは、選択した列のタイムスタンプに基づいて取り込まれます。 |

データフローは、スケジュールに基づいてデータを自動的に取り込むように設計されています。 開始するには、取り込み頻度を選択します。 次に、2つのフローの実行間隔を指定する間隔を設定します。 間隔の値は、0以外の整数で、15以上に設定する必要があります。

取り込みの開始時間を設定するには、開始時間ボックスに表示される日時を調整します。 または、カレンダーアイコンを選択して、開始時間の値を編集することもできます。 開始時刻は、現在のUTC時刻以上にする必要があります。

「**[!UICONTROL Load incremental data by]**」を選択して、差分列を割り当てます。 このフィールドは、新規データと既存データの区別を示します。

![](../../../images/tutorials/dataflow/databases/schedule-interval-on.png)

### 1回のみの取り込みデータフローの設定

1回のみのインジェストを設定するには、頻度ドロップダウン矢印を選択し、「**[!UICONTROL 1回]**」を選択します。

>[!TIP]
>
>**[!UICONTROL 1回限り]** の取り込みでは、 **** Intervaland Backfillは表示されません。

スケジュールに適切な値を指定したら、「**[!UICONTROL 次へ]**」を選択します。

![](../../../images/tutorials/dataflow/databases/schedule-once.png)

## データフローの詳細の指定

**[!UICONTROL Dataflow detail]**&#x200B;ステップが表示され、新しいデータフローに名前を付け、簡単な説明を入力できます。

このプロセス中に、**[!UICONTROL 部分的な取り込み]**&#x200B;と&#x200B;**[!UICONTROL エラー診断]**&#x200B;を有効にすることもできます。 **[!UICONTROL 部分的な取り込み]**&#x200B;を有効にすると、エラーを含むデータを特定のしきい値まで取り込むことができます。 **[!UICONTROL 部分的な取り込み]**&#x200B;が有効になったら、**[!UICONTROL エラーしきい値%]**&#x200B;ダイヤルをドラッグして、バッチのエラーしきい値を調整します。 または、入力ボックスを選択して手動でしきい値を調整することもできます。 詳しくは、[部分的なバッチインジェストの概要](../../../../ingestion/batch-ingestion/partial.md)を参照してください。
データフローの値を指定し、「**[!UICONTROL 次へ]**」を選択します。

![](../../../images/tutorials/dataflow/databases/dataflow-detail.png)

## データフローの確認

「**[!UICONTROL レビュー]**」ステップが表示され、新しいデータフローを作成前に確認できます。 詳細は次のカテゴリに分類されます。

- **[!UICONTROL 接続]**:ソースの種類、選択したソースファイルの関連パス、およびそのソースファイル内の列数が表示されます。
- **[!UICONTROL データセットとマップのフィールドの割り当て]**:ソースデータが取り込まれるデータセット(データセットに従うスキーマなど)を示します。
- **[!UICONTROL スケジュール]**:取り込みスケジュールの有効期間、頻度、間隔を表示します。

データフローを確認したら、**[!UICONTROL 「Finish]**」をクリックし、データフローの作成に時間を割り当てます。

![](../../../images/tutorials/dataflow/databases/review.png)

## データフローの監視

データフローを作成したら、データフローを介して取り込まれるデータを監視し、取り込み率、成功、エラーに関する情報を確認できます。 データフローの監視方法の詳細については、UI](../monitor.md)の[監視アカウントとデータフローのチュートリアルを参照してください。

## データフローの削除

不要になった、または不適切に作成されたデータフローは、**[!UICONTROL Dataflows]**&#x200B;ワークスペースにある&#x200B;**[!UICONTROL Delete]**&#x200B;関数を使用して削除できます。 データフローの削除方法の詳細については、UI](../delete.md)での[データフローの削除に関するチュートリアルを参照してください。

## 次の手順

このチュートリアルに従うと、外部データベースからデータを取り込むためのデータフローが正しく作成され、監視データセットに関する洞察が得られます。 受信データは、[!DNL Real-time Customer Profile]や[!DNL Data Science Workspace]などのダウンストリーム[!DNL Platform]サービスで使用できるようになりました。 詳しくは、次のドキュメントを参照してください。

- [[!DNL Real-time Customer Profile] 概要](../../../../profile/home.md)
- [[!DNL Data Science Workspace] 概要](../../../../data-science-workspace/home.md)

## 付録

以下の節では、ソースコネクタを使用する場合の追加情報について説明します。

### データフローの無効化

データフローが作成されると、そのデータはすぐにアクティブになり、指定されたスケジュールに従ってデータを取り込みます。 アクティブなデータフローは、次の手順に従っていつでも無効にできます。

**[!UICONTROL ソース]**&#x200B;ワークスペース内で、**[!UICONTROL データフロー]**&#x200B;タブを選択します。 次に、無効にするデータフローを選択します。

![](../../../images/tutorials/dataflow/databases/list-of-dataflows.png)

**[!UICONTROL プロパティ]**&#x200B;列が画面の右側に表示されます。**[!UICONTROL 有効]**&#x200B;切り替えボタンが含まれます。 切り替えを選択して、データフローを無効にします。 同じ切り替えを使用して、データフローを無効にした後で再び有効にできます。

![](../../../images/tutorials/dataflow/databases/disable.png)

### [!DNL Profile]母集団の受信データをアクティブ化

ソースコネクタからの受信データは、[!DNL Real-time Customer Profile]データを豊かにし、埋め込むために使用できます。 [!DNL Real-time Customer Profile]データの入力について詳しくは、[プロファイルの母集団](../profile.md)のチュートリアルを参照してください。
