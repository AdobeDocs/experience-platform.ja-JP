---
keywords: Experience Platform；ホーム；よく読まれるトピック；データフローの設定；広告コネクタ
solution: Experience Platform
title: UI での広告ソース接続用のデータフローの設定
topic-legacy: overview
type: Tutorial
description: データフローは、ソースからAdobe Experience Platformデータセットにデータを取得して取り込むスケジュール済みタスクです。 このチュートリアルでは、広告アカウントを使用して新しいデータフローを設定する手順を説明します。
exl-id: 8dd1d809-e812-4a13-8831-189726b2430e
source-git-commit: 46fb08a10bc05dc758bdcb025693f819b980b41a
workflow-type: tm+mt
source-wordcount: '1474'
ht-degree: 4%

---

# UI での広告接続用のデータフローの設定

データフローは、ソースからAdobe Experience Platformデータセットにデータを取得して取り込むスケジュール済みタスクです。 このチュートリアルでは、広告アカウントを使用して新しいデータフローを設定する手順を説明します。

## はじめに

このチュートリアルは、Adobe Experience Platform の次のコンポーネントを実際に利用および理解しているユーザーを対象としています。

- [[!DNL Experience Data Model (XDM)] システム](../../../../xdm/home.md):顧客体験データを整理する際に使用す [!DNL Experience Platform] る標準化されたフレームワーク。
   - [スキーマ構成の基本](../../../../xdm/schema/composition.md)：スキーマ構成の主要な原則やベストプラクティスなど、XDM スキーマの基本的な構成要素について学びます。
   - [スキーマエディターのチュートリアル](../../../../xdm/tutorials/create-schema-ui.md):スキーマエディターの UI を使用してカスタムスキーマを作成する方法を説明します。
- [[!DNL Real-time Customer Profile]](../../../../profile/home.md)：複数のソースからの集計データに基づいて、統合されたリアルタイムの顧客プロファイルを提供します。

さらに、このチュートリアルでは、既に Advertising アカウントを作成している必要があります。 UI で様々な支払いコネクタを作成するためのチュートリアルのリストは、[ ソースコネクタの概要 ](../../../home.md) に記載されています。

## データの選択

広告アカウントを作成すると、「**[!UICONTROL データを選択]**」手順が表示され、ファイル階層を調べるためのインタラクティブなインターフェイスが提供されます。

- インターフェイスの左半分はディレクトリブラウザーで、サーバーのファイルとディレクトリが表示されます。
- インターフェイスの右半分で、互換性のあるファイルから最大 100 行のデータをプレビューできます。

ページ上部の「**[!UICONTROL 検索]**」オプションを使用して、使用するソースデータをすばやく特定できます。

>[!NOTE]
>
>ソースデータの検索オプションは、Analytics、分類、Event Hubs、Kinesisコネクタを除く、すべての表形式ベースのソースコネクタで使用できます。

ソースデータを見つけたら、ディレクトリを選択し、「**[!UICONTROL 次へ]**」をクリックします。

![select-data](../../../images/tutorials/dataflow/all-tabular/select-data.png)


## データフィールドの XDM スキーマへのマッピング

**[!UICONTROL マッピング]** 手順が表示され、ソースデータを [!DNL Platform] データセットにマッピングするインタラクティブなインターフェイスが提供されます。

取り込む受信データのデータセットを選択します。 既存のデータセットを使用するか、新しいデータセットを作成できます。

### 既存のデータセットを使用する

データを既存のデータセットに取り込むには、「**[!UICONTROL 既存のデータセットを使用]**」を選択し、データセットアイコンをクリックします。

![use-existing-dataset](../../../images/tutorials/dataflow/advertising/use-existing-target-dataset.png)

**[!UICONTROL データセットの選択]** ダイアログが表示されます。 使用するデータセットを見つけて選択し、「**[!UICONTROL 続行]**」をクリックします。

![select-existing-dataset](../../../images/tutorials/dataflow/advertising/select-existing-dataset.png)

### 新しいデータセットの使用

データを新しいデータセットに取り込むには、「**[!UICONTROL 新しいデータセットを作成]**」を選択し、指定したフィールドにデータセットの名前と説明を入力します。

**[!UICONTROL スキーマを選択]** 検索バーにスキーマ名を入力して、スキーマフィールドを添付できます。 また、ドロップダウンアイコンを選択して、既存のスキーマのリストを表示することもできます。 または、「**[!UICONTROL 詳細検索]**」を選択して、既存のスキーマの画面にそれぞれの詳細を含めてアクセスできます。

この手順の間に、[!DNL Real-time Customer Profile] のデータセットを有効にし、エンティティの属性と動作の全体像を作成できます。 有効なすべてのデータセットのデータは [!DNL Profile] に含まれ、変更はデータフローの保存時に適用されます。

「**[!UICONTROL プロファイルデータセット]**」ボタンを切り替えて、[!DNL Profile] のターゲットデータセットを有効にします。

![create-new-dataset](../../../images/tutorials/dataflow/advertising/target-dataset.png)

**[!UICONTROL スキーマを選択]** ダイアログが表示されます。 新しいデータセットに適用するスキーマを選択し、「**[!DNL Done]**」をクリックします。

![select-schema](../../../images/tutorials/dataflow/advertising/select-existing-schema.png)

必要に応じて、フィールドを直接マッピングするか、データ準備関数を使用してソース・データを変換し、計算済値または計算済値を取得できます。 マッパー関数と計算フィールドの詳細については、『[ データ準備関数ガイド ](../../../../data-prep/functions.md)』または『[ 計算フィールドガイド ](../../../../data-prep/calculated-fields.md)』を参照してください。

>[!TIP]
>
>[!DNL Platform] は、選択したターゲットスキーマまたはデータセットに基づいて、自動マッピングされたフィールドに関するインテリジェントな推奨事項を提供します。マッピングルールは、使用例に合わせて手動で調整できます。

![](../../../images/tutorials/dataflow/all-tabular/mapping.png)

「**[!UICONTROL データのプレビュー]**」を選択すると、選択したデータセットから最大 100 行のサンプルデータのマッピング結果が表示されます。

プレビュー時、ID 列は最初のフィールドとして優先付けされます。マッピング結果を検証する際に必要な重要な情報です。

![](../../../images/tutorials/dataflow/all-tabular/mapping-preview.png)

ソースデータがマッピングされたら、「**[!UICONTROL 閉じる]**」を選択します。

## 取得の実行のスケジュール

**[!UICONTROL スケジュール]** 手順が表示され、設定済みのマッピングを使用して選択したソースデータを自動的に取り込むように取り込みスケジュールを設定できます。 次の表に、スケジュール設定用の様々な設定可能フィールドの概要を示します。

| フィールド | 説明 |
| --- | --- |
| 頻度 | 選択可能な周波数は、`Once`、`Minute`、`Hour`、`Day`、`Week` です。 |
| 間隔 | 選択した頻度の間隔を設定する整数。 |
| 開始時間 | 最初の取り込みがいつおこなわれるかを示す UTC タイムスタンプ。 |
| バックフィル | 最初に取り込まれるデータを決定する boolean 値です。 **[!UICONTROL バックフィル]** が有効になっている場合、指定されたパス内の現在のファイルは、最初にスケジュールされた取り込みの間にすべて取り込まれます。 **[!UICONTROL バックフィル]** が無効になっている場合は、最初の取り込み実行から開始時刻までの間に読み込まれたファイルのみが取り込まれます。 開始時刻より前に読み込まれたファイルは取り込まれません。 |
| デルタ列 | フィルターを適用した、タイプ、日付、時間のソーススキーマフィールドセットを含むオプション。 このフィールドは、新しいデータと既存のデータを区別するために使用されます。 増分データは、選択した列のタイムスタンプに基づいて取り込まれます。 |

データフローは、スケジュールに従ってデータを自動的に取り込むように設計されています。 まず、取得頻度を選択します。 次に、2 つのフロー実行間隔を指定する間隔を設定します。 間隔の値はゼロ以外の整数で、15 以上に設定する必要があります。

取り込みの開始時間を設定するには、開始時間ボックスに表示される日時を調整します。 または、カレンダーアイコンを選択して開始時間の値を編集できます。 開始時刻は、現在の UTC 時刻以上にする必要があります。

「**[!UICONTROL 増分データを]** で読み込む」を選択して、差分列を割り当てます。 このフィールドは、新しいデータと既存のデータの違いを示します。

![schedule-interval](../../../images/tutorials/dataflow/databases/schedule-interval-on.png)

### 1 回限りの取得データフローの設定

1 回限りの取り込みを設定するには、頻度ドロップダウン矢印を選択し、「**[!UICONTROL 1 回]**」を選択します。

>[!TIP]
>
>**** 1 回限り **** の取り込みでは、インターバランドバックフィルは表示されません。

スケジュールに適切な値を指定したら、「**[!UICONTROL 次へ]**」を選択します。

![スケジュール 1 回](../../../images/tutorials/dataflow/databases/schedule-once.png)

## データフローの詳細の入力

**[!UICONTROL データフローの詳細]** 手順が表示され、新しいデータフローに名前を付け、簡単な説明を入力できます。

このプロセスの間に、**[!UICONTROL 部分取得]** と **[!UICONTROL エラー診断]** を有効にすることもできます。 **[!UICONTROL 部分取得]** を有効にすると、エラーを含むデータを特定のしきい値まで取り込むことができます。 **[!UICONTROL 部分取得]** を有効にしたら、**[!UICONTROL エラーしきい値%]** ダイヤルをドラッグして、バッチのエラーしきい値を調整します。 または、入力ボックスを選択して手動でしきい値を調整することもできます。 詳しくは、「[ バッチ取得の部分の概要 ](../../../../ingestion/batch-ingestion/partial.md)」を参照してください。
データフローの値を指定し、「**[!UICONTROL 次へ]**」を選択します。

![dataflow-details](../../../images/tutorials/dataflow/all-tabular/dataflow-detail.png)

## データフローの確認

「**[!UICONTROL レビュー]**」手順が表示され、新しいデータフローを作成前に確認できます。 詳細は、次のカテゴリに分類されます。

- **[!UICONTROL 接続]**:ソースの種類、選択したソースファイルの関連パス、およびそのソースファイル内の列数を表示します。
- **[!UICONTROL データセットとマップのフィールドの割り当て]**:データセットが準拠するスキーマなど、ソースデータの取り込み先のデータセットを示します。
- **[!UICONTROL スケジュール]**:取り込みスケジュールのアクティブな期間、頻度、間隔を示します。

データフローをレビューしたら、「**[!UICONTROL 完了]**」をクリックし、データフローの作成に時間を割きます。

![レビュー](../../../images/tutorials/dataflow/advertising/review.png)

## データフローの監視

データフローを作成したら、データフローを介して取り込まれるデータを監視して、取り込み率、成功、エラーに関する情報を確認できます。 データフローの監視方法の詳細については、UI での [ アカウントとデータフローの監視に関するチュートリアル ](../monitor.md) を参照してください。

## データフローの削除

不要になったデータフローや誤って作成されたデータフローは、**[!UICONTROL Dataflows]** ワークスペースの **[!UICONTROL Delete]** 関数を使用して削除できます。 データフローの削除方法の詳細については、[UI でのデータフローの削除 ](../delete.md) に関するチュートリアルを参照してください。

## 次の手順

このチュートリアルに従うと、マーケティング自動化システムからデータを取り込むためのデータフローを作成し、監視データセットに関するインサイトを得ることができます。 受信データは、[!DNL Real-time Customer Profile] や [!DNL Data Science Workspace] など、ダウンストリームの [!DNL Platform] サービスで使用できるようになりました。 詳しくは、次のドキュメントを参照してください。

- [リアルタイム顧客プロファイルの概要](../../../../profile/home.md)
- [Data Science Workspace の概要](../../../../data-science-workspace/home.md)

## 付録

次の節では、ソースコネクタの操作に関する追加情報を示します。

### データフローの無効化

データフローを作成すると、すぐにアクティブになり、指定されたスケジュールに従ってデータが取り込まれます。 次の手順に従うことで、アクティブなデータフローをいつでも無効にできます。

**[!UICONTROL データフロー]** 画面で、無効にするデータフローの名前を選択します。

![browse-dataset-flow](../../../images/tutorials/dataflow/advertising/view-dataset-flows.png)

画面の右側に **[!UICONTROL プロパティ]** 列が表示されます。 このパネルには、**[!UICONTROL 有効]** 切り替えボタンが表示されます。 切り替えボタンをクリックして、データフローを無効にします。 同じ切り替えを使用して、データフローを無効にした後で再度有効にできます。

![disable](../../../images/tutorials/dataflow/advertising/disable.png)

### [!DNL Profile] 母集団の受信データをアクティブ化

ソースコネクタからの受信データは、[!DNL Real-time Customer Profile] データのエンリッチメントと入力に使用できます。 [!DNL Real-time Customer Profile] データの入力について詳しくは、[ プロファイルの母集団 ](../profile.md) に関するチュートリアルを参照してください。
