---
title: （ベータ版）クラウドストレージの宛先へのデータセットの書き出し
type: Tutorial
description: Adobe Experience Platformから目的のクラウドストレージの場所にデータセットを書き出す方法を説明します。
source-git-commit: 97a39e12d916e4fbd048c0fb9ddfa9bdfa10d438
workflow-type: tm+mt
source-wordcount: '1309'
ht-degree: 9%

---

# （ベータ版）クラウドストレージの宛先にデータセットを書き出す

>[!IMPORTANT]
>
>* データセットを書き出す機能は、現在ベータ版で、すべてのユーザーが使用できるわけではありません。 ドキュメントと機能は変更される場合があります。
>* このベータ版機能は、Real-time Customer Data Platformで定義されている第 1 世代データの書き出しをサポートします [製品の説明](https://helpx.adobe.com/legal/product-descriptions/real-time-customer-data-platform-b2c-edition-prime-and-ultimate-packages.html).
>* この機能は、Real-Time CDP Prime および Ultimate パッケージを購入したお客様が利用できます。 詳しくは、Adobe担当者にお問い合わせください。


この記事では、エクスポートに必要なワークフローについて説明します [データセット](/help/catalog/datasets/overview.md) Adobe Experience Platformから目的のクラウドストレージの場所 ( [!DNL Amazon S3]、SFTP の場所、または [!DNL Google Cloud Storage].

## セグメントをアクティブ化する場合、またはデータセットを書き出す場合 {#when-to-activate-segments-or-activate-datasets}

セグメントカタログ内の一部のファイルベースの宛先は、Experience Platformのアクティベーションとデータセットの書き出しの両方をサポートしています。

* データをオーディエンスの関心または資格別にグループ化する場合は、セグメントのアクティブ化を検討してください。
* また、オーディエンスの関心や資格でグループ化または構造化されていない未加工のデータセットを書き出す場合は、データセットの書き出しを検討します。 このデータは、レポート、データサイエンスワークフロー、コンプライアンス要件、その他多くの使用例に使用できます。

このドキュメントには、データセットの書き出しに必要な情報がすべて含まれています。 クラウドストレージまたは電子メールマーケティングの宛先に対してセグメントをアクティブ化する場合は、 [プロファイルの一括書き出し先に対するオーディエンスデータのアクティブ化](/help/destinations/ui/activate-batch-profile-destinations.md).

## 前提条件 {#prerequisites}

データセットをクラウドストレージの宛先に書き出すには、 [宛先に接続されている](./connect-destination.md). まだ接続していない場合は、[宛先カタログ](../catalog/overview.md)に移動し、サポートされている宛先を参照し、使用する宛先を設定します。

### 必要な権限 {#permissions}

データセットを書き出すには、 **[!UICONTROL 宛先の管理]**, **[!UICONTROL 宛先の表示]**, **[!UICONTROL 宛先のアクティブ化]**、および **[!UICONTROL データセットの宛先の管理とアクティブ化]** [アクセス制御権限](/help/access-control/home.md#permissions). 詳しくは、[アクセス制御の概要](/help/access-control/ui/overview.md)または製品管理者に問い合わせて、必要な権限を取得してください。

データセットの書き出しに必要な権限を持ち、宛先でデータセットの書き出しがサポートされていることを確認するには、宛先カタログを参照します。 宛先に **[!UICONTROL 有効化]** または **[!UICONTROL データセットを書き出し]** コントロールを使用する場合、適切な権限を持っています。

## 宛先を選択 {#select-destination}

手順に従って、データセットを書き出す宛先を選択します。

1. **[!UICONTROL 接続／宛先]**&#x200B;に移動し、「**[!UICONTROL カタログ]**」タブを選択します。

   ![カタログコントロールがハイライト表示された宛先カタログタブ](/help/destinations/assets/ui/export-datasets/catalog-tab.png)

1. 選択 **[!UICONTROL 有効化]** または **[!UICONTROL データセットを書き出し]** を、データセットの書き出し先の宛先に対応するカードに貼り付けます。

   ![[ コントロールをアクティブ化 ] がハイライト表示された [ 宛先カタログ ] タブ](/help/destinations/assets/ui/export-datasets/activate-button.png)

1. 選択 **[!UICONTROL データタイプデータセット]** をクリックし、データセットの書き出し先の接続を選択して、「 」を選択します。 **[!UICONTROL 次へ]**.

>[!TIP]
> 
>データセットを書き出す新しい宛先を設定する場合は、「 **[!UICONTROL 新しい宛先の設定]** トリガー [宛先に接続](/help/destinations/ui/connect-destination.md) ワークフロー。

![データセットコントロールが強調表示された宛先のアクティベーションワークフロー。](/help/destinations/assets/ui/export-datasets/select-datatype-datasets.png)

1. この **[!UICONTROL データセットを選択]** ビューが表示されます。 次のセクションに進み、 [データセットを選択](#select-datasets) エクスポート用。

## データセットを選択 {#select-datasets}

データセット名の左側にあるチェックボックスを使用して、宛先に書き出すデータセットを選択し、を選択します。 **[!UICONTROL 次へ]**.

![書き出すデータセットを選択できる「データセットの選択」手順を示すデータセット書き出しワークフロー。](/help/destinations/assets/ui/export-datasets/select-datasets.png)

## データセットの書き出しをスケジュール {#scheduling}

>[!CONTEXTUALHELP]
>id="platform_destinations_activate_datasets_exportoptions"
>title="データセットのファイル書き出しオプション"
>abstract="選択 **増分ファイルの書き出し** ：最後のエクスポート以降にデータセットに追加されたデータのみをエクスポートします。 <br> 最初の増分ファイル書き出しでは、データセット内のすべてのデータが含まれ、バックフィルとして機能します。 今後の増分ファイルには、最初のエクスポート以降にデータセットに追加されたデータのみが含まれます。"

内 **[!UICONTROL スケジュール]** 手順では、データセットのエクスポートの開始日とエクスポートケイデンスを設定できます。

この **[!UICONTROL 増分ファイルの書き出し]** 」オプションが自動的に選択されます。 このトリガーでは、エクスポートを実行します。最初のファイルは、データセットの完全なスナップショットで、それ以降のファイルは、前回のエクスポート以降の増分追加です。

>[!IMPORTANT]
>
>最初に書き出した増分ファイルには、データセット内の既存のデータがすべて含まれ、バックフィルとして機能します。

![スケジュール設定手順を示すデータセット書き出しワークフロー。](/help/destinations/assets/ui/export-datasets/export-incremental-datasets.png)

1. 「**[!UICONTROL 頻度]**」セレクターを使用して、書き出しの頻度を選択します。

   * **[!UICONTROL 毎日]**:増分ファイルのエクスポートを、指定した時刻に 1 日 1 回スケジュールします。
   * **[!UICONTROL 毎時]**:3、6、8、12 時間ごとに増分ファイルのエクスポートをスケジュールします。

2. 「**[!UICONTROL 時間]**」セレクターを使用して、ファイルが書き出される時刻を [!DNL UTC] 形式を指定します。

3. **[!UICONTROL 日付]**&#x200B;セレクターを使用して、エクスポートを実行する間隔を選択します。機能のベータ版では、エクスポートの終了日を設定できないことに注意してください。 詳しくは、 [既知の制限事項](#known-limitations) 」セクションに入力します。

4. 選択 **[!UICONTROL 次へ]** スケジュールを保存し、 **[!UICONTROL レビュー]** 手順

>[!NOTE]
> 
>データセット書き出しの場合、ファイル名には事前に設定されたデフォルトの形式が使用され、これを変更することはできません。 の節を参照してください。 [データセットの書き出しが成功したことを確認します](#verify) に、書き出したファイルの詳細と例を示します。

## レビュー {#review}

「**[!UICONTROL 確認]**」ページには、選択の概要が表示されます。選択 **[!UICONTROL キャンセル]** 流れを切り開く **[!UICONTROL 戻る]** 設定を変更するには、または **[!UICONTROL 完了]** 選択を確認し、宛先へのデータセットの書き出しを開始します。

![レビューステップを表示するデータセット書き出しワークフロー。](/help/destinations/assets/ui/export-datasets/review.png)

## データセットの書き出しが成功したことを確認します {#verify}

データセットを書き出す際、Experience Platformは `.json` または `.parquet` ファイルを指定したストレージの場所に保存します。 指定した書き出しスケジュールに従って、新しいファイルがストレージの場所に保存されます。

Experience Platformは、指定したストレージの場所にフォルダー構造を作成し、書き出されたデータセットファイルを格納します。 書き出し時に、次のパターンに従って新しいフォルダーが作成されます。

`folder-name-you-provided/datasetID/exportTime=YYYYMMDDHHMM`

デフォルトのファイル名はランダムに生成され、書き出されたファイル名は一意になります。

### データセットファイルの例 {#sample-files}

ストレージの場所にこれらのファイルが存在する場合、書き出しが成功したことが確認されます。 書き出されたファイルの構造を理解するには、サンプルをダウンロードできます。 [.parquet ファイル](../assets/common/part-00000-tid-253136349007858095-a93bcf2e-d8c5-4dd6-8619-5c662e261097-672704-1-c000.parquet) または [.json ファイル](../assets/common/part-00000-tid-4172098795867639101-0b8c5520-9999-4cff-bdf5-1f32c8c47cb9-451986-1-c000.json).

## 宛先からデータセットを削除 {#remove-dataset}

既存のデータフローからデータセットを削除するには、次の手順に従います。

1. にログインします。 [Experience PlatformUI](https://platform.adobe.com/) を選択し、 **[!UICONTROL 宛先]** をクリックします。 選択 **[!UICONTROL 参照]** を上部のヘッダーから開き、既存の宛先データフローを表示します。

   ![宛先の参照ビューが表示され、宛先の接続が表示され、残りの部分がぼやけています。](../assets/ui/export-datasets/browse-dataset-connections.png)

   >[!TIP]
   > 
   >フィルターアイコンを選択します。 ![フィルターアイコン](../assets/ui/edit-activation/filter.png) をクリックして、並べ替えパネルを起動します。 並べ替えパネルには、すべての宛先のリストが表示されます。 リストから複数の宛先を選択して、選択した宛先に関連付けられたデータフローのフィルタリングされた選択を表示できます。

1. 次の **[!UICONTROL アクティベーションデータ]** 列で、「データセットコントロール」を選択して、このエクスポートデータフローにマッピングされているすべてのデータセットを表示します。

   ![「 Activation data 」列で強調表示されている、使用可能なデータセットナビゲーションオプション。](../assets/ui/export-datasets/go-to-datasets-data.png)

1. この **[!UICONTROL アクティベーションデータ]** リンク先のページが表示されます。 選択 **[!UICONTROL データセットを削除]** 右側のレールで、「データセット削除の確認」ダイアログをトリガーします。

   ![右側のパネルに「データセットの削除」コントロールが表示されているデータセット削除ダイアログ。](../assets/ui/export-datasets/remove-dataset-control.png)

1. 確認ダイアログで、「 」を選択します。 **[!UICONTROL 削除]** をクリックすると、書き出し先に対するデータセットが直ちに削除されます。

   ![データフローの「データセットの削除を確認」オプションを示すダイアログ。](../assets/ui/export-datasets/remove-dataset-confirm.png)

## 既知の制限事項 {#known-limitations}

データセット書き出しのベータリリースでは、次の制限事項に注意してください。

* 現在、1 つの権限 (**[!UICONTROL データセットの宛先の管理とアクティブ化]**) には、データセットの宛先に対する権限の管理とアクティブ化が含まれます。 これらのコントロールは、今後、より詳細な権限に分割されます。 以下を確認します。 [必要な権限](#permissions) の節を参照して、データセットを書き出す必要がある権限の完全なリストを確認してください。
* 現在、増分ファイルの書き出しのみ可能で、データセット書き出しでは終了日を選択できません。
* 現在、書き出されたファイル名はカスタマイズできません。
* 現在、宛先に書き出されるデータセットの削除は、UI によってブロックされることはありません。 宛先に書き出すデータセットは削除しないでください。 [データセットを削除する](#remove-dataset) を削除する前に宛先のデータフローから取得する必要があります。
* データセット書き出しの監視指標は、現在、プロファイル書き出しの数値と混在しているので、実際の書き出し数値を反映していません。
