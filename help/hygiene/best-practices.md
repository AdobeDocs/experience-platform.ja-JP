---
title: 高度なデータ・ライフサイクル管理のベスト・プラクティス
description: 高度なデータライフサイクル管理 UI と Data Hygiene API を使用して、Adobe Experience Platformのデータハイジーンリクエストを効率的に管理する方法について説明します。 このガイドでは、リクエストごとの ID の最大化、個々のデータセットの指定、速度低下を防ぐための API スロットルへの配慮などのベストプラクティスを説明します。 このドキュメントには、データセットの自動クリーンアップの設定に関するガイドライン、作業指示のステータスを監視する方法、詳細な応答取得方法が含まれています。 これらのプラクティスに従って、リクエスト処理を効率化し、応答時間を最適化します。
source-git-commit: 92667fd4da093e56dcf06ae1696484671d9fdd38
workflow-type: tm+mt
source-wordcount: '779'
ht-degree: 0%

---

# 高度なデータ・ライフサイクル管理のベスト・プラクティス

Advanced Data Lifecycle Management UI と Data Hygiene API を使用して、クリーンアップリクエストを効率的に管理し、Adobe Experience Platform サービスからデータを削除します。 これらのベストプラクティスに従って、リクエスト処理を効率化し、完了までの応答時間を最適化します。

## 前提条件 {#prerequisites}

このガイドでは、データライフサイクルワークスペースおよびについて実際に理解している必要があります [データハイジーン API](./api/overview.md). このドキュメントを続行する前に、のガイドを確認してください [高度なデータ・ライフサイクル管理](./home.md) および [レコード削除リクエストの作成](./ui/record-delete.md) または [ui のデータセット有効期限](./ui/dataset-expiration.md)または API を使用して作成できます。

## 作業指示の作成ガイドライン {#work-order-creation-guidelines}

を使用できます `/workorder` data Hygiene API のエンドポイントを使用して、Experience Platformのレコード削除リクエストをプログラムで管理する。 このエンドポイントを使用すると、削除リクエストの作成、そのステータスの確認、既存のリクエストの更新をおこなうことができます。 を参照してください。 [作業指示エンドポイントドキュメント](./api/workorder.md) api を使用してこれらのアクションを実行する方法について説明します。

>[!TIP]
>
>作業指示は、効率的で体系的な処理を確保するために、データのクリーンアップや変換などの特定のデータ管理操作を実行する構造化されたリクエストです。

クリーンアップリクエストの送信を最適化するには、次のガイドラインに従います。

1. **リクエストあたりの ID の最大化：** クリーンアップリクエストごとに最大 100,000 個の ID を含めて、効率を高めます。 複数の ID を 1 つのリクエストにバッチ処理すると、API 呼び出しの頻度を減らし、過剰な単一 ID 要求に起因するパフォーマンスの問題のリスクを最小限に抑えることができます。
2. **個々のデータセットを指定します。** 最大の効率を得るには、処理する個々のデータセットを指定します。
3. **複数のリクエストを送信します。** 作業指示が効率のためにバッチ処理されるので、処理を高速化するために、ID 数が最大の複数のリクエストを送信します。
4. **API スロットルに関する考慮事項：** API スロットルを考慮して、速度の低下を防ぎます。 より高い頻度で小さいリクエスト（100 未満の ID）を行うと、429 の応答が返され、許容可能な割合で再送信が必要になる場合があります。

### 429 エラーの管理 {#manage-429-errors}

429 エラーが表示された場合は、特定の期間内に許可されているリクエスト数を超えていることを示しています。 次のベストプラクティスに従って、429 エラーを効果的に管理します。

- **「Retry-After」ヘッダーを読み取る**:429 エラーが返されたら、「Retry-After」応答ヘッダーを確認します。 このヘッダーでは、リクエストを再試行するまでの待機時間を指定します。
- **再試行ロジックの実装**：アプリケーションに再試行ロジックを実装するには、「Retry-After」値を使用し、その後の 429 エラーを避けるために、指定した時間の後に再試行が試行されるようにします。
- **リクエストのバッチ処理**：多数の小さなリクエストを迅速に送信するのは避けます。 代わりに、複数の ID を 1 つのリクエストにバッチ化して、呼び出しの頻度を減らし、レート制限に達するリスクを最小限に抑えます。

## データセットの有効期限 {#dataset-expiration}

短時間のみ有効なデータのデータセットクリーンアップの自動設定。 の使用 `/ttl` data Hygiene API のエンドポイントで、データセットの有効期限をスケジュールします。 の使用 `/ttl` 指定した時間または日付に基づいてデータセットクリーンアップをトリガーするためのエンドポイント。 方法については、データセット有効期限エンドポイントガイドを参照してください [データセット有効期限の作成](./api/dataset-expiration.md) および [許可されたクエリパラメーター](./api/dataset-expiration.md#query-params).

## 作業指示およびデータセットの有効期限ステータスの監視 {#monitor}

を使用すると、データライフサイクル管理の進行状況を効率的に監視できます。 **I/O イベント**. I/O イベントは、Platform 内の様々なサービスの変更や更新に関するリアルタイム通知を受信するメカニズムです。

I/O イベントアラートを設定済みの Webhook に送信して、アクティビティ監視を自動化できます。 Webhook を介してアラートを受け取るには、Adobe Developer コンソールで Platform アラートの Webhook を登録する必要があります。 のガイドを参照してください [Adobe I/Oイベント通知の登録](../observability/alerts/subscribe.md) 詳しい説明をご覧ください。

次のデータ・ライフサイクル・メソッドおよびガイドラインを使用して、ジョブ・ステータスを効果的に取得および監視します。

### I/O イベント {#io-events}

データ・ライフサイクル・タスクの進行状況を効率的に監視するには、次の手順に従って I/O イベントを設定および使用します。

- ステータスの変更に関するプッシュ通知を受信する Webhook を設定します。
- 通知を使用して進行状況を監視し、完了時に更新を受け取ります。
- API トラフィックを最小限に抑えるためにポーリングメカニズムを実装しないでください。

### 1 つの作業指示に対する詳細な応答の取得 {#retrieve-detailed-work-order-response}

個々の作業指示について詳しくは、次の方法を使用します。

- に対してGETリクエストを実行します。 `/workorder{work_order_id}` 応答データの詳細のエンドポイント。
- 製品固有の応答と成功メッセージを取得します。
- 通常のポーリングアクティビティには、この方法を使用しないでください。

これらのベストプラクティスに従うことで、クリーンアップリクエストを効果的に管理し、高度なデータライフサイクル管理内での応答時間を最適化できます。
