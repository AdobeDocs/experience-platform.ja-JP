---
title: 拡張機能の開発の概要
description: 様々なタグ拡張タイプの主なコンポーネントと、Adobe Experience Platformの拡張機能の開発プロセスについて説明します。
source-git-commit: 7e27735697882065566ebdeccc36998ec368e404
workflow-type: tm+mt
source-wordcount: '948'
ht-degree: 19%

---

# 拡張機能の開発の概要

>[!NOTE]
>
>Adobe Experience Platform Launchは、Adobe Experience Platformのデータ収集テクノロジーのスイートとしてリブランドされました。 その結果、製品ドキュメント全体でいくつかの用語の変更がロールアウトされました。 用語の変更点の一覧については、次の[ドキュメント](../term-updates.md)を参照してください。

Adobe Experience Platformのタグの主な目標の1つは、Adobe外のエンジニアがWebサイトやモバイルアプリケーションで追加の機能を公開できるオープンなエコシステムを構築することです。 これは、タグ拡張を通じて実行されます。 拡張機能がタグプロパティにインストールされると、その拡張機能の機能がプロパティのすべてのユーザーが使用できるようになります。

このドキュメントでは、拡張機能の主なコンポーネントの概要を説明し、拡張機能の開発プロセスに関するガイドに役立つ追加ドキュメントへのリンクを提供します。

## 拡張機能の構造

拡張機能は、ファイルのディレクトリで構成されます。 特に、拡張機能は、マニフェストファイル、ライブラリモジュール、ビューで構成されます。

### マニフェストファイル

マニフェストファイル([`extension.json`](./manifest.md))は、ディレクトリのルートに存在する必要があります。 このファイルは、拡張機能の構成と、特定のファイルがディレクトリ内のどこにあるかを説明します。 マニフェストは、[npm](https://www.npmjs.com/)プロジェクトの[`package.json`](https://docs.npmjs.com/files/package.json)ファイルと同じように機能します。

### ライブラリモジュール

ライブラリモジュールは、拡張機能が提供する様々な[コンポーネント](#components)（つまり、タグランタイムライブラリ内で発行されるロジック）を記述するファイルです。 各ライブラリモジュールファイルの内容は、[CommonJSモジュールの標準](http://wiki.commonjs.org/wiki/Modules/1.1.1)に従う必要があります。

例えば、「ビーコンを送信」と呼ばれるアクションタイプを作成する場合、ビーコンを送信するロジックを含むファイルが必要です。 JavaScriptを使用している場合は、ファイルを`sendBeacon.js`と呼び出すことができます。 このファイルの内容は、タグランタイムライブラリ内で発行されます。

`extension.json`内の場所を記述すれば、拡張ディレクトリ内の任意の場所にライブラリモジュールファイルを配置できます。

### 件数

ビューは、特にデータ収集UIを通じてタグアプリケーション内の[`iframe`要素](https://developer.mozilla.org/ja-JP/docs/Web/HTML/Element/iframe)に読み込むことができるHTMLファイルです。 アプリケーションと通信するには、拡張機能で提供されるスクリプトがビューに含まれ、小さなAPIに準拠している必要があります。

拡張機能で最も重要なビューファイルは、その設定です。 詳しくは、[拡張機能の設定](#configuration)の節を参照してください。

ビュー内で使用するライブラリに関して制限はありません。 つまり、jQuery、Underscore、React、Angular、Bootstrap、その他を使用できます。 ただし、拡張機能のルックアンドフィールをデータ収集UIと同じにすることをお勧めします。

すべての表示関連ファイル（HTML、CSS、JavaScript）は、ライブラリモジュールファイルから分離された 1 つのサブディレクトリ内に配置することをお勧めします。 `extension.json`には、このビューサブディレクトリの場所を記述できます。 その後、Platformは、Webサーバーからこのサブディレクトリ（およびこのサブディレクトリのみ）を提供します。

## ライブラリコンポーネント {#components}

各拡張機能は、一連の機能を定義します。 これらの機能は、Webサイトまたはアプリにデプロイされる[ライブラリ](../ui/publishing/libraries.md)に含めることで実装されます。 ライブラリは、条件、アクション、データ要素など、個々のコンポーネントの集まりです。 各ライブラリコンポーネントは、タグランタイム内で発行される再利用可能なコード（拡張機能によって提供される）です。

web拡張機能とエッジ拡張機能のどちらを開発しているかに応じて、使用可能なコンポーネントのタイプとその使用例は異なります。 各拡張機能タイプで使用できるコンポーネントの概要については、以下のサブセクションを参照してください。

### web拡張機能のコンポーネント {#web}

web 拡張機能では、ルールはイベントを介してトリガーされます。その後、特定の条件が満たされた場合に、特定のアクションを実行できます。詳しくは、](./web/flow.md)web 拡張機能のモジュールフロー[の概要を参照してください。

Adobeが提供する[コアモジュール](./web/core.md)に加えて、web拡張機能で次のライブラリコンポーネントを定義できます。

* [イベント](./web/event-types.md)
* [条件](./web/condition-types.md)
* [アクション](./web/action-types.md)
* [データ要素](./web/data-element-types.md)
* [共有モジュール](./web/shared.md)

>[!NOTE]
>
>web拡張機能にライブラリコンポーネントを実装するための必要な形式について詳しくは、[モジュール形式の概要](./web/format.md)を参照してください。

### エッジ拡張機能のコンポーネント {#edge}

エッジ拡張機能では、条件チェックを通じてルールがトリガーされ、チェックが合格すると、特定のアクションが実行されます。詳しくは、[エッジ拡張機能のフロー](./edge/flow.md)の概要を参照してください。

次のライブラリコンポーネントをエッジ拡張機能に定義できます。

* [条件](./edge/condition-types.md)
* [アクション](./edge/action-types.md)
* [データ要素](./edge/data-element-types.md)

>[!NOTE]
>
>エッジ拡張機能にライブラリモジュールを実装するための必要な形式について詳しくは、[モジュール形式の概要](./edge/format.md)に関するページを参照してください。

## 拡張機能の設定 {#configuration}

拡張機能の設定では、ユーザーからグローバル設定を収集する方法を指定します。この設定は、タグランタイムライブラリ内の設定をプレーンオブジェクトとして書き出し、発行するビューコンポーネントで構成されます。

例えば、「ビーコンを送信」アクションを使用してユーザーがビーコンを送信でき、ビーコンには常にアカウントIDを含める必要がある拡張機能を考えてみます。 拡張機能では、「ビーコンの送信」アクションを設定するたびにアカウントIDをユーザーに求めるのではなく、拡張機能の設定表示からアカウントIDを1回求める必要があります。 ビーコンが送信されるたびに、「ビーコンを送信」アクションは拡張機能設定からアカウントIDを取り出し、ビーコンに追加できます。

ユーザーがUIのプロパティに拡張機能をインストールすると、拡張機能の設定ビューが表示されます。インストールを完了するには、このビューを完了する必要があります。

詳しくは、[拡張機能の設定](./configuration.md)に関するガイドを参照してください。

## 拡張機能の送信

拡張機能の構築が完了したら、その拡張機能を送信して、Platformの拡張機能カタログに表示できます。 詳しくは、[拡張機能の送信プロセスの概要](./submit/overview.md)を参照してください。