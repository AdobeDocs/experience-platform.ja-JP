---
title: コア拡張機能のリリースノート
description: Adobe Experience Platform のコア拡張機能に関する最新のリリースノートです。
exl-id: a049b2d5-7a00-435d-bcc7-112658a53a1e
source-git-commit: 5441c6ca0c15996ee06afa2c795ec5ae6e030f35
workflow-type: tm+mt
source-wordcount: '1565'
ht-degree: 98%

---

# コア拡張機能のリリースノート

>[!NOTE]
>
>Adobe Experience Platform Launch は、Adobe Experience Platform のデータ収集テクノロジースイートとしてリブランドされています。 その結果、製品ドキュメント全体でいくつかの用語の変更がロールアウトされました。 用語の変更点の一覧については、次の[ドキュメント](../../../term-updates.md)を参照してください。

## 2022 年 1 月 4 日（PT）

v3.3.0

* を変更します。 [トリガーの直接呼び出しアクション](./overview.md#direct-call-action) を使用して、ダイレクト型ルールに送信するカスタムイベント情報を指定できます。

## 2021年10月8日（PT）

v3.2.2

* 使用可能なすべての演算子について、条件付き値データ要素の JSON スキーマを修正します。
* https://github.com/adobe/reactor-extension-core/issues/64 を修正します。

## 2021 年 9 月 23 日（PT）

v3.2.1

* フィールド値が 0 のときに、条件値のデータ要素のビューが正しく初期化がされないエラーを修正しました。

## 2021 年 9 月 23 日（PT）

v3.2.0

条件値のデータ要素に次の変更が取り入れられました。

* 条件値とフォールバック値のチェックボックスを追加して、ユーザーが未定義を戻り値にするかどうかを選択できるようにします。
* 数値は、設定オブジェクトに数値として表示されます。
* フォールバック値と同じように動作できるように、条件値は不要になりました。

## 2021 年 9 月 17 日（PT）

v3.1.1

* 日付範囲の条件ビューを読み込めない原因となっていた JS エラーを修正しました。

## 2021 年 9 月 16 日（PT）

v3.1.0

新しいデータ要素が追加されました。

* 結合オブジェクト - オブジェクトを提供するデータ要素を複数選択します。これらのオブジェクトは、深く（再帰的に）結合されて、1 つの新しいオブジェクトを生成します。
* 条件値 - 比較した結果に基づいて、2 つの値（conditionalValue または fallbackValue）のいずれかを返します。
* ランタイム環境 - 環境ステージ、ライブラリ作成日、プロパティ名、プロパティ ID、ルール名、ルール ID、イベントタイプ、イベント詳細ペイロード、直接呼び出し識別情報などの、Launch チ環境変数のいずれかを返します。
* JavaScript ツール - 基本文字列操作（置換、部分文字列、正規表現の一致、最初と最後のインデックス、分割、スライス）、基本配列操作（スライス、結合、ポップ、シフト）、基本ユニバーサル操作（スライス、長さ）などの、一般的な JavaScript 操作のラッパー。
* デバイス属性 - ウィンドウサイズや画面サイズなどのデバイス属性を返します。

## 2021 年 8 月 11 日（PT）

v3.0.0

* PDCL-6153：完全修飾 URL を、キャッシュされたカスタムコードアクションへと確実に取り込むためのサポートを追加しました。

Core 拡張機能の v3.0.0 は、[Turbine web ランタイム v27.2.0](https://github.com/adobe/reactor-turbine/releases/tag/v27.2.0) の変更点と連動しています。これにより、ユーザー企業がプレミアム CDN をサポートしている場合、Adobe が管理する多くのホスティングリージョン間でライブラリを読み込むことができます。

このアップグレードは、プレミアム CDN を使用していない場合はオプションであり後方互換性があります。プレミアム CDN を有効にしている企業では必須です。

## 2021 年 5 月 20 日（PT）

v2.0.7

* テキスト入力でマウス操作が正しく機能しなくなる問題を修正しました。
* ブラウザーとオペレーティングシステムの条件の使用を廃止します。

## 2021 年 5 月 4 日（PT）

v2.0.6

* 画面サイズが変更されるとアイコンがゆがむ問題を修正するため、小規模のアップデートを行いました。

## 2021 年 3 月 11 日（PT）

v2.0.5

* 遅延オプションを持つイベントおよびアクションのランタイム評価のコードが更新されました。2.0.4 リリースで追加されたデータ要素値がサポートされ、文字列を数値に適切に強制変換できるようになりました。

## 2021 年 3 月 9 日（PT）

v2.0.4

* さまざまなフィールドにデータ要素のサポートを追加しました - 次のイベントにデータ要素のサポートが追加されました：「ページ滞在時間」、「ビューポートに入る」、「ホバー」、「メディアの再生時間」。次の条件もあります：「サイト滞在時間」と「値の比較」
* リンクディレイの使用時の Ctrl／Command キーを押しながらクリック、およびマウスの中ボタンのクリックに対するデフォルト動作のサポートを追加します。
* **クリックイベントでのリンクディレイを「サポートされなくなりました」とマークしました。** - 詳しくは、Adobe Experience Platform の [データ収集ブログ](https://experienceleaguecommunities.adobe.com/t5/adobe-experience-platform-launch/explainer-link-delay/ba-p/398403) を参照してください

## 2021 年 1 月 6 日（PT）

v1.9.0

* **新しい「直接呼び出しのトリガー」アクション** - コア拡張機能に、「`Trigger Direct Call`」という新しいアクションタイプが追加されました。これは、別のルールのアクションを介して直接呼出しのルールをトリガーする場合に使用できます。これは、`_satellite.track()`メソッドに直接マッピングされます。この投稿に対し、[Jan Exner](https://twitter.com/jexner) 氏にお礼を申し上げます。

## 2020 年 12 月 8 日（PT）

v1.8.4

* ユーザーが CSP の NONCE をクリアまたは設定解除できなかった問題を修正しました。

## 2020 年 7 月 28 日（PT）

v1.8.3

* CSP nonce が、カスタムコードアクションの呼び出し中に新規にプルされるのではなく、拡張機能の起動時に 1 回だけ読み取られる問題を修正しました。

## 2020 年 7 月 13 日（PT）

v1.8.2

* カスタムコードアクションがタグ名のないトークン（コメントなど）を含む HTML コードに対してエラーをスローしていたバグを修正しました。

## 2020 年 7 月 10 日（PT）

v1.8.1

* `script` タグと `style` タグの属性内のカスタム HTML エンティティが、ページに書き込まれる前に正しくデコードされなかった問題を修正しました。
* 外部のカスタムコードアクションにコンテンツがない場合にエラーが発生するバグを修正しました。外部カスタムコードアクションは、ライブラリとは異なるファイルから読み込まれるアクションです（これは、ルールをトリガーするイベントが libraryLoaded または pageBottom ではない場合に発生します）。

## 2020 年 7 月 6 日（PT）

v1.8.0

* **カスタムコードの Promise**：カスタムコードの条件と、グローバルスコープで実行されない JavaScript アクションが Promises を返すようになりました。これらを使用して後続の条件を設定し、カスタムコードで非同期プロセスが完了するのを待ってから次の項目に進むことができます。
* **HTML カスタムコードアクションのコールバック**：`onCustomCodeSuccess()` コールバックと `onCustomCodeFailure()` コールバックを使用して HTML カスタムコードアクションでも、同じ結果を実現できます。

詳しくは、条件／カスタムコードとアクション／カスタムコードの [コア拡張機能リファレンス](./overview.md) を参照してください。

## 2020 年 4 月 7 日（PT）

v1.7.3

* **テキストフィールドの長さの増加**：ユーザーの画面の幅をより有効に活用し、より長いテキスト文字列のためのスペースを増やすために、テキスト入力フィールドをフレックスレイアウトに変更しました。

## 2019 年 11 月 1 日（PT）

v1.7.0

* **カスタムコードデータ要素内の `event` 変数へのアクセス**：ルールのコンテキスト内で実行する場合、カスタムコードデータ要素内からイベントを参照できるようになりました。このオブジェクトには、ルールをトリガーしたイベントに関する便利な情報が含まれます。この投稿に対し、[Stewart Schilling](https://twitter.com/sdi_stewart) 氏にお礼を申し上げます。

## 2019 年 10 月 7 日（PT）

v1.6.2

* **新しい「Constant」データ要素タイプ**：コア拡張機能に、「`Constant`」という新しいデータ要素が追加されました。このデータ要素は、様々な条件、アクションまたはカスタムコードで参照される定数値を保存する必要がある場合に使用できます。この投稿に対し、[Jan Exner](https://twitter.com/jexner) 氏にお礼を申し上げます。

## 2019 年 9 月 11 日（PT）

v1.6.1

* **CSP nonce のサポート**：コア拡張機能にオプションの構成パラメーターが追加されました。nonce を参照するデータ要素を追加できます。設定した場合、タグがページに追加するすべてのインラインスクリプトで、指定した nonce を使用します。この変更により、コンテンツセキュリティポリシーをナンスで使用できるため、引き続き CSP 環境でタグスクリプトを読み込むことができます。CSP でのタグの使用について詳しくは、 [こちら](../../../ui/client-side/content-security-policy.md) を参照してください。

## 2019 年 6 月 18 日（PT）

v1.5.0

* **ダイレクト型ログ**：ダイレクト型ルールのブラウザーログを渡す際、追加情報を提供するようになりました。

## 2019 年 5 月 8 日（PT）

v1.4.3

* **入力フィールド**：入力フィールドが大幅に長くなりました。
* **カスタムイベント**：ウィンドウからディスパッチされるイベントでカスタムイベントタイプを使用できるようになりました。
* **バグ修正**：値の比較条件で 0 の値が保持されないバグを修正しました。
* **バグ修正**：exchange\_url フィールドが更新され、Adobe Exchange に Core 拡張機能が表示されるようになりました。

## 2019 年 1 月 8 日（PT）

v1.4.2

* **「Enters Viewport」イベント**：以前、「Enters Viewport」イベントはページごとに 1 回だけトリガーされていました。この動作を、要素がビューポートに入るたびにトリガーするように設定できるようになりました。
* **「Custom Event」イベント**：「Custom Event」に、条件やアクション内で使用できるコンテキストデータを含められるようになりました。
* **「Click」イベント**：「Click」イベントにリンク遅延を設定すると、アンカー自体だけではなく、アンカーの子孫に対して正しく登録されるようになりました。

## 2018 年 11 月 8 日（PT）

* **コホート保持オプション**：コホートを持続するオプションがサンプリング条件に追加されました。これにより、セッションをまたいでサンプルコホートにユーザーを保持したり、サンプルコホートから削除できるようになります。例えば、「persist cohort」チェックボックスがオンになっており、条件が特定の訪問者に対して最初に実行されたときに true を返す場合、同じ訪問者に対して、その後のすべての条件の実行時に true が返されます。同様に、「persist cohort」チェックボックスがオンになっており、条件が特定の訪問者に対して最初に実行されたときに false を返す場合、同じ訪問者に対して、その後のすべての条件の実行時に false が返されます。
* **バグ修正**：タグが同期的に読み込まれるが適切にインストールされていない（`_satellite.pageBottom()` への呼び出しがない）ページで「Page Bottom」イベントとカスタムコードアクションを使用するルールが Web サイトのコンテンツを消去する問題を修正しました。
* **バグ修正**：タグライブラリが非同期で読み込まれ、ブラウザーの DOMContentLoaded イベントが実行された後に読み込みを終了した場合、「ビューポートを開く」が機能しない問題を修正しました。

## 2018 年 5 月 24 日（PT）

* **機能**：値比較条件を追加し、使用可能な演算子のいずれかを使用して 2 つの値を比較します。これにより、いくつかの具体的すぎた古い条件の機能が置き換えられました。
* **機能**：最大頻度条件に追加されたこの条件を使用すると、ある期間またはイベントの発生内で true を返す回数を指定できます。例：1 日あたり 5 回、訪問あたり 2 回。

## 2018 年 4 月 11 日（PT）

* **機能**：データ要素が他のデータ要素を参照できるようになりました。

## 2018 年 3 月 20 日（PT）

* **バグ修正**：カスタムコードウィンドウで `document.write` エラーが返され、非同期デプロイメントで実行されなかった問題を修正しました
* **バグ修正**：メインモジュールがライブラリに含まれていなかった問題を修正しました
* **バグ修正**：乱数データ要素の最小値および最大値で発生していた問題を修正しました

## 2018 年 1 月 10 日（PT）

* **機能**：乱数データ要素
* **機能**：ページ情報データ要素
* **機能**：日付条件
* **機能**：サンプリング条件
