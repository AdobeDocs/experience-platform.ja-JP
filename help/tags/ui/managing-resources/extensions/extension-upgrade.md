---
title: 拡張機能のアップグレード
description: 拡張機能のアップグレードをパッケージ化する方法、および拡張機能カタログに表示する方法について説明します。
exl-id: 4a7e0c5c-4bd1-4fb8-8509-f88a0aa42ac4
source-git-commit: 44e2b8241a8c348d155df3061d398c4fa43adcea
workflow-type: tm+mt
source-wordcount: '620'
ht-degree: 100%

---

# 拡張機能のアップグレード

拡張機能開発者は、拡張機能に新しい機能を継続的に追加し、頻繁にバグを修正します。これらのアップデートは、拡張機能の新しいバージョンへとパッケージ化され、アップグレードとして拡張機能カタログ内で使用できるようになります。

## 拡張機能カタログ

拡張機能の開発者が拡張機能の新しいバージョンを提供すると、拡張機能カタログで新しいバージョンを入手できるようになります。カタログには、拡張機能の最新バージョンのみが表示されます。`latest` バージョン以外の拡張機能をインストールすることはできません。

プロパティに拡張機能をインストールすると、現在使用可能なバージョンがインストールされます。新しいバージョンがカタログに追加された場合でも、プロパティはその時点以降の特定のバージョンのままとなります。

## アップグレード通知

プロパティに拡張機能をインストールして、新しいバージョンをカタログに追加した場合と、インストール済みの拡張機能ページを表示すると、拡張機能カードに「[!UICONTROL Upgrade]」ボタンが表示されます。

その拡張機能によって提供されるリソースを編集する際にも、通知が表示されます。

## アップグレードは永続的

カタログ内の新しいバージョンにアップグレードする場合は、そのアップグレードを自分でインストールする必要があります。アップグレードは、デプロイされたタグに影響を与える前にライブラリに追加、テスト、公開する必要がある「変更」です。

アップグレードは慎重におこなってください。新しい拡張機能をテストする準備をおこない、デプロイする準備が完了している場合を除き、アップグレードはしないでください。プロパティにアップグレードが追加されたら、すべてのライブラリに追加する必要があります。アップグレードされた拡張機能を含まないライブラリは、ビルド時に失敗します。

現在、拡張機能を以前のバージョンにダウングレードする機能はありません。アップグレードが完了すると（公開するかどうかにかかわらず）、新しい拡張機能バージョンがプロパティに表示されます。

## アップグレードプロセス

アップグレードのインストールは、初めて拡張機能をインストールする場合と同じです。

1. 「**[!UICONTROL Upgrade]**」を選択して[!UICONTROL Extension Configuration]画面に移動します。
1. 設定に対し、必要な変更を加えます。
1. **[!UICONTROL Save]** を選択します。

「**[!UICONTROL Save]**」をクリックするまで、アップグレードは実際には実行されません。それまでであればいつでも、「[!UICONTROL Cancel]」を選択して、現在インストールされているバージョンを保持できます。「**[!UICONTROL Save]**」を選択すると元に戻せなくなります。

ステータスが `Approved` または `Submitted` となっているライブラリがある場合、拡張機能をアップグレードすることはきません。これは、次のビルドに新しい拡張バージョンを含める必要があるためです。`Approved` または `Submitted` のライブラリの場合、次のビルドは実稼動ビルドになります。最新バージョンが含まれていないのでそのビルドは失敗します。そのためワークフローでは、拡張機能をアップグレードする&#x200B;_前に_、ステータスが `Approved` または `Submitted` のライブラリを公開または拒否します。

## アップグレードの公開

アップグレードされた拡張機能をプロパティにインストールしたら、それ以降のすべてのライブラリにその拡張機能をそこに含める必要があります。ビルドエラーメッセージは、そのビルドを含まないあらゆるライブラリに対して表示されます。

その点を除き、アップグレードされた拡張機能をライブラリに追加する操作は、ライブラリに [別の変更を追加](../../publishing/libraries.md)する場合と同じです。

[!UICONTROL Edit Library] 画面から「[!UICONTROL Add All Changed Resources]」ボタンまたは「[!UICONTROL Add a Resource]」ボタンを使用して、アップグレードされた拡張機能を独自に選択できます。

>[!TIP]
>
> 拡張機能開発者は、新しい機能を有効にするために、拡張機能ビューに新しい設定項目を追加できます。新しい拡張機能バージョンにアップグレードした後でビルドエラーが表示され、ビルドエラーをその拡張機能に隔離した場合は、まず拡張機能の「Configure」ページに移動して、必ず（何も変更していなくても）「Save」をクリックします。次に、ライブラリに新しい変更を追加して、もう一度ビルドを試みます。

ライブラリに拡張機能のアップグレードを追加したら、[公開フロー](../../publishing/publishing-flow.md)で説明されている手順に従って、ライブラリを実稼動環境に公開できます。
