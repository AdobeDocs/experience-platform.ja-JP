---
title: SFTP ホスト
description: セキュリティで保護された自己ホスト SFTP サーバーにライブラリビルドを配信するように Adobe Experience Platform にタグを設定する方法について説明します。
exl-id: 3c1dc43b-291c-4df4-94f7-a03b25dbb44c
source-git-commit: 8ded2aed32dffa4f0923fedac7baf798e68a9ec9
workflow-type: tm+mt
source-wordcount: '820'
ht-degree: 40%

---

# SFTP ホスト

>[!NOTE]
>
>Adobe Experience Platform Launch は、Adobe Experience Platform のデータ収集テクノロジースイートとしてリブランドされています。 その結果、製品ドキュメント全体でいくつかの用語の変更がロールアウトされました。 用語の変更点の一覧については、次の[ドキュメント](../../../term-updates.md)を参照してください。

Adobe Experience Platformでは、タグライブラリビルドをホストする保護された SFTP サーバーに配信し、ビルドの保存方法と管理方法をより詳細に制御できます。 このガイドでは、Experience PlatformUI またはデータ収集 UI でタグプロパティの SFTP ホストを設定する方法について説明します。

>[!NOTE]
>
>代わりに、Adobeが管理するホストの使用を選択することもできます。 詳しくは、 [Adobe管理ホスト](./managed-by-adobe-host.md) を参照してください。
>
>自己ホスト型ライブラリのメリットと制限事項については、 [自己ホストガイド](./self-hosting-libraries.md).

## サーバーのアクセスキーを設定する {#access-key}

Platform は、暗号化されたキーを使用して SFTP サイトに接続します。これを正しく設定するには、いくつかの手順があります。

### 公開鍵と秘密鍵のペアの作成

SFTP サーバーに公開鍵と秘密鍵のペアがインストールされている必要があります。これらのキーは、サーバー上で生成することも、別の場所で生成してサーバーにインストールすることもできます。詳しくは、 [SSH キーを生成する方法](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#generating-a-new-ssh-key) に関する GitHub のドキュメントを参照してください。

### キーを暗号化

秘密キーは、公開 キーの暗号化に使用されます。SFTP ホストの作成プロセス中に、秘密キーを提供する必要があります。詳しくは、 [値の暗号化](../../../api/guides/encrypting-values.md) 公開鍵の暗号化手順については、 Reactor API ガイドを参照してください。 特定の GPG キーが必要であることがわかっている場合を除き、実稼動環境の GPG キーを使用します。最後に、任意のマシンから秘密鍵を暗号化することができます。サーバーに GPG をインストールしてこの手順を完了する必要はありません。

### プ許可リストラットフォーム IP アドレス

Platform が SFTP サーバーに到達して接続できるよう、会社のファイアウォール内で使用する IP アドレスのセットを承認する必要が生じる場合があります。 次の IP アドレスがあります。

* `184.72.239.68`
* `23.20.85.113`
* `54.226.193.184`

>[!NOTE]
>
>タグビルドの構造は時間の経過と共に変化しています。内部的にシンボリックリンク（symlinks）を使用して以前の埋め込みコードの下位互換性を維持し、以前の埋め込みコードが最新のビルド構造で引き続き機能するようにします。SFTP サーバーがタグビルドの有効な宛先として機能するには、シンボリックリンクの使用をサポートしている必要があります。

詳しくは、 [SFTP サーバーを設定してビルドを配信する方法](https://medium.com/launch-by-adobe/configuring-an-sftp-server-for-use-with-adobe-launch-bc626027e5a6) に関する次の Medium の記事を参照してください。

## SFTP ホストの作成 {#create}

選択 **[!UICONTROL ホスト]** 左のナビゲーションで、その後に **[!UICONTROL ホストを追加]**.

![UI で「ホストを追加」ボタンが選択されていることを示す画像](../../../images/ui/publishing/sftp-hosts/add-host-button.png)

ホスト作成ダイアログが表示されます。 ホストの名前を指定し、の下に **[!UICONTROL タイプ]**&#x200B;を選択します。 **[!UICONTROL SFTP]**.

![SFTP ホスティングオプションが選択されていることを示す画像](../../../images/ui/publishing/sftp-hosts/select-sftp.png)

### SFTP ホストの設定 {#configure}

ダイアログが展開し、SFTP ホストの追加の設定オプションが含まれます。 以下に、これらについて説明します。

![SFTP ホスト接続に必要な詳細を示す画像](../../../images/ui/publishing/sftp-hosts/host-details.png)

| 設定フィールド | 説明 |
| --- | --- |
| [!UICONTROL シンボリックリンクを使用しない] | デフォルトでは、すべての SFTP ホストは、ライブラリを参照するためにシンボリックリンク (symlinks) を使用します [ビルド](../builds.md) サーバーに保存された ただし、一部のサーバでは symlinks の使用がサポートされているわけではありません。 このオプションを選択すると、ホストはコピー操作を使用して、シンボリックリンクを使用する代わりに、ビルドアセットを直接更新します。 |
| [!UICONTROL SFTP サーバー URL] | サーバーの URL ベースパス。 |
| [!UICONTROL パス] | このホストのベースサーバー URL に追加するパス。 |
| [!UICONTROL ポート] | ポートは、次のいずれかである必要があります。<ul><li>`21`</li><li>`22`</li><li>`80`</li><li>`200-299`</li><li>`443`</li><li>`2000-2999`</li><li>`4343`</li><li>`8080`</li><li>`8888`</li></ul>セキュリティ上のベストプラクティスとして、アドビでは、送信トラフィックに使用できるポートの数を制限しています。選択したポートは、通常、企業のファイアウォールを通じて許可され、柔軟性を高めるために一部の範囲を含みます。 |
| [!UICONTROL ユーザー名] | サーバーへのアクセス時に使用するユーザー名。 |
| [!UICONTROL 暗号化された秘密鍵] | で作成した暗号化された秘密鍵 [前の手順](#access-key). |

選択 **[!UICONTROL 保存]** 選択した設定でホストを作成します。

![保存される SFTP ホストを示す画像](../../../images/ui/publishing/sftp-hosts/save-host.png)

「**[!UICONTROL 保存]**」を選択すると、SFTP サーバーにファイルを配信するための接続と機能がテストされます。Platform は、フォルダーを作成し、そのフォルダー内にファイルを書き込み、そのフォルダー内にファイルが書き込まれていることを確認し、それ自体をクリーンアップします。 SFTP サーバー上のユーザーアカウント（Platform に提供したセキュア証明書に接続されているもの）が、このアクションを実行するのに必要な権限を持っていない場合、ホストは「失敗」ステータスになります。

## 次の手順

このガイドでは、タグで使用する自己ホスト SFTP サーバーを設定する方法について説明しました。 ホストが確立されたら、そのホストを 1 つ以上の [環境](../environments.md) タグライブラリを公開するために使用します。 Web またはモバイルプロパティでタグ機能をアクティブ化するプロセスの概要について詳しくは、 [公開の概要](../overview.md).
