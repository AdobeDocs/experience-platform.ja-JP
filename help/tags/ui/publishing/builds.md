---
title: ビルド
description: ビルドの概念と、Adobe Experience Platform 内でそれらがどう機能するかについて説明します。
exl-id: af899282-aa2d-4395-8dbd-18d91be3f041
source-git-commit: a8b0282004dd57096dfc63a9adb82ad70d37495d
workflow-type: tm+mt
source-wordcount: '787'
ht-degree: 100%

---

# ビルド

>[!NOTE]
>
>Adobe Experience Platform Launch は、Adobe Experience Platform のデータ収集テクノロジースイートとしてリブランドされています。 その結果、製品ドキュメント全体でいくつかの用語の変更がロールアウトされました。 用語の変更点の一覧については、次の[ドキュメント](../../term-updates.md)を参照してください。

ビルドは、クライアントデバイス上で実行されるすべてのコードを含むファイルのセットです。

これは、ライブラリ内で指定した変更と、それ以前に送信、承認、または公開されたすべてのものの組み合わせです。

ビルドは、互いに参照するクライアント側コードファイルで構成されます。これらのファイルは、ライブラリ用に選択した環境とホストを使用してホスト場所に配信されます。サイト上でデプロイするコードは同じ場所を示すので、ユーザがサイトやアプリケーションにアクセスするとファイルが読み込まれる可能性があります。

## ファイルコンテンツ

ライブラリは、そこに含める必要のあるタグリソース（拡張機能、ルール、データ要素）のセットを定義します。

ビルドには、すべてのモジュールコード（拡張機能開発者によって指定）と、ライブラリ内に含まれるリソースを強化するために必要な設定（ユーザーが入力）が含まれています。例えば、ルール内で使用されていないアクションを拡張機能が提供している場合、それらのアクションを実行するコードはビルド内には含まれません。

ビルドは、メインライブラリファイルに分割され、多数の小さなファイルになる可能性があります。メインライブラリファイルは埋め込みコードで参照され、実行時にページに読み込まれます。次が含まれます。

* ルールエンジン
* すべての拡張機能の設定
* すべてのデータ要素のコードと設定
* すべてのルールイベントコードと設定
* すべての条件コードと設定
* 「ライブラリ読み込み済み」または「ページボトム」のイベントが含まれるルールのイベントコードと設定（すぐに必要となることがわかっているため）。

小さなファイルには、必要に応じてページに読み込まれる個々のアクションのコードと設定が含まれています。ルールがトリガーされ、実行する必要があるアクションなどの条件が評価されると、小さいファイルの 1 つから、その特定のアクションに必要なコードと設定が取得されます。つまり、必要なアクションを実行するために必要なコードのみがページに読み込まれるので、メインライブラリをできるだけ小さくすることができます。

## ファイル形式

ビルド用のデフォルトのファイル形式は、拡張機能、データ要素およびルールを希望する方法で実行するために必要なすべてのコードを含むファイルのパッケージです。

ただし、場合によっては、実行可能なクライアント側コードファイルではなく、ユーザーが .zip アーカイブを望むこともあります。例えば、自身でビルドをホストし、そのビルドを別のデプロイメントで使用する場合は、アーカイブを作成できます。ライブラリフィールドへの自己ホスト型パスで何らかの値を指定すると、環境を保存できます。新しいコードと共に、アーカイブされたダウンロードへのリンクが利用可能になります。ライブラリが構築されたら、Akamai に zip ファイルをデプロイし、`assets.adobedtm.com/...` からダウンロードするオプションがあります。

>[!NOTE]
>
> ビルドを作成するまで、その場所には何も存在しません。

ファイル形式に関係なく、ビルドは常にホストで指定された場所に配信されます。

ビルドを完了するには、ライブラリを選択し、公開プロセスのそのレベルで使用可能なビルドオプション（開発用ビルド、ステージング用ビルドなど）を選択します。

## 縮小化

縮小化では、ファイルからの実行に不要なデータを削除することで、帯域幅コストを削減し、速度を向上させます。

パフォーマンスを向上させるために、Platform では、以下を含め、あらゆるものを縮小します。

* メインのタグライブラリ
* 拡張機能開発者が拡張機能の一部として提供するモジュールコード
* Platform ユーザーによって提供されるカスタムコード

>[!NOTE]
>
>モジュールコードとカスタムコードが既に縮小されている場合、Platform はそれらを再び縮小します。この 2 回目の縮小によってメリットが追加されるわけではありませんが、Platform の複雑さが軽減されて管理が容易になります。

クライアントサイドで提供されるコードは、すべて縮小されたバージョンのコードを指します。このことは、縮小されたファイルの標準的な命名規則に従ったファイル名に見られます。

`launch-%environment_id%.min.js`

縮小されていないコードを表示するには、ファイル名から .min を削除します。

`launch-%environment_id%.js`

拡張機能の開発者が拡張機能とともに縮小コードを提供する場合、Platform は縮小されていないビルド内で縮小されていないコードを提供しません。同様に、Platform ユーザーが縮小コードをカスタムコードボックスに配置した場合でも、そのコードは縮小されていないビルドで縮小されたままとなります。Platformは、縮小を解除しません。

縮小化について詳しくは、 [このスタックパス記事](https://blog.stackpath.com/glossary/minification/)を参照してください

ビルドを実行すると、最初に縮小されていないライブラリが構築され、次にライブラリ全体が一度に縮小されます。
