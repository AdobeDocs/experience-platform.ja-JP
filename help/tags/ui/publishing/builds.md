---
title: ビルド
description: ビルドの概念と、Adobe Experience Platform内でのビルドの機能について説明します。
source-git-commit: 7e27735697882065566ebdeccc36998ec368e404
workflow-type: tm+mt
source-wordcount: '787'
ht-degree: 57%

---

# ビルド

>[!NOTE]
>
>Adobe Experience Platform Launchは、Adobe Experience Platformのデータ収集テクノロジーのスイートとしてリブランドされました。 その結果、製品ドキュメント全体でいくつかの用語の変更がロールアウトされました。 用語の変更点の一覧については、次の[ドキュメント](../../term-updates.md)を参照してください。

ビルドは、クライアントデバイス上で実行されるすべてのコードを含むファイルのセットです。

これは、ライブラリ内で指定した変更の組み合わせであり、送信、承認または公開されたすべての変更内容です。

ビルドは、互いに参照するクライアント側コードファイルで構成されます。これらのファイルは、ライブラリ用に選択した環境とホストを使用してホスト場所に配信されます。サイト上でデプロイするコードは同じ場所を示すので、ユーザがサイトやアプリケーションにアクセスするとファイルが読み込まれる可能性があります。

## ファイルコンテンツ

ライブラリは、そこに含める必要のあるタグリソース（拡張機能、ルール、データ要素）のセットを定義します。

ビルドには、すべてのモジュールコード（拡張機能開発者が提供）と、ライブラリ内に含まれるリソースを強化するために必要な設定（ユーザーが入力）が含まれます。 例えば、ルール内で使用されていないアクションを拡張機能が提供する場合、それらのアクションを実行するコードはビルド内に含まれません。

ビルドは、メインライブラリファイルに分割され、多数の小さなファイルになる可能性があります。メインライブラリファイルは埋め込みコードで参照され、実行時にページに読み込まれます。次が含まれます。

* ルールエンジン
* すべての拡張機能の設定
* すべてのデータ要素のコードと設定
* すべてのルールイベントコードと設定
* すべての条件コードと設定
* 「ライブラリ読み込み済み」または「ページボトム」のイベントが含まれるルールのイベントコードと設定（すぐに必要となることがわかっているため）。

小さなファイルには、必要に応じてページに読み込まれる個々のアクションのコードと設定が含まれています。ルールがトリガーされ、アクションを実行する必要があるようにその条件が評価されると、小さいファイルの1つから、その特定のアクションに必要なコードと設定が取得されます。 つまり、必要なアクションを実行するために必要なコードのみがページに読み込まれるので、メインライブラリをできるだけ小さくすることができます。

## ファイル形式

ビルド用のデフォルトのファイル形式は、拡張機能、データ要素およびルールを希望する方法で実行するために必要なすべてのコードを含むファイルのパッケージです。

ただし、場合によっては、実行可能なクライアント側コードファイルではなく、ユーザーが .zip アーカイブを望むこともあります。例えば、自身でビルドをホストし、そのビルドを別のデプロイメントで使用する場合は、アーカイブを作成できます。ライブラリフィールドへの自己ホストパスに何かを指定した場合は、環境を保存できます。 新しいコードと共に、アーカイブされたダウンロードへのリンクが利用可能になります。ライブラリが構築されたら、Akamaiにzipファイルをデプロイし、`assets.adobedtm.com/...`からダウンロードするオプションがあります。

>[!NOTE]
>
> ビルドを作成するまで、その場所には何も存在しません。

ファイル形式に関係なく、ビルドは常にホストで指定された場所に配信されます。

ビルドを完了するには、ライブラリを選択し、公開プロセスのそのレベルで使用可能なビルドオプション（開発用ビルド、ステージング用ビルドなど）を選択します。

## 縮小化

縮小化では、ファイルからの実行に不要なデータを削除することで、帯域幅コストを削減し、速度を向上させます。

パフォーマンスを向上させるために、Platform では、以下を含め、あらゆるものを縮小します。

* メインタグライブラリ
* 拡張機能開発者が拡張機能の一部として提供するモジュールコード
* Platform ユーザーによって提供されるカスタムコード

>[!NOTE]
>
>モジュールコードとカスタムコードが既に縮小されている場合、Platform はそれらを再び縮小します。この 2 回目の縮小によってメリットが追加されるわけではありませんが、Platform の複雑さが軽減されて管理が容易になります。

クライアント側コードが提供する場合は、コードの縮小バージョンを指します。 これは、縮小されたファイルの標準の命名規則に従うファイル名に表示されます。

`launch-%environment_id%.min.js`

縮小されていないコードを表示する場合は、ファイル名から.minを削除します。

`launch-%environment_id%.js`

拡張機能の開発者が拡張機能で縮小コードを提供している場合、Platformは非縮小化ビルド内で非縮小化コードを提供しません。 同様に、Platformユーザーが縮小されたコードをカスタムコードボックスに配置した場合、そのコードは非縮小化ビルドで縮小されたままとなります。 Platformは、何も縮小を解除しません。

縮小化の詳細については、[このスタックパス記事](https://blog.stackpath.com/glossary/minification/)を参照してください。

ビルドを実行すると、最初に非縮小化ライブラリが構築され、次にライブラリ全体が一度に縮小化されます。
