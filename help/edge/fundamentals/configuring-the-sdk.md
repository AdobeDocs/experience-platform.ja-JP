---
title: SDK の設定
seo-title: Adobe Experience PlatformWeb SDKの設定
description: Experience Platform Web SDK の設定方法について説明します
seo-description: Experience Platform Web SDK の設定方法について説明します
keywords: 設定；設定；SDK；エッジ；Web SDK；設定；edgeConfigId；コンテキスト；Web;環境;placeContext;debugEnabled;edgeDomain;orgId;clickBeforeEventSend;defaultConsent;Web設定；prehidingStyle;cookieDestinations;enabledDestinationsEnabled;idMigrationEnabled;thirdPartyCookiesEnabled;
translation-type: tm+mt
source-git-commit: 0928dd3eb2c034fac14d14d6e53ba07cdc49a6ea
workflow-type: tm+mt
source-wordcount: '738'
ht-degree: 72%

---


# SDK の設定

SDK の設定は、`configure` コマンドを使用しておこないます。

>[!IMPORTANT]
>
>`configure`は&#x200B;*常にに*、最初に呼び出すコマンドです。

```javascript
alloy("configure", {
  "edgeConfigId": "ebebf826-a01f-4458-8cec-ef61de241c93",
  "orgId":"ADB3LETTERSANDNUMBERS@AdobeOrg"
});
```

設定時には、さまざまなオプションを設定できます。すべてのオプションは、以下で確認できます（カテゴリ別にグループ化されています）。

## 一般オプション

### `edgeConfigId`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | ○ | なし |

割り当てられた設定 ID。SDK を適切なアカウントと設定にリンクします。1 つのページ内で複数のインスタンスを設定する場合は、インスタンスごとに異なる `edgeConfigId` を設定する必要があります。

### `context`

| **タイプ** | **必須** | **デフォルト値** |
| ---------------- | ------------ | -------------------------------------------------- |
| 文字列の配列 | × | `["web", "device", "environment", "placeContext"]` |

「[自動情報](../data-collection/automatic-information.md)」の説明に従って、自動的に収集するコンテキストカテゴリを示します。この設定を指定しない場合、すべてのカテゴリがデフォルトで使用されます。

### `debugEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `false` |

デバッグを有効にする必要があるかどうかを示します。この設定を `true` に設定すると、次の機能が有効になります。

| **機能** | **関数** |
| ---------------------- | ------------------ |
| 同期検証 | 収集されたデータをスキーマと照らし合わせて検証し、ラベル `collect:error OR success` の下の応答でエラーを返します。 |
| コンソールログ | ブラウザーの JavaScript コンソールにデバッグメッセージを表示できるようにします |

### `edgeDomain`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ------------------ |
| 文字列 | × | `beta.adobedc.net` |

Adobeサービスとのやり取りに使用するドメイン。 Adobe エッジインフラストラクチャにリクエストをプロキシするファーストパーティドメイン（CNAME）がある場合にのみ使用されます。

### `orgId`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | ○ | なし |

割り当てられた[!DNL Experience Cloud]組織ID。  1 つのページ内で複数のインスタンスを設定する場合は、インスタンスごとに異なる `orgId` を設定する必要があります。

## データの収集

### `clickCollectionEnabled` {#clickCollectionEnabled}

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| ブール値 | × | `true` |

リンククリックに関連付けられたデータを自動的に収集するかどうかを示します。詳しくは、[自動リンクトラッキング](../data-collection/track-links.md#automaticLinkTracking)を参照してください。

### `onBeforeEventSend`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 関数 | × | () => 未定義 |

すべてのイベントに対して呼び出されるコールバックを送信直前に設定する場合には、これを設定します。フィールド `xdm` を持つオブジェクトがコールバックに送信されます。`xdm`オブジェクトを変更して、送信内容を変更します。  このコールバック内では、`xdm` オブジェクトには、イベントコマンドに渡されたデータと、自動的に収集された情報が既に含まれています。このコールバックのタイミングと例について詳しくは、[イベントのグローバルな変更](tracking-events.md#modifying-events-globally)を参照してください。

## プライバシーオプション

### `defaultConsent` {#default-consent}

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| オブジェクト | × | `"in"` |

ユーザーのデフォルトの同意を設定します。これは、ユーザーに対して同意設定が保存されていない場合に使用されます。もう 1 つの有効な値は `"pending"` です。この設定をおこなうと、ユーザーが同意設定を提供するまで作業はキューに登録されます。ユーザーの環境設定を指定した後、作業を続行するか、ユーザーの環境設定に基づいて中止します。詳しくは、[同意のサポート](../consent/supporting-consent.md)を参照してください。

## パーソナライゼーションオプション

### `prehidingStyle`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | × | なし |

パーソナライズされたコンテンツをサーバーから読み込む際に、Web ページのコンテンツ領域を非表示にする CSS スタイル定義を作成するために使用します。このオプションを指定しない場合、SDKは、パーソナライズされたコンテンツの読み込み中にコンテンツ領域を非表示にしません。その結果、「ちらつき」が発生する可能性があります。

例えば、パーソナライズされたコンテンツがサーバーから読み込まれる間、デフォルトコンテンツを非表示にしたい `container` ID を持つ要素が Web ページ上にある場合、次善非表示スタイルの例は次のようになります。

```javascript
  prehidingStyle: "#container { opacity: 0 !important }"
```

## オーディエンスのオプション

### `cookieDestinationsEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| ブール値 | × | `true` |

[!DNL Audience Manager] cookieの宛先を有効にします。これにより、セグメントクオリフィケーションに基づいたcookieの設定が可能になります。

### `urlDestinationsEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| ブール値 | × | `true` |

[!DNL Audience Manager] URLの送信先を有効にします。これにより、セグメントクオリフィケーションに基づいてURLを呼び出すことができます。

## ID オプション

### `idMigrationEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| ブール値 | × | true |

trueの場合、SDKは古いAMCV cookieを読み取って設定します。 これは、サイトの一部で訪問者.jsを使用している可能性がある場合に、Adobe Experience PlatformWeb SDKへの移行に役立ちます。 また、ページで訪問者APIが定義されている場合、SDKはECIDのクエリ訪問者APIを使用します。 これにより、AEP Web SDKを使用して2つのタグページを作成でき、同じECIDを保持できます。

### `thirdPartyCookiesEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| ブール値 | × | true |

アドビのサードパーティ Cookie の設定を有効にします。SDKは、サードパーティのコンテキストで訪問者IDを永続化して、サイト間で同じ訪問者IDを使用できるようにする機能を備えています。 複数のサイトがある場合や、データをパートナーと共有する場合に役立ちます。ただし、プライバシー上の理由から望ましくないこともあります。
