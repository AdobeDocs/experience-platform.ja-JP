---
title: SDK の設定
seo-title: Adobe Experience Platform Web SDK の設定
description: Experience Platform Web SDK の設定方法について説明します
seo-description: Experience Platform Web SDK の設定方法について説明します
translation-type: tm+mt
source-git-commit: e9fb726ddb84d7a08afb8c0f083a643025b0f903
workflow-type: tm+mt
source-wordcount: '739'
ht-degree: 100%

---


# SDK の設定

SDK の設定は、`configure` コマンドを使用しておこないます。

>[!I重要]
>`configure` は&#x200B;_常にに_、最初に呼び出すコマンドです。

```javascript
alloy("configure", {
  "configId": "ebebf826-a01f-4458-8cec-ef61de241c93",
  "orgId":"ADB3LETTERSANDNUMBERS@AdobeOrg"
});
```

設定時には、さまざまなオプションを設定できます。すべてのオプションは、以下で確認できます（カテゴリ別にグループ化されています）。

## 一般オプション

### `configId`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | ○ | なし |

割り当てられた設定 ID。SDK を適切なアカウントと設定にリンクします。1 つのページ内で複数のインスタンスを設定する場合は、インスタンスごとに異なる `configId` を設定する必要があります。

### `context`

| **タイプ** | **必須** | **デフォルト値** |
| ---------------- | ------------ | -------------------------------------------------- |
| 文字列の配列 | × | `["web", "device", "environment", "placeContext"]` |

「[自動情報](../reference/automatic-information.md)」の説明に従って、自動的に収集するコンテキストカテゴリを示します。この設定を指定しない場合、すべてのカテゴリがデフォルトで使用されます。

### `debugEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `false` |

デバッグを有効にする必要があるかどうかを示します。この設定を `true` に設定すると、次の機能が有効になります。

| **機能** |  |  |
| ---------------------- | ------------------ |
| 同期検証 | 収集されたデータをスキーマと照らし合わせて検証し、ラベル `collect:error OR success` の下の応答でエラーを返します。 |
| コンソールログ | ブラウザーの JavaScript コンソールにデバッグメッセージを表示できるようにします |

### `edgeDomain`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ------------------ |
| 文字列 | × | `beta.adobedc.net` |

Adobe Services とのやりとりに使用するドメイン。Adobe エッジインフラストラクチャにリクエストをプロキシするファーストパーティドメイン（CNAME）がある場合にのみ使用されます。

### `orgId`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | ○ | なし |

担当の Experience Cloud 組織 ID です。1 つのページ内で複数のインスタンスを設定する場合は、インスタンスごとに異なる `orgId` を設定する必要があります。

## データの収集

### `clickCollectionEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `true` |

リンククリックに関連付けられたデータを自動的に収集するかどうかを示します。リンククリックと見なされるクリックの場合、次の [Web インタラクション](https://github.com/adobe/xdm/blob/master/docs/reference/context/webinteraction.schema.md)データが収集されます。

| **プロパティ** |  |
| ------------ | ----------------------------------- |
| リンク名 | リンクコンテキストで判断される名前 |
| リンク URL | 正規化された URL |
| リンクタイプ | ダウンロード、終了、またはその他に設定 |

### `onBeforeEventSend`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 関数 | × | () => 未定義 |

すべてのイベントに対して呼び出されるコールバックを送信直前に設定する場合には、これを設定します。フィールド `xdm` を持つオブジェクトがコールバックに送信されます。xdm オブジェクトを変更して、送信内容を変更します。このコールバック内では、`xdm` オブジェクトには、イベントコマンドに渡されたデータと、自動的に収集された情報が既に含まれています。このコールバックのタイミングと例について詳しくは、[イベントのグローバルな変更](tracking-events.md#modifying-events-globally)を参照してください。

## プライバシーオプション

### `defaultConsent`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| オブジェクト | × | `{"general": "in"}` |

ユーザーのデフォルトの同意を設定します。これは、ユーザーに対して同意設定が保存されていない場合に使用されます。もう 1 つの有効な値は `{"general": "pending"}` です。この設定をおこなうと、ユーザーが同意設定を提供するまで作業はキューに登録されます。ユーザーの環境設定を指定した後、作業を続行するか、ユーザーの環境設定に基づいて中止します。詳しくは、[同意のサポート](supporting-consent.md)を参照してください。

## パーソナライゼーションオプション

### `prehidingStyle`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 文字列 | × | なし |

パーソナライズされたコンテンツをサーバーから読み込む際に、Web ページのコンテンツ領域を非表示にする CSS スタイル定義を作成するために使用します。このオプションを指定しない場合、SDK は、パーソナライズされたコンテンツを読み込む際に、コンテンツ領域を非表示にしようとしません。このため、「ちらつき」が発生する可能性があります。

例えば、パーソナライズされたコンテンツがサーバーから読み込まれる間、デフォルトコンテンツを非表示にしたい `container` ID を持つ要素が Web ページ上にある場合、次善非表示スタイルの例は次のようになります。

```javascript
  prehidingStyle: "#container { opacity: 0 !important }"
```

## オーディエンスのオプション

### `cookieDestinationsEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `true` |

Cookie の宛先を有効にします。これにより、セグメントの資格に基づいて Cookie を設定することができます。

### `urlDestinationsEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `true` |

URL の宛先を有効にします。これにより、セグメントの資格に基づいて URL を呼び出すことができます。

## ID オプション

### `idSyncContainerId`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| 数値 | × | なし |

呼び出す ID 同期を指定するコンテナ ID。コンサルタントから取得できる、負でない整数です。

### `idSyncEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | `true` |

ID 同期機能を有効にします。URL を呼び出すことで、アドビの一意のユーザー ID とサードパーティのデータソースの一意のユーザー ID を同期できます。

### `thirdPartyCookiesEnabled`

| **タイプ** | **必須** | **デフォルト値** |
| -------- | ------------ | ----------------- |
| Boolean | × | true |

アドビのサードパーティ Cookie の設定を有効にします。SDK　は、訪問者　ID　をサードパーティのコンテキストで保持し、同じ訪問者　ID　をサイト全体で使用できるようにする機能を備えています。複数のサイトがある場合や、データをパートナーと共有する場合に役立ちます。ただし、プライバシー上の理由から望ましくないこともあります。
