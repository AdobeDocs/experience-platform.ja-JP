---
title: グローバルフィルターの作成
description: カスタムのグローバルに適用されたフィルターを使用してデータインサイトをフィルタリングする方法を説明します。
exl-id: a0084039-8809-4883-9f68-c666dcac5881
source-git-commit: 60b0c73766c89b98685810b4f58cfe1a40316dc9
workflow-type: tm+mt
source-wordcount: '547'
ht-degree: 1%

---

# グローバルフィルターを作成 {#create-global-filter}

グローバルフィルターを作成するには、まずダッシュボード表示から **[!UICONTROL フィルターを追加]** を選択し、次にドロップダウンメニューから **[!UICONTROL グローバルフィルター]** を選択します。

>[!IMPORTANT]
>
>グローバルフィルターをすべてのグラフに必ずマッピングしてください。 これは自動プロセスではありません。 グローバルフィルターを使用するには、グラフの SQL に [ クエリパラメーター ](../../../query-service/ui/parameterized-queries.md) を、ウィジェットコンポーザーに [ グローバルフィルターを有効にする ](#enable-global-filter) を、そしてグローバルフィルターダイアログのパラメーターに [ ランタイム値を選択する ](#select-global-filter) を含める必要があります。 クエリパラメーターを組み込む必要がある場合は、query pro ガイドを参照して、SQL の編集方法を確認してください。

![ 「フィルターを追加」とドロップダウンメニューがハイライト表示されたカスタムダッシュボード。](../../images/sql-insights-query-pro-mode/add-filter.png)

カスタマイズされたグローバルフィルターを使用すると、SQL から提供されるインサイトをすばやく変更できます。

[!UICONTROL &#x200B; グローバルフィルターを作成 &#x200B;] ダイアログが開きます。 グローバルフィルターの作成は、SQL を使用したinsightの作成と同じプロセスに従います。 まず、クエリするデータベース（インサイトデータモデル）を選択し、クエリエディターにカスタム SQL を入力して、最後に「実行」アイコン（![ 実行アイコン。](/help/images/icons/play.png)）を選択します。

>[!IMPORTANT]
>
>グローバルフィルターを作成する場合は、ID と値を含める必要があります。 サンプル値を使用すると、SQL ステートメントを実行してグラフを作成できます。 ステートメントを作成するときに指定するサンプル値は、実行時に日付またはグローバルフィルターに選択する実際の値に置き換えられます。

クエリが正常に実行されると、「結果」タブに結果が表示されます。 「**[!UICONTROL 次へ]**」を選択します。

>[!NOTE]
>
>デフォルトでは、クエリ結果は 100 行に制限されています。 さらに行を返すには、SQL クエリに LIMIT 句を追加し、必要な行数を指定します。 すべての行を取得し、デフォルトの制限を削除するには、クエリで LIMIT 0 を使用します。

![ データセットのドロップダウンメニューが表示され、実行アイコンと「次へ」がハイライト表示された [!UICONTROL &#x200B; グローバルフィルターを作成ダイアログ &#x200B;]。](../../images/sql-insights-query-pro-mode/global-filter.png)

グローバルフィルター作成ワークフローの最後の手順では、フィルターのラベルを追加する必要があります。 「**[!UICONTROL フィルターラベル]**」テキストフィールドにラベルを追加し、ドロップダウンボックスからフィルタータイプを選択します。

>[!NOTE]
>
>現在、「[!UICONTROL &#x200B; コンボボックス &#x200B;] フィルタータイプ」オプションのみがサポートされています。

最後に「**[!UICONTROL 選択]**」を選択して、ダッシュボードビューに戻ります。

![ 選択とフィルターラベルのテキスト入力がハイライト表示された [!UICONTROL &#x200B; グローバルフィルターを作成ダイアログ &#x200B;]。](../../images/sql-insights-query-pro-mode/global-filter-label.png)

## 各insightに対してグローバルフィルターを有効にします {#enable-global-filter}

>[!TIP]
>
>作成するすべてのグラフでグローバルフィルターを有効にします。 これにより、グローバルフィルターとして選択した値が、すべてのグラフに確実に反映されます。

ダッシュボードのグローバルフィルターを作成すると、そのグローバルフィルターの切替スイッチがウィジェットコンポーザーの一部として使用できるようになります。

![ グローバルフィルター切り替えがハイライト表示されているウィジェットコンポーザー。](../../images/sql-insights-query-pro-mode/global-filter-consent.png)

>[!IMPORTANT]
>
>グローバルフィルターパラメーターが各insightの SQL に含まれていることを確認してください。

## グローバルフィルターを選択 {#select-global-filter}

すべてのカスタムフィルターを一覧表示する [!UICONTROL &#x200B; フィルター &#x200B;] ダイアログを開くには、フィルターアイコン（![A フィルターアイコン](/help/images/icons/filter.png)）を選択します。 次に、ダッシュボードインサイトに影響を適用するには、グローバルフィルターのドロップダウンメニューからオプションを選択し、「**[!UICONTROL 適用]**」を選択します。

![ フィルターダイアログがハイライト表示されたカスタムダッシュボード。](../../images/sql-insights-query-pro-mode/custom-filters.png)

## グローバルフィルターをクリア {#clear-global-filter}

すべてのカスタムグローバルフィルターをクリアするには、**[!UICONTROL フィルター]** ダイアログから [!UICONTROL &#x200B; すべてクリア &#x200B;] を選択します。

![ 「すべてクリア」がハイライト表示されたフィルターダイアログ ](../../images/sql-insights-query-pro-mode/clear-all.png)
