---
title: グローバルフィルターの作成
description: カスタムのグローバルに適用されたフィルターを使用してデータインサイトをフィルタリングする方法を説明します。
source-git-commit: b95616263d5a6dd26f7fce61d5d0b33c2d470c46
workflow-type: tm+mt
source-wordcount: '482'
ht-degree: 0%

---

# グローバルフィルターの作成 {#create-global-filter}

グローバルフィルターを作成するには、まず、以下を選択します。 **[!UICONTROL フィルターを追加]** ダッシュボード表示から **[!UICONTROL グローバルフィルター]** ドロップダウンメニューから。

>[!IMPORTANT]
>
>グローバルフィルターをすべてのグラフに必ずマッピングしてください。 これは自動プロセスではありません。 グローバルフィルターを使用するには、を含める必要があります。 [クエリパラメーター](../../../../query-service/ui/parameterized-queries.md) グラフの SQL で、 [グローバルフィルターの有効化](#enable-global-filter) ウィジェットコンポーザー内および [ランタイム値を選択](#select-global-filter) グローバルフィルターダイアログのパラメーターにを指定します。 クエリパラメーターを組み込む必要がある場合は、query pro ガイドを参照して、SQL の編集方法を確認してください。

![「フィルターを追加」とそのドロップダウンメニューがハイライト表示されたカスタムダッシュボード。](../../../images/customizable-insights/add-filter.png)

カスタマイズされたグローバルフィルターを使用すると、SQL から提供されるインサイトをすばやく変更できます。

この [!UICONTROL グローバルフィルターの作成] ダイアログが開きます。 グローバルフィルターの作成は、SQL を使用してインサイトを作成する場合と同じプロセスに従います。 まず、クエリを実行するデータベース（インサイトデータモデル）を選択し、クエリエディターにカスタム SQL を入力して、最後に「実行」アイコン（![実行アイコン。](../../../images/customizable-insights/run-icon.png)）に設定します。

>[!IMPORTANT]
>
>グローバルフィルターを作成する場合は、ID と値を含める必要があります。 サンプル値を使用すると、SQL ステートメントを実行してグラフを作成できます。 ステートメントを作成するときに指定するサンプル値は、実行時に日付またはグローバルフィルターに選択する実際の値に置き換えられます。

クエリが正常に実行されると、「結果」タブに結果が表示されます。 「**[!UICONTROL 次へ]**」を選択します。

![この [!UICONTROL グローバルフィルターを作成ダイアログ] データセット ドロップダウンメニューが表示された状態で、「実行」アイコンと「次へ」がハイライト表示されます。](../../../images/customizable-insights/global-filter.png)

グローバルフィルター作成ワークフローの最後の手順では、フィルターのラベルを追加する必要があります。 ラベルをに追加します **[!UICONTROL フィルターラベル]** テキストフィールドに入り、ドロップダウンボックスからフィルタータイプを選択します。

>[!NOTE]
>
>のみ [!UICONTROL コンボボックス] 現在、フィルタータイプのオプションがサポートされています。

最後に、を選択します **[!UICONTROL を選択]** をクリックして、ダッシュボード表示に戻ります。

![この [!UICONTROL グローバルフィルターを作成ダイアログ] 「選択」とフィルターラベルのテキスト入力がハイライト表示された状態。](../../../images/customizable-insights/global-filter-label.png)

## 各インサイトに対するグローバルフィルターの有効化 {#enable-global-filter}

>[!TIP]
>
>作成するすべてのグラフでグローバルフィルターを有効にします。 これにより、グローバルフィルターとして選択した値が、すべてのグラフに確実に反映されます。

ダッシュボードのグローバルフィルターを作成すると、そのグローバルフィルターの切替スイッチがウィジェットコンポーザーの一部として使用できるようになります。

![グローバルフィルター切り替えがハイライト表示されているウィジェットコンポーザー](../../../images/customizable-insights/global-filter-consent.png)

>[!IMPORTANT]
>
>グローバルフィルターパラメーターが各インサイトの SQL に含まれていることを確認してください。

## グローバルフィルターを選択 {#select-global-filter}

を開くには [!UICONTROL フィルター] すべてのカスタムフィルターを一覧表示するダイアログで、フィルターアイコン（![フィルターアイコン。](../../../images/customizable-insights/filter.png)）を選択します。 次に、ダッシュボードインサイトに影響を適用するには、グローバルフィルターのドロップダウンメニューからオプションを選択し、次のいずれかを選択します。 **[!UICONTROL 適用]**.

![フィルターダイアログがハイライト表示されたカスタムダッシュボード。](../../../images/customizable-insights/custom-filters.png)
