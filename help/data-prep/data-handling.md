---
keywords: Experience Platform;ホーム;人気のトピック;CSV のマップ;CSV ファイルのマップ;xdm への CSV ファイルのマップ;xdm への CSV のマップ;ui ガイド;マッパー;マッピング;data prep;データ準備;データの準備;
solution: Experience Platform
title: Data Prep でのデータ形式の取り扱い
topic-legacy: overview
description: このドキュメントでは、Data Prep における様々なデータ型の処理方法の概要について説明します。
exl-id: 4ad253b7-3f83-48cd-9c46-8b5ba627c09e
source-git-commit: 5d449c1ca174cafcca988e9487940eb7550bd5cf
workflow-type: tm+mt
source-wordcount: '567'
ht-degree: 100%

---

# Data Prep でのデータ形式の取り扱い

Data Prep では、Adobe Experience Platform に取り込まれる様々な形式のデータを確実に処理できます。このドキュメントでは、様々なデータ形式が Data Prep でどのように処理されるかを説明します。

## ブール値 {#booleans}

ソースのタイプが文字列で、ターゲットのタイプがブール型の場合、Data Prep では、値を自動的に解析し、ソースの値をブール値に変換できます。

`y`、`yes`、`Y`、`YES`、`on`、`ON`、`true`、`TRUE` の値は、`true` になるよう自動的に解析されます。

`n`、`N`、`no`、`NO`、`off`、`OFF`、`false`、`FALSE` の値は、`false` になるよう自動的に解析されます。

## 日付 {#dates}

Data Prep では、文字列としても、datetime オブジェクトとしても、日付関数をサポートしています。

### 日付関数の形式

日付関数は、文字列および datetime オブジェクトを ISO 8601 形式の ZonedDateTime オブジェクトに変換します。

**形式**

```http
date({DATE}, {FORMAT}, {DEFAULT_DATE})
```

| パラメーター | 説明 |
| --------- | ----------- |
| `{DATE}` | 必須。日付を表す文字列。 |
| `{FORMAT}` | オプション。日付の形式を表す文字列。文字列の形式について詳しくは、[日付 / 時刻形式文字列の節](#format)を参照してください。 |
| `{DEFAULT_DATE}` | オプション。指定した日付が null の場合に返されるデフォルトの日付。 |

例えば、式 `date(orderDate, "yyyy-MM-dd")` は、「2020 年 12 月 31 日」の `orderDate` 値を「2020-12-31」の datetime 値に変換します。

### 日付関数の変換

受信データの文字列フィールドが、エクスペリエンスデータモデル（XDM）を使用してスキーマの日付フィールドにマッピングされる場合、日付形式を明示的に言及する必要があります。明示的に言及されていない場合、Data Prep では、入力データを次の形式と照合して変換しようとします。一致する形式が見つかると、後続の形式の評価は停止されます。

```console
"yyyy-MM-dd HH:mm:ssZ",
"yyyy-MM-dd HH:mm:ss.SSSZ",
"yyyy-MM-dd HH:mm:ss.SSS",
"yyyy-MM-dd'T'HH:mm:ss.SSSX",
"yyyy-MM-dd'T'HH:mm:ss'Z'",
"yyyy-MM-dd",
"yyyy/MM/dd",
"yyyy.MM.dd",
"yyyy-MMM-dd",
"yyyyMMdd",
"MM-dd-yyyy",
"MMddyyyy",
"M/dd/yyyy",
"dd.M.yyyy",
"M/dd/yyyy hh:mm:ss a",
"dd.M.yyyy hh:mm:ss a",
"dd.MMM.yyyy",
"dd-MMM-yyyy"
```

>[!IMPORTANT]
>
> Data Prep では、文字列をできるだけ日付に変換しようとします。ただし、これらの変換は、望ましくない結果を引き起こす可能性があります。例えば、文字列値「12112020」は「MMddyyyy」というパターンと一致しますが、ユーザーは「ddMMyyyy」というパターンで日付を読み取ることを意図している場合があります。そのため、文字列の日付形式について明示的に言及する必要があります。

### 日付 / 時刻形式の文字列 {#format}

次の表に、書式文字列に対して定義されるパターン文字を示します。大文字と小文字が区別されることに注意してください。

| 記号 | 意味 | プレゼンテーション | 例 |
| ------ | ------- | ------------ | ------- |
| G | 時代 | テキスト | AD; 西暦; A |
| Y | 年（ISO 週に基づく） | 数値 | 1996; 96 |
| y | 年 | 数値 | 2004; 04 |
| M/L | 月 | 数値 / テキスト | 7; 07; 7 月;七月;7 |
| w | 年間通算週 | 数値 | 27 |
| W | 月間通算週 | 数値 | 3 |
| D | 年間通算日 | 数値 | 189 |
| d | 日付 | 数値 | 10 |
| F | 月の週数 | 数値 | 2 |
| E | 曜日名 | テキスト | 火曜日; 火 |
| u | 曜日を数値で表したもの。1 は月曜日、...、7 は日曜日を表します | 数値 | 1 |
| a | 午前 / 午後マーカー | テキスト | 午後 |
| H | 時刻（0 ～ 23） | 数値 | 0 |
| k | 時刻（1 ～ 24） | 数値 | 24 |
| K | 午前/午後（0～11）の時間 | 数値 | 0 |
| h | 午前/午後（1～12）の時間 | 数値 | 12 |
| m | 分（時刻） | 数値 | 38 |
| s | 秒（時刻） | 数値 | 44 |
| S | ミリ秒 | 数値 | 245 |
| z | タイムゾーン | 一般的なタイムゾーン | 太平洋標準時; PST; GMT 08:00 |
| Z | タイムゾーン | RFC 822 タイムゾーン | -0800 |
| X | タイムゾーン | ISO 8601 タイムゾーン | -08; -0800; -08:00 |
| V | タイムゾーン ID | テキスト | アメリカ / ロサンゼルス |
| O | タイムゾーンのオフセット | テキスト | GMT+8 |
| Q/q | 四半期 | 数値 / テキスト | 3;03;第3四半期;第3四半期 |
