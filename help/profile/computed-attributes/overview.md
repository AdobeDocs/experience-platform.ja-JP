---
title: 計算属性の概要
description: 計算済み属性は、イベントレベルのデータをプロファイルレベルの属性に集計する関数です。 これらの関数は自動的に計算され、セグメント化、アクティベーションおよびパーソナライゼーションで使用できます。
exl-id: 13878363-589d-4a3c-811c-21d014a5f3c2
source-git-commit: f129c215ebc5dc169b9a7ef9b3faa3463ab413f3
workflow-type: tm+mt
source-wordcount: '1154'
ht-degree: 8%

---

# 計算済み属性の概要

ユーザーの行動に基づくPersonalizationは、マーケターがパーソナライゼーションの影響を最大限に活用するための重要な要件です。 例えば、最後に閲覧した製品を使用してマーケティングメールをパーソナライズしてコンバージョンを促進したり、ユーザーが保持を促進するために行った購入合計に基づいて web ページをパーソナライズしたりします。

計算属性は、次の場合に、エンジニアリングリソースに依存することなく、プロファイル行動データをプロファイルレベルで集計値にすばやく変換するのに役立ちます。

- Adobe Journey Optimizerの宛先と使用に対するReal-Time Customer Data Platformの行動集計をアクティブ化して、ターゲットを設定した 1 対 1 またはバッチのパーソナライゼーションを可能にする
- プロファイル属性として行動集計を格納することで、オーディエンスのセグメント化をシンプル化しました
- プラットフォームやアプリをまたいで使用するための、集計プロファイル行動データの標準化
- 古いプロファイルイベントデータを意味のある行動インサイトに統合することで、データ管理が向上します

これらの集計は、Adobe Experience Platformに取り込まれたプロファイル対応エクスペリエンスイベントデータセットに基づいて計算されます。 各計算属性は、プロファイル結合スキーマで作成されたプロファイル属性で、結合スキーマの「SystemComputedAttribute」フィールドグループの下にグループ化されます。

サンプルユースケースを次に示します。

- ユーザーがプレミアム層に昇格したことを祝うための、合計報酬ポイントを含むマーケティングメールのパーソナライズ
- 購入数と頻度に基づいた、ユーザーとのコミュニケーションのパーソナライズ
- サブスクリプションの有効期限に基づく保持 E メールのパーソナライズ
- 最後に表示した製品で製品を購入しなかったユーザーのリターゲティング
- Real-Time CDP Destinations を使用して、計算済み属性を介したダウンストリームシステムへのイベント集計をアクティブ化する
- 複数のイベントベースのオーディエンスを、計算済み属性のより要約されたグループに折りたたむ
- イベントの最近のパートナー ID を使用した、オフサイトでの未認証ユーザーのリターゲティング

このガイドは、計算済み属性の基本を説明するだけでなく、Experience Platform内での計算済み属性の役割をより深く理解するのに役立ちます。

## 計算済み属性について

Adobe Experience Platformでは、[!DNL Real-Time Customer Profiles] ータを生成するために、複数のソースからデータを簡単に読み込んだり結合したりできます。 各プロファイルには、顧客の連絡先情報、好み、購入履歴など、顧客に関する重要な情報が含まれ、顧客の全体像を把握することができます。

プロファイルで収集された情報には、データフィールドを直接読み取る場合にわかりやすい（「名」など）ものや、情報を生成するために複数の計算を実施するもの、他のフィールドの値に依存するもの（「ライフタイム購入合計」など）があります。このデータを一目で理解しやすくするた [!DNL Experience Platform] に、では、これらの参照と計算を自動的に実行する計算済み属性を作成して、適切なフィールドに値を返すことができます。

計算属性には、受信データに対して動作し、結果の値をプロファイル属性に保存する式（「ルール」）の作成が含まれます。 式は複数の異なる方法で定義でき、どのイベントを集計するか、集計関数またはルックバック期間を指定できます。

### 関数

計算属性を使用すると、事前定義された関数を活用して、セルフサービス方式でイベントの集計を定義できます。 これらの関数の詳細については、以下を参照してください。

| 関数 | 説明 | サポートされるデータタイプ | 使用例 |
| -------- | ----------- | -------------------- | ------------- |
| SUM | 対象イベントの指定された値を **合計** する関数。 | 整数、数値、長さ | 過去 7 日間のすべての購入の合計 |
| カウント | 指定されたルールに対して発生したイベントの数を **カウント** する関数。 | なし | 過去 3 か月間の購入数 |
| 最小 | 該当するイベントの **最小値** の値を検索する関数。 | 整数、数値、長さ、タイムスタンプ | 過去 7 日間の最初の購入データ <br/> 過去 4 週間の最小注文金額 |
| 最大 | 該当するイベントの **最大** 値を検索する関数。 | 整数、数値、長さ、タイムスタンプ | 過去 7 日間の最新の購入データ <br/> 過去 4 週間の最大注文金額 |
| MOST_RECENT | 指定された属性値を最新の修飾イベントから検索する関数。 この関数は、属性の値とタイムスタンプ **両方** を提供します。 | すべてのプリミティブ値、プリミティブ値の配列 | 過去 7 日間表示された最新の製品 |

### ルックバック期間

計算された属性はバッチで計算されるので、集計を最新の状態に保ち、最新のイベントを使用できます。 これらのシナリオを最小限の遅延でサポートするために、更新頻度はイベントのルックバック期間によって異なります。

ルックバック期間とは、計算属性のエクスペリエンスイベントを集計する際にレビューされる時間の長さを指します。 この期間は、時間、日、週、または月で定義できます。

更新頻度とは、計算済み属性が更新される頻度を指します。 この値は、ルックバック期間によって異なり、自動的に設定されます。

| ルックバック期間 | 更新頻度 |
| --------------- | ----------------- |
| 最大 24 時間 | 1 時間ごと |
| 最長 7 日間 | 毎日 |
| 最長 4 週間 | 毎週 |
| 最長 6 か月 | 毎月 |

例えば、計算属性に過去 7 日間のルックバック期間がある場合、この値は過去 7 日間の値に基づいて計算され、毎日更新されます。

>[!NOTE]
>
>イベントのルックバックで使用される場合、週と月は両方とも **カレンダー週** と **カレンダー月** と見なされます。 カレンダーの週は **日曜日** に始まり、週の **土曜日** に終わります。 カレンダーの月は月の **初日** に始まり、月の **最終日** に終わります。

計算属性のルックバック期間は、**ローリング** ルックバック期間です。 例えば、10 月 15 日午前 12 時（UTC）に初めて評価が行われた場合、2 週間のルックバック期間では、10 月 1 日から 10 月 15 日までのすべてのイベントを取得し、10 月 22 日の 1 週間の時間に更新してから、10 月 8 日から 10 月 22 日までのすべてのイベントを取得します。

**高速更新** {#fast-refresh}

高速更新を使用すると、属性を最新の状態に保つことができます。このオプションを有効にすると、ルックバック期間が長くても計算済み属性を毎日更新できるので、ユーザーアクティビティに迅速に対応できます。

>[!NOTE]
>
>高速更新を有効にすると、ルックバック期間がそれぞれ毎週または毎月ロールするので、イベントのルックバック期間が異なります。
>
>高速更新を有効にした 2 週間のルックバック期間で計算属性を作成した場合、最初のルックバック期間は 2 週間になります。 ただし、毎日の更新ごとに、ルックバック期間には追加日からのイベントが含まれます。 この日数の追加は、次のカレンダー週が開始するまで続き、その週にルックバックウィンドウがロールオーバーされて 2 週間に戻ります。
>
>例えば、3 月 15 日（日曜日）から 2 週間のルックバック期間があり、高速更新を有効にし、毎日の更新を有効にした場合、ルックバック期間は 3 月 22 日（PT）まで包括的に拡張され続け、2 週間にリセットされます。 つまり、計算属性は毎日 **更新** され、ルックバック期間は週の間に **2** 週から **3** 週に増加し、その後 **2** 週に戻ります。

## 次の手順

計算済み属性の作成と管理について詳しくは、[&#x200B; 計算属性 API ガイド &#x200B;](./api.md) または [&#x200B; 計算属性 UI ガイド &#x200B;](./ui.md) を参照してください。
