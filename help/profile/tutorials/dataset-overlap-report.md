---
keywords: Experience Platform;プロファイル；リアルタイム顧客プロファイル；トラブルシューティング；API;レポート；データセット重複レポート；プロファイルデータ
title: データセット重複レポートの生成
type: Tutorial
description: このチュートリアルでは、リアルタイム顧客プロファイルAPIを使用してデータセットの重複レポートを生成する際に必要な手順について説明します。
source-git-commit: f30f87527f5e903c851a140e7cbaad1964a48803
workflow-type: tm+mt
source-wordcount: '888'
ht-degree: 1%

---


# データセットの重複レポートの生成

データセット重複レポートは、アドレス指定可能なオーディエンス(プロファイル)に最も貢献するデータセットを公開することで、組織の[!DNL Profile]ストアの構成を明確に示します。

このレポートは、データに洞察を与えるだけでなく、特定のデータの有効期限の設定など、ライセンスの使用を最適化するための処置をとるのに役立ちます。

このチュートリアルでは、[!DNL Real-time Customer Profile] APIを使用してデータセット重複レポートを生成し、組織の結果を解釈するために必要な手順について説明します。

## はじめに

Adobe Experience PlatformAPIを使用するには、まず[認証チュートリアル](https://www.adobe.com/go/platform-api-authentication-en)を完了して、必要なヘッダに必要な値を収集する必要があります。 Experience PlatformAPIについて詳しくは、[Platform APIs使用の手引きドキュメント](../../landing/api-guide.md)を参照してください。

このチュートリアルに含まれるすべてのAPI呼び出しに必要なヘッダーは次のとおりです。

* `Authorization: Bearer {ACCESS_TOKEN}`:ヘッダーには、 `Authorization` アクセストークンの前に単語を付加する必要があり `Bearer`ます。新しいアクセストークン値は24時間ごとに生成する必要があります。
* `x-api-key: {API_KEY}`:こ `API Key` れは、aとも呼ば `Client ID` れ、1回だけ生成する必要がある値です。
* `x-gw-ims-org-id: {IMS_ORG}`:こ `IMS Org` れは、とも呼ばれ、必要な生成は1回 `Organization ID` のみです。

認証のチュートリアルを完了し、必要なヘッダーの値を収集したら、Real-time Customer APIの呼び出しを開始する準備が整いました。

## コマンドラインを使用したデータセット重複レポートの生成

コマンドラインの使用に慣れている場合は、次のcURLリクエストを使用して`/previewsamplestatus/report/dataset/overlap`に対するGETリクエストを実行し、データセット重複レポートを生成できます。

**リクエスト**

次のリクエストでは、`date`パラメーターを使用して、指定した日付の最新のレポートを返します。

```shell
curl -X GET \
  https://platform.adobe.io/data/core/ups/previewsamplestatus/report/dataset/overlap?date=2021-04-19 \
  -H 'Authorization: Bearer {ACCESS_TOKEN}' \
  -H 'x-api-key: {API_KEY}' \
  -H 'x-gw-ims-org-id: {IMS_ORG}' \
```

| パラメーター | 説明 |
|---|---|
| `date` | 返されるレポートの日付を指定します。 複数のレポートが実行された日付の場合は、その日付の最新のレポートが返されます。 指定した日付に対してレポートが存在しない場合は、HTTPステータス404（エラー）が返されます。 日付を指定しない場合は、最新のレポートが返されます。 形式：YYYY-MM-DD。 例：`date=2024-12-31` |

**応答**

リクエストが成功すると、HTTPステータス200(OK)とデータセット重複レポートが返されます。 このレポートには、データセットのカンマ区切りのリストと、それぞれのプロファイル数を含む`data`オブジェクトが含まれます。 レポートの読み取り方法の詳細については、このチュートリアルで後述されている[データセットの重複レポートデータの解釈](#interpret-the-report)の節を参照してください。

```json
{
    "data": {
        "5d92921872831c163452edc8,5da7292579975918a851db57,5eb2cdc6fa3f9a18a7592a98": 123,
        "5d92921872831c163452edc8,5eb2cdc6fa3f9a18a7592a98": 454412,
        "5eeda0032af7bb19162172a7": 107
    },
    "reportTimestamp": "2021-04-19T19:55:31.147"
}
```

### Postmanを使用したデータセットの重複レポートの生成

PostmanはAPI開発の共同プラットフォームで、API呼び出しの視覚化に役立ちます。 [PostmanのWebサイト](https://www.postman.com)から無料でダウンロードでき、API呼び出しを実行するための使いやすいUIを提供します。 以下のスクリーンショットはPostmanインターフェイスを使用しています。

**リクエスト**

Postmanを使用してデータセットの重複レポートをリクエストするには、次の手順を実行します。

* ドロップダウンを使用して、リクエストタイプとして「GET」を選択します。
* `KEY`列に必要なヘッダーを入力します。
   * `Authorization`
   * `x-api-key`
   * `x-gw-ims-org-id`
* 認証中に生成した値を`VALUE`列に入力し、中括弧(`{{ }}`)と中括弧内の内容に置き換えます。
* オプションの`date`パラメーターを使用する場合と使用しない場合のどちらでも、リクエストパスを入力してください：
   `https://platform.adobe.io/data/core/ups/previewsamplestatus/report/dataset/overlap`\
   or
   `https://platform.adobe.io/data/core/ups/previewsamplestatus/report/dataset/overlap?date=YYYY-MM-DD`

| パラメーター | 説明 |
|---|---|
| `date` | 返されるレポートの日付を指定します。 複数のレポートが実行された日付の場合は、その日付の最新のレポートが返されます。 指定した日付に対してレポートが存在しない場合は、HTTPステータス404（エラー）が返されます。 日付を指定しない場合は、最新のレポートが返されます。 <br/>形式：YYYY-MM-DD。例：`date=2024-12-31` |

リクエストのタイプ、ヘッダー、値およびパスが完了したら、「**送信**」を選択してAPIリクエストを送信し、レポートを生成します。

![](../images/dataset-overlap-report/postman-request.png)

**応答**

リクエストが成功すると、HTTPステータス200(OK)とデータセット重複レポートが返されます。 このレポートには、データセットのカンマ区切りのリストと、それぞれのプロファイル数を含む`data`オブジェクトが含まれます。 レポートの読み取り方法について詳しくは、[データセットの重複レポートデータの解釈](#interpret-the-report)の節を参照してください。

![](../images/dataset-overlap-report/postman-response.png)

## データセットの重複レポートデータの解釈{#interpret-the-report}

生成されたデータセット重複レポートには、レポートの日時を示すタイムスタンプと、データセットIDの一意の組み合わせをコンマ区切りリストとして含むデータオブジェクトが表示されます。 以下の節では、レポートのコンポーネントに関する追加情報を示します。

### レポートのタイムスタンプ

`reportTimestamp`は、APIリクエストで指定された日付と一致します。日付が指定されていない場合は、最新のレポートのタイムスタンプと一致します。

### データセットIDのリスト

`data`オブジェクトには、データセットIDの一意の組み合わせがコンマ区切りのリストとして含まれ、その組み合わせのプロファイル数に対応します。

>[!NOTE]
>
>データセット重複レポートの各行に関連付けられているすべてのプロファイル数の合計は、組織内のプロファイルの合計数と等しい必要があります。

レポートの結果を解釈するには、次の例を考えてみます。

```json
  "5d92921872831c163452edc8,5da7292579975918a851db57,5eb2cdc6fa3f9a18a7592a98": 123,
  "5d92921872831c163452edc8,5eb2cdc6fa3f9a18a7592a98": 454412,
  "5eeda0032af7bb19162172a7": 107
```

このレポートには次の情報が表示されます。
* 以下のデータセットからのデータで構成されるプロファイルは123です。`5d92921872831c163452edc8`、`5da7292579975918a851db57`、`5eb2cdc6fa3f9a18a7592a98`。
* 次の2つのデータセットからのデータから構成されるプロファイルは454,412個です。`5d92921872831c163452edc8`と`5eb2cdc6fa3f9a18a7592a98`。
* データセット`5eeda0032af7bb19162172a7`のデータのみから構成されるプロファイルは107個です。
* 同組織には、合計454,642人のプロファイルが存在する。

## 次の手順

このチュートリアルを完了すると、リアルタイム顧客プロファイルAPIを使用して、データセットの重複レポートを生成できるようになります。 APIとExperience PlatformUIの両方でプロファイルデータを使用する方法の詳細については、まず[プロファイル概要ドキュメント](../home.md)を参照してください。