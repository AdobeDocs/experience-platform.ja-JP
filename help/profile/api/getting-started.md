---
keywords: Experience Platform;profile;real-time customer profile;troubleshooting;API
solution: Adobe Experience Platform
title: リアルタイム顧客プロファイルAPI開発ガイド
topic: guide
translation-type: tm+mt
source-git-commit: d0ccaa5511375253a2eca8f1235c2f953b734709

---


# リアルタイム顧客プロファイルAPI開発ガイド

リアルタイムの顧客プロファイルを使用すると、Adobe Experience Platform内の各顧客の全体的な表示を確認できます。 プロファイルを使用すると、オンライン、オフライン、CRM、サードパーティなどの複数のチャネルの個別の顧客データを、すべての顧客のインタラクションに関する実用的なタイムスタンプ付きのアカウントを提供する統合表示に統合できます。

## はじめに {#getting-started}

リアルタイム顧客プロファイルAPIを使用すると、計算済み属性の設定、エンティティへのアクセス、プロファイルデータのエクスポート、不要なデータセットやバッチの削除など、プロファイルリソースに対する基本的なCRUD操作を実行できます。

この開発者ガイドを使用するには、開発者データの操作に関わる様々なAdobe Experience Platformサービスについて、実際に理解しておく必要があります。 Real-time Customer Component APIの使用を開始する前に、次のサービスのドキュメントを確認してください。

* [リアルタイム顧客プロファイル](../home.md):複数のソースからの集計データに基づいて、統合されたプロファイルをリアルタイムで提供します。
* [Adobe Experience Platform Identity Service](../../identity-service/home.md):デバイスやシステム間でIDをブリッジすることで、顧客とその行動をより良く表示できます。
* [Adobe Experience Platform Segmentation Service](../../segmentation/home.md):リアルタイム顧客オーディエンスデータから顧客セグメントを作成できます。
* [エクスペリエンスデータモデル(XDM)](../../xdm/home.md):プラットフォームが顧客エクスペリエンスデータを整理する際に使用する標準化されたフレームワーク。
* [サンドボックス](../../sandboxes/home.md):Experience Platformは、デジタルエクスペリエンスアプリケーションの開発と発展を支援するために、単一のプラットフォームインスタンスを別々の仮想環境に分割する仮想サンドボックスを提供します。

以下の節では、プロファイルAPIエンドポイントを正常に呼び出すために知っておく必要がある追加情報を示します。

### サンプルAPI呼び出しの読み取り

リアルタイム顧客プロファイルAPIドキュメントには、リクエストを正しくフォーマットする方法を示すAPI呼び出しの例が記載されています。 これには、パス、必須ヘッダー、適切にフォーマットされたリクエストペイロードが含まれます。 API応答で返されるサンプルJSONも提供されます。 サンプルAPI呼び出しのドキュメントで使用される表記について詳しくは、エクスペリエンスプラットフォームのトラブルシューテ [ィングガイドのAPI呼び出し例の読み方に関する節](../../landing/troubleshooting.md#how-do-i-format-an-api-request) （英語のみ）を参照してください。

### 必須ヘッダ

また、APIドキュメントでは、プラットフォームエンドポイントの呼び出しを正 [常に行うために](../../tutorials/authentication.md) 、認証のチュートリアルを完了している必要があります。 次に示すように、認証チュートリアルで、エクスペリエンスプラットフォームAPI呼び出しの必要な各ヘッダーの値を指定します。

* 認証：無記名 `{ACCESS_TOKEN}`
* x-api-key: `{API_KEY}`
* x-gw-ims-org-id: `{IMS_ORG}`

エクスペリエンスプラットフォームのすべてのリソースは、特定の仮想サンドボックスに分離されます。 プラットフォームAPIへの要求には、操作が行われるサンドボックスの名前を指定するヘッダーが必要です。

* x-sandbox-name: `{SANDBOX_NAME}`

プラットフォームのサンドボックスについて詳しくは、サンドボックスの概要ドキュメ [ントを参照してくださ](../../sandboxes/home.md)い。

リクエスト本文（POST、PUT、PATCH呼び出しなど）のペイロードを持つすべてのリクエストには、ヘッダーが含まれている必要があ `Content-Type` ります。 各呼び出しに固有の受け入れられた値は、呼び出しパラメーターに指定されます。

## （アルファ）計算済み属性

>[!IMPORTANT]
>計算済み属性機能はアルファ形式で、すべてのユーザーが使用できるわけではありません。 ドキュメントと機能は変更される場合があります。

計算済み属性を使用すると、他の値、計算および式に基づいてフィールドの値を自動的に計算できます。 計算済み属性は、プロファイルレベルで機能します。つまり、すべてのレコードと集計の値をイベントできます。

各計算済み属性には、受信データを評価し、結果の値をプロファイル属性またはイベントに格納する式(「rule」)が含まれます。 これらの計算により、ライフタイム購入値、購入間隔、アプリケーション開封数などに関する質問に簡単に答えることができます。情報が必要になるたびに複雑な計算を手動で実行する必要はありません。

計算済み属性の作成、表示、編集および削除は、エンドポイントを使用して行うことが `config/computedAttributes` できます。 これらのエンドポイントの使用方法については、計算済み属性のサブガ [イドを参照してくださ](computed-attributes.md)い。

## エッジ投影

Adobe Experience Platformを使用すると、「エッジ」と呼ばれる戦略的に配置されたサーバー上のデータに容易にアクセスできるようにし、顧客体験をリアルタイムでパーソナライズできます。 リアルタイム顧客プロファイルAPIは、「投影」と呼ばれるコンポーネントを通じてエッジを操作するためのエンドポイントを提供します。 これには、各エッジに投影するデータを決定する投影設定や、投影のルーティング先を定義する投影先が含まれます。

エッジ投影の操作に関する詳細は、『エッジ投影サブガイド』 [を参照してください](edge-projections.md)。

## エンティティ

Adobe Experience Platformを通じて、RESTful APIまたはユーザーインターフェイスを使用して、リアルタイムの顧客プロファイルデータにアクセスできます。 APIを使用して、「プロファイル」と呼ばれるエンティティにアクセスする方法を学ぶには、エンティティのサブガイドで概要を説 [明する手順に従います](entities.md)。

## 結合ポリシー

複数のソースのデータをExperience Platformで統合する場合、結合ポリシーとは、データの優先順位付け方法と、どのデータを組み合わせて個々の顧客のプロファイルを作成するかを決定するためにPlatformが使用するルールです。

リアルタイム顧客プロファイルAPIを使用すると、新しい結合ポリシーを作成し、既存のポリシーを管理し、組織のデフォルトの結合ポリシーを設定できます。 APIを使用した結合ポリシーの操作について詳しくは、結合ポリシーのサブガ [イドを参照してください](merge-policies.md)。

プラットフォームUIを使用した結合ポリシーの操作方法に関するガイドについては、Merge Policiesユーザーガ [イドを参照してください](../ui/merge-policies.md)。

## プロファイル検索

プロファイル検索は、様々なデータソースに含まれる設定可能なフィールドを検索し、インデックスを作成して、ほぼリアルタイムで返すのに使用します。 プロファイル検索の使用を開始するには、 [searchサブガイドを参照してください](profile-search.md)

## プロファイルシステムジョブ

Platformに取り込まれたデータは、Data Lakeおよびリアルタイム顧客データストアにプロファイルされます。 不要になったデータやエラーで追加されたデータを削除するために、プロファイルストアからデータセットやバッチを削除する必要が生じる場合があります。 これには、APIを使用してプロファイルシステムジョブ（「削除要求」と呼ばれる）を作成する必要があります。このジョブは、必要に応じて変更、監視または削除することもできます。

リアルタイム顧客プロファイルAPIのエンドポイントを使用して `/system/jobs` 削除リクエストを操作する方法を学ぶには、『 [プロファイルシステムジョブ』サブガイドで概要を説明している手順に従います](profile-system-jobs.md)。

## 次の手順

リアルタイム顧客プロファイルAPIを使用した呼び出しを開始するには、サブガイドの1つを選択して、特定のプロファイル関連エンドポイントの使用方法を学習します。 プラットフォームUIを使用したプロファイルデータの操作について詳しくは、リアルタイム顧客 [プロファイルのユーザーガイドを参照してください](../ui/user-guide.md)。