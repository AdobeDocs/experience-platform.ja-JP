---
title: リアルタイム顧客プロファイルデータとセグメント化のデフォルトのガードレール
solution: Experience Platform
product: experience platform
type: Documentation
description: Real-Time CDP 機能を最適に使用するための、プロファイルデータおよびセグメント化のパフォーマンスとシステムで適用されるガードレールについて説明します。
exl-id: 33ff0db2-6a75-4097-a9c6-c8b7a9d8b78c
source-git-commit: 56ed0d777d9a7d489cde2e40340fee4ca0ad8c03
workflow-type: tm+mt
source-wordcount: '2230'
ht-degree: 66%

---

# のデフォルトのガードレール [!DNL Real-Time Customer Profile] データとセグメント化

Adobe Experience Platformでは、行動インサイトと顧客属性に基づいて、リアルタイム顧客プロファイルの形式で、パーソナライズされたクロスチャネルエクスペリエンスを提供できます。 プロファイルに対するこの新しいアプローチをサポートするために、Experience Platform では、従来のリレーショナルデータモデルとは異なる、高度に非正規化されたハイブリッドデータモデルを使用します。

このドキュメントでは、最適なシステムパフォーマンスを得るためにプロファイルデータをモデル化する際に役立つ、デフォルトの使用方法とレートの制限について説明します。次のガードレールを確認する際は、データが正しくモデル化されていることが前提になっています。データのモデル化方法に関するご質問は、カスタマーサービス担当者にお問い合わせください。

>[!NOTE]
>
>ほとんどのお客様は、これらのデフォルトの上限を超えることはありません。カスタムの上限について詳しくは、カスタマーケア担当者にお問い合わせください。

## はじめに

次のExperience Platformサービスは、リアルタイム顧客プロファイルデータのモデリングに関係します。

* [[!DNL Real-Time Customer Profile]](home.md)：複数のソースからのデータを使用して、統合された消費者プロファイルを作成します。
* [ID](../identity-service/home.md)：Platform に取り込まれる際に、異なるデータソースからの ID を結び付けます。
* [スキーマ](../xdm/home.md)：Experience Data Model（XDM）スキーマは、Platform が顧客体験データを整理するための標準化されたフレームワークです。
* [オーディエンス](../segmentation/home.md):Platform 内のセグメント化エンジンは、顧客の行動と属性に基づいて顧客プロファイルからオーディエンスを作成するために使用されます。

## 上限のタイプ

このドキュメントでは、次の 2 種類のデフォルトの上限について説明します。

| ガードレールのタイプ | 説明 |
|----------|---------|
| **パフォーマンスガードレール（ソフト制限）** | パフォーマンスガードレールは、使用例の範囲に関連する使用制限です。 パフォーマンスガードレールを超えると、パフォーマンスが低下し、遅延が発生する場合があります。 Adobeは、そのようなパフォーマンスの低下に対して責任を負いません。 パフォーマンスガードレールを常に上回るお客様は、パフォーマンスの低下を避けるために、追加の容量をライセンスすることを選択できます。 |
| **システムが適用するガードレール（ハード制限）** | システムが適用するガードレールは、Real-Time CDP UI または API によって適用されます。 UI や API によってブロックされたり、エラーが返されたりするので、上限を超えることはできません。 |

{style="table-layout:auto"}

>[!NOTE]
>
>このドキュメントで概要を説明する上限は、常に改善されています。 定期的にアップデートを確認してください。カスタムの上限について知りたい場合は、カスタマーケア担当者にお問い合わせください。

## データモデルの上限

リアルタイム顧客プロファイルデータをモデリングする際に推奨される制限は、次のガードレールにあります。 プライマリエンティティとディメンションエンティティについて詳しくは、付録の[エンティティタイプ](#entity-types)に関する節を参照してください。

![Adobe Experience Platformのプロファイルデータの様々なガードレールを示す図です。](./images/guardrails/profile-guardrails.png)

### プライマリエンティティのガードレール

| ガードレール | 上限 | 上限のタイプ | 説明 |
| --- | --- | --- | --- |
| XDM 個人プロファイルクラスのデータセット | 20 | パフォーマンスガードレール | XDM 個人プロファイルクラスを利用するデータセットは、最大 20 個を推奨します。 |
| XDM ExperienceEvent クラスデータセット | 20 | パフォーマンスガードレール | XDM ExperienceEvent クラスを利用するデータセットは、最大 20 個を推奨します。 |
| プロファイルに対して有効化された Adobe Analytics レポートスイートデータセット | 1 | パフォーマンスガードレール | プロファイルに対して有効化された Analytics レポートスイートデータセットは最大 1 つまでです。 プロファイルに対して複数の Analytics レポートスイートデータセットを有効にしようとすると、データ品質に意図しない結果が生じる可能性があります。 詳しくは、付録の [Adobe Analytics データセット](#aa-datasets)に関する節を参照してください。 |
| 複数エンティティの関係 | 5 | パフォーマンスガードレール | プライマリエンティティとディメンションエンティティの間に定義されるマルチエンティティの関係は、最大 5 個を推奨します。既存の関係が削除されるか無効になるまで、追加の関係マッピングは行わないでください。 |
| マルチエンティティ関係で使用する ID フィールドの JSON 深度 | 4 | パフォーマンスガードレール | 複数エンティティの関係で使用する ID フィールドの JSON 深度の推奨値は 4 です。 つまり、高度にネストされたスキーマでは、4 レベルを超える深度でネストされたフィールドを関係の ID フィールドとして使用しないでください。 |
| プロファイルフラグメント内の配列基数 | &lt;=500 | パフォーマンスガードレール | プロファイルフラグメントの最適な配列基数（時間に依存しないデータ）は 500 未満です。 |
| ExperienceEvent の配列基数 | &lt;=10 | パフォーマンスガードレール | ExperienceEvent（時系列データ）の最適な配列基数は 10 未満です。 |
| 個人プロファイル ID グラフの ID 数 | 50 | システムが適用するガードレール | **個人プロファイル用 ID グラフの最大 ID 数は 50 です。** ID が 50 を超えるプロファイルは、セグメント化、書き出し、検索から除外されます。 |

{style="table-layout:auto"}

### ディメンションエンティティのガードレール

| ガードレール | 上限 | 上限のタイプ | 説明 |
| --- | --- | --- | --- |
| 非 [!DNL XDM Individual Profile] エンティティの時系列データは許可されていません | 0 | システムが適用するガードレール | **時系列データは、プロファイルサービスの非 [!DNL XDM Individual Profile] エンティティには許可されていません。** 時系列データセットが [!DNL XDM Individual Profile] 以外の IDに関連付けられている場合、データセットを [!DNL Profile] に対して有効にしないでください。 |
| ネストされた関係がありません | 0 | パフォーマンスガードレール | 2 つの非 [!DNL XDM Individual Profile] スキーマ間に関係を作成しないでください。[!DNL Profile] 結合スキーマの一部ではないスキーマでは、関係を作成する機能は推奨されません。 |
| プライマリ ID フィールドの JSON 深度 | 4 | パフォーマンスガードレール | プライマリ ID フィールドに推奨される JSON 深度の上限は 4 です。 つまり、高度にネストされたスキーマでは、フィールドが 4 レベルを超える深度でネストされている場合、フィールドをプライマリ ID として選択しないでください。 4 番目のネストレベルにあるフィールドは、プライマリ ID として使用できます。 |

{style="table-layout:auto"}

## データサイズの上限

次のガードレールは、データサイズを参照し、意図したとおりに取り込み、保存し、クエリできるデータの推奨される上限を提供します。プライマリエンティティとディメンションエンティティについて詳しくは、付録の[エンティティタイプ](#entity-types)に関する節を参照してください。

>[!NOTE]
>
>データサイズは、取得時に JSON で非圧縮データとして測定されます。

### プライマリエンティティのガードレール

| ガードレール | 上限 | 上限のタイプ | 説明 |
| --- | --- | --- | --- |
| ExperienceEvent の最大サイズ | 10 KB | システムが適用するガードレール | **イベントの最大サイズは 10 KB です。** 取り込みは続行されますが、10 KB を超えるイベントは削除されます。 |
| 最大プロファイルレコードサイズ | 100 KB | システムが適用するガードレール | **プロファイルレコードの最大サイズは 100 KB です。** 取り込みは続行されますが、100 KB を超えるプロファイルレコードは削除されます。 |
| 最大プロファイルフラグメントサイズ | 50 MB | システムが適用するガードレール | **単一のプロファイルフラグメントの最大サイズは 50 MB です。** セグメント化、書き出しおよびルックアップは、[プロファイルフラグメント](#profile-fragments)が 50 MB を超える場合、失敗することがあります。 |
| 最大プロファイルストレージサイズ | 50 MB | パフォーマンスガードレール | **保存されたプロファイルの最大サイズは 50 MB です。** 50 MB を超えるプロファイルに新しい[プロファイルフラグメント](#profile-fragments)を追加すると、システムのパフォーマンスに影響を与えます。例えば、プロファイルには 50 MB の単一のフラグメントを含めることも、複数のデータセットにわたる、合計サイズが 50 MB の複数のフラグメントを含めることもできます。 50 MB を超える単一のフラグメントを持つプロファイル、または合計サイズが 50 MB を超える複数のフラグメントを保存しようとすると、システムのパフォーマンスに影響を与えます。 |
| 1 日に取り込まれるプロファイルバッチまたは ExperienceEvent バッチの数 | 90 | パフォーマンスガードレール | **1 日に取り込まれるプロファイルバッチまたは ExperienceEvent バッチの最大数は 90 です。** つまり、1 日に取り込まれるプロファイルバッチと ExperienceEvent バッチを合わせた合計数は 90 を超えることはできないということです。追加のバッチを取り込むと、システムのパフォーマンスに影響します。 |
| プロファイルレコードあたりの ExperienceEvents の数 | 5,000 | パフォーマンスガードレール | **プロファイルレコードあたりの ExperienceEvents の最大数は 5,000 です。** 5000 を超える ExperienceEvents を持つプロファイルは、 **not** セグメント化について検討する必要があります。 |

{style="table-layout:auto"}

### ディメンションエンティティのガードレール

| ガードレール | 上限 | 上限のタイプ | 説明 |
| --- | --- | --- | --- |
| すべてのディメンションエンティティの合計サイズ | 5 GB | パフォーマンスガードレール | すべてのディメンションエンティティの推奨合計サイズは 5 GB です。大きなディメンションエンティティの取り込みは、システムのパフォーマンスに影響を与える可能性があります。例えば、10 GB の製品カタログをディメンションエンティティとして読み込むことはお勧めしません。 |
| ディメンショナルエンティティスキーマごとのデータセット | 5 | パフォーマンスガードレール | 各ディメンショナルエンティティスキーマに関連付けるデータセットの数は、最大で 5 個にすることをお勧めします。 例えば、「products」のスキーマを作成し、関連する 5 個のデータセットを追加する場合、products スキーマに関連付けられる 6 個目のデータセットを作成しないでください。 |
| 1 日に取り込まれるディメンションエンティティバッチ | エンティティごとに 4 個 | パフォーマンスガードレール | 1 日に取り込まれるディメンションエンティティバッチの推奨最大数は、エンティティあたり 4 個です。 例えば、製品カタログのアップデートを 1 日に最大 4 回取り込むことができます。同じエンティティに対して追加のディメンションエンティティバッチを取り込むと、システムのパフォーマンスに影響を与える可能性があります。 |

{style="table-layout:auto"}

## セグメンテーションガードレール {#segmentation-guardrails}

この節で説明するガードレールは、Experience Platform内で組織が作成できるオーディエンスの数と特性、およびオーディエンスの宛先へのマッピングとアクティブ化を参照します。

| ガードレール | 上限 | 上限のタイプ | 説明 |
| --- | --- | --- | --- |
| サンドボックスあたりのオーディエンス | 4000 | パフォーマンスガードレール | 各サンドボックスに 4,000 個未満のオーディエンスがある限り、1 つの組織は合計 4,000 個を超えるオーディエンスを持つことができます。 追加のオーディエンスを作成しようとすると、システムのパフォーマンスに影響を与える可能性があります。 詳細を表示： [オーディエンスの作成](/help/segmentation/ui/segment-builder.md) セグメントビルダーを使用します。 |
| サンドボックスあたりのエッジオーディエンス | 150 | パフォーマンスガードレール | 個々のサンドボックスに 150 個未満のエッジオーディエンスがある限り、組織は合計 150 個を超えるエッジオーディエンスを持つことができます。 追加のエッジオーディエンスを作成しようとすると、システムのパフォーマンスに影響を与える可能性があります。 詳細を表示： [エッジオーディエンス](/help/segmentation/ui/edge-segmentation.md). |
| サンドボックスごとのストリーミングオーディエンス | 500 | パフォーマンスガードレール | 個々のサンドボックスに 500 人未満のストリーミングオーディエンスがある限り、1 つの組織は合計で 500 人を超えるストリーミングオーディエンスを持つことができます。 追加のストリーミングオーディエンスを作成しようとすると、システムのパフォーマンスに影響を与える可能性があります。 詳細を表示： [ストリーミングオーディエンス](/help/segmentation/ui/streaming-segmentation.md). |
| サンドボックスごとのバッチオーディエンス | 4000 | パフォーマンスガードレール | 各個々のサンドボックスに 4,000 個未満のバッチオーディエンスがある限り、組織は合計 4,000 個を超えるバッチオーディエンスを持つことができます。 追加のバッチオーディエンスを作成しようとすると、システムのパフォーマンスに影響を与える可能性があります。 |
| サンドボックスごとのアカウントオーディエンス | 50 | システムが適用するガードレール | 1 つのサンドボックスに最大 50 個のアカウントオーディエンスを作成できます。 サンドボックス内の 50 人のオーディエンスに到達した後、 **[!UICONTROL オーディエンスを作成]** 新しいアカウントオーディエンスを作成しようとすると、コントロールが無効になります。 詳細を表示： [アカウントオーディエンス](/help/segmentation/ui/account-audiences.md). |
| サンドボックスごとに公開されたコンポジション | 10 | パフォーマンスガードレール | 1 つのサンドボックスに最大 10 個の公開済みコンポジションを設定できます。 詳細を表示： [UI ガイドのオーディエンスの構成](/help/segmentation/ui/audience-composition.md). |

{style="table-layout:auto"}

## 付録

このセクションでは、このドキュメントに記載の上限に関する追加の詳細を示します。

### エンティティタイプ

この [!DNL Profile] ストアデータモデルは、次の 2 つのコアエンティティタイプで構成されます。 [主要エンティティ](#primary-entity) および [ディメンションエンティティ](#dimension-entity).

#### プライマリエンティティ

プライマリエンティティ（プロファイルエンティティ）は、データを結合して、個人の「単一の真実のソース」を形成します。 この統合データは、「結合ビュー」と呼ばれるものを使用して表されます。統合ビューは、同じクラスを実装するすべてのスキーマのフィールドを、1 つの結合スキーマに集約します。[!DNL Real-Time Customer Profile] の結合スキーマは、すべてのプロファイル属性と行動イベントのコンテナとして機能する、非正規化されたハイブリッドデータモデルです。

時間に依存しない属性（「レコードデータ」とも呼ばれる）は、[!DNL XDM Individual Profile]、時系列データ（「イベントデータ」とも呼ばれる）は [!DNL XDM ExperienceEvent] を使用してモデル化されます。レコードと時系列データが Adobe Experience Platform に取り込まれると、[!DNL Real-Time Customer Profile] がトリガーされ、使用可能なデータの取り込みが開始されます。 取り込まれるインタラクションや詳細が多いほど、個人プロファイルは正確になります。

![レコードデータと時系列データの違いを説明する解説図。](images/guardrails/profile-entity.png)

#### Dimensionエンティティ

プロファイルデータの保守はリレーショナルストアではありませんが、プロファイルでは、シンプルで直感的な方法でオーディエンスを作成するために、小さなディメンションエンティティとの統合を可能にします。 この統合は、[マルチエンティティセグメンテーション](../segmentation/multi-entity-segmentation.md)とも呼ばれます。

組織では、店舗、製品、資産など、個人以外のものを記述する XDM クラスを定義することもできます。 これらの[!DNL XDM Individual Profile] スキーマは「ディメンションエンティティ」（「ルックアップエンティティ」とも呼ばれます）と呼ばれ、時系列データを含みません。 ディメンションエンティティを表すスキーマは、 [スキーマの関係](../xdm/tutorials/relationship-ui.md).

ディメンションエンティティは、複数エンティティのセグメント定義を支援および簡素化するルックアップデータを提供します。また、セグメントエンジンが、処理の最適化（高速ポイントルックアップ）のためにデータセット全体をメモリに読み込めるようディメンションエンティティのサイズは小さくする必要があります。

![プロファイルエンティティがディメンションエンティティで構成されていることを示す解説図。](images/guardrails/profile-and-dimension-entities.png)

### プロファイルフラグメント

このドキュメントでは、「プロファイルフラグメント」を参照するガードレールがいくつかあります。 Experience Platformでは、複数のプロファイルフラグメントが結合されて、リアルタイム顧客プロファイルが形成されます。 各フラグメントは、一意のプライマリ ID と、特定のデータセット内でその ID に対応するレコードまたはイベントデータの完全なセットを表します。 プロファイルフラグメントについて詳しくは、[プロファイルの概要](home.md#profile-fragments-vs-merged-profiles)を参照してください。

### 結合ポリシー {#merge-policies}

複数のソースからデータを統合する場合、結合ポリシーは、データの優先順位付け方法と、統合されたビューを作成するためにどのデータを組み合わせるかを決定するために Platform で使用されるルールです。例えば、顧客が複数のチャネルをまたがって自社のブランドとやり取りを行う場合、1 人の顧客に関連する複数のプロファイルフラグメントが複数のデータセットに表示されます。これらのフラグメントが Platform に取り込まれると、それらのフラグメントが結合され、その顧客用に単一のプロファイルが作成されます。複数のソースのデータが競合する場合、結合ポリシーによって、個人のプロファイルに含める情報が決定されます。 1 組織あたり最大 5 個の結合ポリシーを使用できます。 結合ポリシーについて詳しくは、[結合ポリシーの概要](merge-policies/overview.md)を参照してください。

### Platform の Adobe Analytics レポートスイートデータセット {#aa-datasets}

すべてのデータの競合が解決されている限り、プロファイルに対して複数のレポートスイートを有効にできます。 データ準備機能を使用して、eVar、リストおよび Prop 間でのデータの競合を解決できます。 データ準備機能の使用方法について詳しくは、[Adobe Analytics コネクタ UI ガイド](../sources/tutorials/ui/create/adobe-applications/analytics.md)を参照してください。

## 次の手順

その他のExperience Platformサービスガードレール、エンドツーエンドの遅延情報、およびReal-Time CDP製品説明ドキュメントのライセンス情報の詳細については、次のドキュメントを参照してください。

* [Real-Time CDP Guardrails](/help/rtcdp/guardrails/overview.md)
* [エンドツーエンドの待ち時間図](https://experienceleague.adobe.com/docs/blueprints-learn/architecture/architecture-overview/deployment/guardrails.html?lang=en#end-to-end-latency-diagrams) 様々なExperience Platformサービス。
* [Real-time Customer Data Platform（B2C 版 — プライムパッケージおよび究極パッケージ）](https://helpx.adobe.com/jp/legal/product-descriptions/real-time-customer-data-platform-b2c-edition-prime-and-ultimate-packages.html)
* [Real-time Customer Data Platform（B2P — プライムおよび究極のパッケージ）](https://helpx.adobe.com/legal/product-descriptions/real-time-customer-data-platform-b2p-edition-prime-and-ultimate-packages.html)
* [Real-time Customer Data Platform（B2B — プライムおよび究極のパッケージ）](https://helpx.adobe.com/legal/product-descriptions/real-time-customer-data-platform-b2b-edition-prime-and-ultimate-packages.html)
