---
keywords: Experience Platform;profile;real-time customer profile;troubleshooting;API
solution: Adobe Experience Platform
title: Experience Platformガイドライン
topic: guide
translation-type: tm+mt
source-git-commit: 51111b2e831a37949150b107eb76711e2470523c
workflow-type: tm+mt
source-wordcount: '1201'
ht-degree: 4%

---


# [!DNL Platform] ～のガードレール [!DNL Real-time Customer Profile]

[!DNL Real-time Customer Profile] は、行動分析インサイトと顧客属性に基づいて、チャネル間の個別のエクスペリエンスをパーソナライズして提供できる個々のプロファイルを提供します。 このターゲティングを達成するために、Adobe Experience Platform内のセグメント化エンジンは、高度に非正規化されたハイブリッドデータモデルを使用し [!DNL Profile] ており、これにより、顧客プロファイルの開発に新しいアプローチがオファーされます。 このハイブリッドデータモデルを使用すると、収集されるデータが正しくモデル化されていることが非常に重要になります。 プロファイルデータを保守する [!DNL Profile] データストアはリレーショナルストアではありませんが、セグメントを簡単で直感的な方法で作成するために、小さなディメンションエンティティとの統合を [!DNL Profile] 可能にします。 この統合は、マルチエンティティセグメント化と呼ばれます。

Adobe Experience Platformは、サポートできないデータモデルの作成を回避するのに役立つ、一連のガードレールを提供 [!DNL Real-time Customer Profile] しています。 このドキュメントでは、ディメンションエンティティ、特にバッチセグメントを使用する場合のベストプラクティスと制約について説明します。

>[!NOTE]
>
>このドキュメントで概要を説明しているガードレールと制限は、常に改善されています。 定期的にもう一度確認して、更新を確認してください。

## はじめに

で使用するデータモデルを作成する前に、次のExperience Platformサービスのドキュメントを読むことをお勧め [!DNL Real-time Customer Profile]します。 このドキュメントで説明するデータモデルとガードレールを使用するには、エンティティの管理に関連する様々なExperience Platformサービスについて理解する必要があり [!DNL Real-time Customer Profile] ます。

* [[!DNLリアルタイム顧客プロファイル]](home.md):複数のソースからの集計データに基づいて、統合されたリアルタイムの消費者プロファイルを提供します。
* [Adobe Experience Platform・アイデンティティ・サービス](../identity-service/home.md):異なるデータソースに取り込まれる際にアイデンティティを相互に結び付けることで、「お客様の単一表示」の作成をサポート [!DNL Platform]します。
* [[!DNL Experience Data Model (XDM)]](../xdm/home.md):プラットフォームが顧客体験データを編成する際に使用する標準化されたフレームワーク。
   * [スキーマ構成の基本](../xdm/schema/composition.md):Experience Platform内でのスキーマとデータモデリングの概要です。
* [Adobe Experience Platform分類サービス](../segmentation/home.md):内のセグメントエンジンは、顧客の行動と属性に基づいて、顧客プロファイルからオーディエンスセグメントを作成するのに [!DNL Platform] 使用されます。
   * [マルチエンティティセグメント](../segmentation/multi-entity-segmentation.md):ディメンションエンティティとプロファイルデータを統合するセグメントの作成に関するガイドです。

## 図形の種類

Store [!DNL Profile] データモデルは、次の2つのコアエンティティタイプで構成されます。

* **プライマリエンティティ：** 主要エンティティ(プロファイルエンティティ)は、データを結合して、個々の人の「単一の真理の源泉」を形成します。 この統合データは、「和集合ビュー」と呼ばれるものを使用して表されます。和集合表示は、同じクラスを実装するすべてのスキーマのフィールドを1つの和集合スキーマに集計します。 の和集合スキーマ [!DNL Real-time Customer Profile] は、すべてのプロファイル属性と行動イベントのコンテナとして機能する非正規化ハイブリッドデータモデルです。

   時間に依存しない属性（「レコードデータ」とも呼ばれます）はを使用してモデル化され [!DNL XDM Individual Profile]るのに対し、時系列データ(「イベントデータ」とも呼ばれます)はを使用してモデル化され [!DNL XDM ExperienceEvent]ます。 記録や時系列のデータがAdobe Experience Platformで取り込まれると、そのデータの使用 [!DNL Real-time Customer Profile] が可能なデータの取り込みが開始されます。 取り込まれるインタラクションや詳細が多いほど、個人プロファイルは強力になります。

   ![](images/guardrails/profile-entity.png)

* **Dimensionエンティティ：** また、XDMクラスを定義して、個人以外のもの（店舗、製品、プロパティなど）を記述することもできます。 これらの非[!DNL XDM Individual Profile] スキーマは「ディメンションエンティティ」と呼ばれ、時系列データは含まれません。 Dimensionエンティティは、マルチエンティティセグメントの定義を支援および簡素化するルックアップデータを提供します。また、最適な処理（高速ポイントルックアップ）を行うために、セグメント化エンジンがデータセット全体をメモリに読み込めるだけの小さささにする必要があります。

   ![](images/guardrails/profile-and-dimension-entities.png)

## 制限タイプ

データモデルを定義する場合は、適切なパフォーマンスを確保し、システムエラーを回避するために、提供されたガードレール内に留まることをお勧めします。 このドキュメントで提供されるガードレールには、2つの制限タイプが含まれます。

* **ソフトリミット：** ソフトリミットは、最適なシステムパフォーマンスを得るために推奨される最大値を提供します。 システムを中断したりエラーメッセージを受け取ったりせずに、ソフトリミットを超えることは可能ですが、ソフトリミットを超えるとパフォーマンスが低下します。 全体的なパフォーマンスの低下を防ぐために、ソフトリミット内に収めることをお勧めします。

* **ハードリミット：** ハードリミットは、システムの絶対最大値です。 ハードリミットを超えると、破損やエラーが発生し、システムが期待どおりに機能しなくなります。

## データモデルガードレール

で使用するデータモデルを作成する場合は、次のガードレールに従うことをお勧め [!DNL Real-time Customer Profile]します。

### プライマリエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| [!DNL Profile] 和集合スキーマに貢献するために推奨されるデータセットの数 | 20 | ソフト | **最大20個の有効なデータセットを[!DNL Profile]使用することをお勧めします。** 別のデータセットを有効にするに [!DNL Profile]は、既存のデータセットを最初に削除または無効にする必要があります。 |
| 推奨される複数エンティティ関係の数 | 5 | ソフト | **プライマリエンティティとディメンションエンティティの間に、最大5つのマルチエンティティの関係を定義することをお勧めします。** 既存の関係が削除されるか無効になるまで、関係のマッピングは行われません。 |
| 複数エンティティの関係で使用されるIDフィールドのJSONの最大深度 | 4 | ソフト | **マルチエンティティの関係で使用するIDフィールドのJSONの深さの最大値は4です。** つまり、高度にネストされたスキーマでは、4レベル以上階層化されたフィールドは、関係のIDフィールドとして使用しないでください。 |
| プロファイルフラグメント内の配列の基数 | &lt;=500 | ソフト | **プロファイルフラグメント（時間独立データ）の最適なアレイカーディナリティは&lt;=500である。** |
| ExperienceEventの配列の基数 | &lt;=10 | ソフト | **ExperienceEvent（時系列データ）の最適な配列の基数は10未満です。** |

### Dimensionエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| 非[!DNL XDM Individual Profile] エンティティに対して時系列データは使用できません | 0 | ハード | **時系列データは、プロファイルサービスの非[!DNL XDM Individual Profile]エンティティに対しては使用できません。** 時系列データセットが非[!DNL XDM Individual Profile] IDに関連付けられている場合、そのデータセットは有効にしないでくだ [!DNL Profile]さい。 |
| ネストされた関係なし | 0 | ソフト | **2つの非[!DNL XDM Individual Profile]スキーマの間に関係を作成しないでください。** 和集合スキーマに含まれないスキーマに対しては、関係を作成する機能はお勧めしません。 [!DNL Profile] |
| プライマリIDフィールドの最大JSON深度 | 4 | ソフト | **プライマリIDフィールドに推奨されるJSONの深さの最大値は4です。** つまり、階層の高いスキーマでは、階層の深さが4レベルを超える場合は、主IDとしてフィールドを選択しないでください。 4番目の階層化レベルのフィールドは、プライマリIDとして使用できます。 |

## データサイズガードレール

以下のガードレールはデータサイズを参照し、データを意図したとおりに取り込み、保存、および照会できるようにすることをお勧めします。

>[!NOTE]
>
>データサイズは、取り込み時に、JSON内の非圧縮データとして測定されます。

### プライマリエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| プロファイルフラグメントあたりの最大サイズ | 10 KB | ソフト | **プロファイルフラグメントの推奨最大サイズは10 KBです。** 大きなプロファイルフラグメントを取り込むと、システムのパフォーマンスに影響します。 例えば、50kBのサイズのプロファイルフラグメントがある大量のCRMデータセットを読み込むと、システムのパフォーマンスが低下します。 |
| プロファイルフラグメントあたりの絶対最大サイズ | 1MB | ハード | **プロファイルフラグメントの絶対最大サイズは1 MBです。** 取り込みは、1 MBを超えるプロファイルフラグメントをアップロードしようとすると失敗します。 |

### Dimensionエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| すべてのディメンションエンティティの最大合計サイズ | 5 GB | ソフト | **すべてのディメンションエンティティに推奨される合計サイズの最大値は5 GBです。** 大きなディメンションエンティティを取り込むと、システムのパフォーマンスが低下します。 例えば、10 GBの製品カタログをディメンションエンティティとして読み込むことはお勧めしません。 |
| 次元エンティティスキーマごとのデータセット | 5 | ソフト | **各ディメンションエンティティスキーマに関連付けられるデータセットは、最大5つを推奨します。** 例えば、「products」のスキーマを作成し、5つの貢献データセットを追加する場合は、productsスキーマーに関連付けられた6つ目のデータセットを作成しないでください。 |