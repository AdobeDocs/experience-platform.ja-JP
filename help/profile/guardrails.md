---
keywords: Experience Platform;プロファイル；リアルタイム顧客プロファイル；トラブルシューティング；ガードレール；ガイドライン；制限；エンティティ；プライマリエンティティ；ディメンションエンティティ；
title: リアルタイム顧客プロファイルデータのガードレール
solution: Experience Platform
product: experience platform
topic-legacy: guide
type: Documentation
description: Adobe Experience Platformは、リアルタイム顧客プロファイルがサポートできないデータモデルの作成を回避するための一連のガードレールを提供しています。 このドキュメントでは、プロファイルデータをモデリングする際に留意すべきベストプラクティスと制約について説明します。
exl-id: 33ff0db2-6a75-4097-a9c6-c8b7a9d8b78c
translation-type: tm+mt
source-git-commit: 5d449c1ca174cafcca988e9487940eb7550bd5cf
workflow-type: tm+mt
source-wordcount: '1456'
ht-degree: 4%

---

# [!DNL Real-time Customer Profile]データのガードレール

[!DNL Real-time Customer Profile] は、行動分析インサイトと顧客属性に基づいて、チャネル間の個別のエクスペリエンスをパーソナライズして提供できる個々のプロファイルを提供します。このターゲティングを達成するために、[!DNL Profile]とAdobe Experience Platform内のセグメント化エンジンは、高度に非正規化されたハイブリッドデータモデルを使用し、これにより、顧客プロファイルの開発に新しいアプローチをオファーします。 このハイブリッドデータモデルを使用すると、収集されるデータが正しくモデル化されていることが非常に重要になります。 プロファイルデータを保守する[!DNL Profile]データストアはリレーショナルストアではありませんが、[!DNL Profile]は、セグメントを簡単で直感的な方法で作成するために、小さなディメンションエンティティとの統合を可能にします。 この統合は、マルチエンティティセグメント化と呼ばれます。

Adobe Experience Platformは、[!DNL Real-time Customer Profile]ではサポートできないデータモデルの作成を回避するための一連のガードレールを提供しています。 このドキュメントでは、セグメントにプロファイルデータを使用する場合の、これらのガードレールの概要と、ベストプラクティスと制約について説明します。

>[!NOTE]
>
>このドキュメントで概要を説明しているガードレールと制限は、常に改善されています。 定期的にもう一度確認して、更新を確認してください。

## はじめに

[!DNL Real-time Customer Profile]で使用するデータモデルを構築する前に、次のExperience Platformサービスに関するドキュメントを読むことをお勧めします。 このドキュメントで説明するデータモデルとガードレールを使用するには、[!DNL Real-time Customer Profile]エンティティの管理に関連する様々なExperience Platformサービスについて理解する必要があります。

* [[!DNL Real-time Customer Profile]](home.md):複数のソースからの集計データに基づいて、統合されたリアルタイムの消費者プロファイルを提供します。
* [Adobe Experience Platform・アイデンティティ・サービス](../identity-service/home.md):異なるデータソースに取り込まれる際にアイデンティティを相互に結び付けることで、「お客様の単一表示」の作成をサポート [!DNL Platform]します。
* [[!DNL Experience Data Model (XDM)]](../xdm/home.md):プラットフォームが顧客体験データを編成する際に使用する標準化されたフレームワーク。
   * [スキーマ構成の基本](../xdm/schema/composition.md):Experience Platform内でのスキーマとデータモデリングの概要です。
* [Adobe Experience Platform分類サービス](../segmentation/home.md):内のセグメントエンジンは、顧客の行動と属性に基づいて、顧客プロファイルからオーディエンスセグメントを作成するのに [!DNL Platform] 使用されます。
   * [マルチエンティティセグメント](../segmentation/multi-entity-segmentation.md):ディメンションエンティティとプロファイルデータを統合するセグメントの作成に関するガイドです。

## 図形の種類

[!DNL Profile]保存データモデルは、次の2つのコアエンティティタイプで構成されます。

* **プライマリエンティティ：** 主要エンティティ、つまりプロファイルエンティティは、データを結合して個々の「真実の単一のソース」を形成します。この統合データは、「和集合ビュー」と呼ばれるものを使用して表されます。和集合表示は、同じクラスを実装するすべてのスキーマのフィールドを1つの和集合スキーマに集計します。 [!DNL Real-time Customer Profile]の和集合スキーマは非正規化されたハイブリッドデータモデルで、すべてのプロファイル属性と行動イベントのコンテナとして機能します。

   時間に依存しない属性（「レコードデータ」とも呼ばれます）は[!DNL XDM Individual Profile]を使用してモデル化されますが、時系列データ(「イベントデータ」とも呼ばれます)は[!DNL XDM ExperienceEvent]を使用してモデル化されます。 記録と時系列データがAdobe Experience Platformで取り込まれると、[!DNL Real-time Customer Profile]トリガーがその使用が可能なデータを取り込み始めます。 取り込まれるインタラクションや詳細が多いほど、個人プロファイルは強力になります。

   ![](images/guardrails/profile-entity.png)

* **Dimensionエンティティ：** 組織でXDMクラスを定義して、個人以外のもの（店舗、製品、プロパティなど）を説明することもできます。これらの[!DNL XDM Individual Profile]以外のスキーマは「ディメンションエンティティ」と呼ばれ、時系列データは含まれません。 Dimensionエンティティは、マルチエンティティセグメントの定義を支援および簡素化するルックアップデータを提供します。また、最適な処理（高速ポイントルックアップ）を行うために、セグメント化エンジンがデータセット全体をメモリに読み込めるだけの小ささである必要があります。

   ![](images/guardrails/profile-and-dimension-entities.png)

## 制限タイプ

データモデルを定義する場合は、適切なパフォーマンスを確保し、システムエラーを回避するために、提供されたガードレール内に留まることをお勧めします。 このドキュメントで提供されるガードレールには、2つの制限タイプが含まれます。

* **ソフトリミット：** ソフトリミットは、最適なシステムパフォーマンスを得るために推奨される最大値を提供します。システムを中断したりエラーメッセージを受け取ったりせずに、ソフトリミットを超えることは可能ですが、ソフトリミットを超えるとパフォーマンスが低下します。 全体的なパフォーマンスの低下を防ぐために、ソフトリミット内に収めることをお勧めします。

* **ハードリミット：ハ** ードリミットは、システムの絶対最大値です。ハードリミットを超えると、破損やエラーが発生し、システムが期待どおりに機能しなくなります。

## データモデルガードレール

[!DNL Real-time Customer Profile]で使用するデータモデルを作成する場合は、次のガードレールに従うことをお勧めします。

### プライマリエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| [!DNL Profile]和集合スキーマに貢献するために推奨されるデータセットの数 | 20 | ソフト | **最大20個の有効なデータセットを [!DNL Profile]使用することをお勧めします。** 別のデータセットを有効にするに [!DNL Profile]は、既存のデータセットを最初に削除または無効にする必要があります。 |
| 推奨される複数エンティティ関係の数 | 5 | ソフト | **プライマリエンティティとディメンションエンティティの間に、最大5つのマルチエンティティの関係を定義することをお勧めします。** 既存の関係が削除されるか無効になるまで、関係のマッピングは行われません。 |
| 複数エンティティの関係で使用されるIDフィールドのJSONの最大深度 | 4 | ソフト | **マルチエンティティの関係で使用するIDフィールドのJSONの深さの最大値は4です。** つまり、高度にネストされたスキーマでは、4レベル以上階層化されたフィールドは、関係のIDフィールドとして使用しないでください。 |
| プロファイルフラグメント内の配列の基数 | &lt;=500 | ソフト | **プロファイルフラグメント内の最適なアレイカーディナリティ（時間独立データ）は次のとおりです。  &lt;>** |
| ExperienceEventの配列の基数 | &lt;=10 | ソフト | **ExperienceEvent（時系列データ）のアレイの最適な基数は、  &lt;>** |

### Dimensionエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| 非[!DNL XDM Individual Profile]エンティティに対して時系列データは使用できません | 0 | ハード | **時系列データは、プロファイルサービスの非[!DNL XDM Individual Profile] エンティティに対しては使用できません。** 時系列データセットが非[!DNL XDM Individual Profile] IDに関連付けられている場合は、そのデータセットを有効にしないでください [!DNL Profile]。 |
| ネストされた関係なし | 0 | ソフト | **2つの非[!DNL XDM Individual Profile] スキーマの間に関係を作成しないでください。** 関係を作成する機能は、 [!DNL Profile] 和集合スキーマに含まれないスキーマには推奨されません。 |
| プライマリIDフィールドの最大JSON深度 | 4 | ソフト | **プライマリIDフィールドに推奨されるJSONの深さの最大値は4です。** つまり、階層の高いスキーマでは、階層の深さが4レベルを超える場合は、主IDとしてフィールドを選択しないでください。4番目の階層化レベルのフィールドは、プライマリIDとして使用できます。 |

## データサイズガードレール

以下のガードレールはデータサイズを参照し、データを意図したとおりに取り込み、保存、および照会できるようにすることをお勧めします。

>[!NOTE]
>
>データサイズは、取り込み時に、JSON内の非圧縮データとして測定されます。

### プライマリエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| プロファイルフラグメントあたりの最大サイズ | 10 KB | ソフト | **プロファイルフラグメントの推奨最大サイズは10 KBです。** 大きなプロファイルフラグメントを取り込むと、システムのパフォーマンスに影響します。例えば、50kBのサイズのプロファイルフラグメントがある大量のCRMデータセットを読み込むと、システムのパフォーマンスが低下します。 |
| プロファイルフラグメントあたりの絶対最大サイズ | 1MB | ハード | **プロファイルフラグメントの絶対最大サイズは1 MBです。** 取り込みは、1 MBを超えるプロファイルフラグメントをアップロードしようとすると失敗します。 |

### Dimensionエンティティガードレール

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| すべてのディメンションエンティティの最大合計サイズ | 5 GB | ソフト | **すべてのディメンションエンティティに推奨される合計サイズの最大値は5 GBです。** 大きなディメンションエンティティを取り込むと、システムのパフォーマンスが低下します。例えば、10 GBの製品カタログをディメンションエンティティとして読み込むことはお勧めしません。 |
| 次元エンティティスキーマごとのデータセット | 5 | ソフト | **各ディメンションエンティティスキーマに関連付けられるデータセットは、最大5つを推奨します。** 例えば、「products」のスキーマを作成し、5つの貢献データセットを追加する場合は、productsスキーマーに関連付けられた6つ目のデータセットを作成しないでください。 |

## セグメントガードレール

この節で説明するガードレールは、組織がExperience Platform内で作成できるセグメントの数と特性を示すほか、セグメントを宛先にマッピングおよびアクティブ化することもできます。

| ガードレイル | 制限 | 制限タイプ | 説明 |
| --- | --- | --- | --- |
| サンドボックスあたりのセグメントの最大数 | 1万 | ソフト | **組織が作成できるセグメントの最大数は、サンドボックスあたり10Kです。** 各サンドボックスに10,000個未満のセグメントがある限り、組織は合計で10,000個を超えるセグメントを持つことができます。追加のセグメントを作成しようとすると、システムのパフォーマンスが低下します。 |
| サンドボックスあたりのストリーミングセグメントの最大数 | 500 | ソフト | **組織が作成できるストリーミングセグメントの最大数は、サンドボックスあたり500です。** 各サンドボックスに500未満のストリーミングセグメントがある限り、組織は合計500を超えるストリーミングセグメントを持つことができます。追加のストリーミングセグメントを作成しようとすると、システムのパフォーマンスが低下します。 |
| サンドボックスあたりのバッチセグメントの最大数 | 1万 | ソフト | **組織が作成できるバッチセグメントの最大数は、サンドボックスあたり10Kです。** 各サンドボックスに10,000個未満のバッチセグメントがある限り、組織は合計で10,000個を超えるバッチセグメントを持つことができます。追加のバッチセグメントを作成しようとすると、システムのパフォーマンスが低下します。 |
