---
keywords: Experience Platform;ホーム;人気のトピック;データセット;データセット;有効期間;ttl;有効期間;
solution: Experience Platform
title: エクスペリエンスイベントの有効期限
description: このドキュメントでは、Adobe Experience Platform データセット内の個々のエクスペリエンスイベントの有効期限を設定する際の一般的なガイダンスを示します。
exl-id: a91f2cd2-3a5d-42e6-81c3-0ec5bc644f5f
source-git-commit: bb2d0075b234ec750046e1f28cac07a58a9d7e72
workflow-type: tm+mt
source-wordcount: '849'
ht-degree: 90%

---

# エクスペリエンスイベントの有効期限

Adobe Experience Platformでは、有効な [リアルタイム顧客プロファイル](./home.md). これにより、ご使用のユースケースにおいて有効性や有用性がなくなったデータをプロファイルストアから自動的に削除できます。

エクスペリエンスイベントの有効期限は、Platform の UI または API を使用して設定することはできません。代わりに、必要なデータセットに対してエクスペリエンスイベントの有効期限を有効にするには、サポートに問い合わせる必要があります。

>[!IMPORTANT]
>
>エクスペリエンスイベントの有効期限を、データセットの有効期限と混同しないようにします。データセットの有効期限は、期限になるとデータセット全体が削除されます。これらは、[Adobe Experience Platform データハイジーン](../hygiene/home.md)を使用して手動で設定されます。

## 自動的に実行される有効期限のプロセス

プロファイルに対応したデータセットでエクスペリエンスイベントの有効期限が設定されると、Platform は、次の 2 つの手順で、取り込まれた各イベントに対して有効期限値を自動的に適用します。

1. データセットに取り込まれるすべての新しいデータには、イベントのタイムスタンプに基づいて、取り込み時に有効期限値が適用されます。
1. データセット内のすべての既存データには、1 回限りのバックフィルシステムジョブとして、有効期限値が遡及的に適用されます。有効期限値がデータセットに設定されると、 有効期限値より古いイベントは、システムジョブが実行されしだいドロップされます。その他のイベントは、イベントタイムスタンプから 有効期限値に達するとすぐにドロップオフされます。すべてのエクスペリエンスイベントが削除されると、プロファイルにプロファイル属性がなくなった場合、そのプロファイルは存在しなくなります。

>[!WARNING]
>
>適用されると、有効期限値で割り当てられている日数より古いデータは、**完全に削除され**&#x200B;復元できなくなります。

例えば、5月15日に 30 日の有効期限値を適用した場合、次のような手順が実行されます。

1. すべての新しいイベントには、取り込み時に、30 日間の有効期限値が適用されます。
1. 4月15日より古いタイムスタンプを持つ既存のイベントはすべて、システムジョブによって直ちに削除されます。
1. 4月15日より新しいタイムスタンプを持つ既存のイベントはすべて、有効期限値がイベントタイムスタンプの 30 日後に設定されます。したがって、イベントのタイムスタンプが4月18日の場合、そのタイムスタンプの日付の 30 日後（5月18日）にイベントが削除されます。

## セグメント化に対する影響

結果を正確に保持するために、セグメントのルックバックウィンドウが依存するデータセットの有効期限内にあることを確認する必要があります。 例えば、30 日の有効期限値を適用し、45 日前までのデータを表示しようとするセグメントがある場合、結果のオーディエンスは不正確な可能性があります。

したがって、セグメント化ロジックの異なるデータセット間で異なる有効期限値が影響を受けるのを防ぐために、可能な限りすべてのデータセットで同じエクスペリエンスイベントの有効期限値を維持する必要があります。

## よくある質問 {#faq}

次の節では、エクスペリエンスイベントのデータの有効期限に関するよくある質問を示します。

### Experience Event のデータ有効期限が偽名プロファイルのデータ有効期限とどのように異なりますか？

エクスペリエンスイベントデータの有効期限と偽名プロファイルデータの有効期限は補完的な機能です。

#### 精度

エクスペリエンスイベントデータの有効期限は、**データセット**&#x200B;レベルで機能します。 その結果、各データセットで異なるデータ有効期限設定を使用できます。

偽名プロファイルデータの有効期限は、**サンドボックス**&#x200B;レベルで機能します。 その結果、データの有効期限はサンドボックス内のすべてのプロファイルに影響を与えます。

#### ID タイプ

エクスペリエンスイベントデータの有効期限は、イベントレコードのタイムスタンプに基づいて&#x200B;**のみ**&#x200B;イベントを削除します。 含まれる ID 名前空間は、有効期限のために&#x200B;**無視されます**。

偽名プロファイルデータの有効期限では、顧客が選択した ID 名前空間を含む ID グラフを持つプロファイル（例えば、`ECID`、`AAID`、またはその他の種類の cookie）**のみ**&#x200B;が考慮されます。プロファイルに、顧客が選択したリストには&#x200B;**存在しない**、**任意の**&#x200B;追加 ID 名前空間が含まれている場合、プロファイルは削除&#x200B;**されません**。

#### 削除された項目

エクスペリエンスイベントデータの有効期限は、イベント&#x200B;**のみ**&#x200B;を削除し、プロファイルクラスデータは削除&#x200B;**しません**。 プロファイルクラスデータが削除されるのは、**すべての**&#x200B;データセットにわたってすべてのデータが削除され、そのプロファイルにプロファイルクラスレコードが&#x200B;**残っていない**&#x200B;場合のみです。

偽名プロファイルデータの有効期限は、イベントとプロファイルレコードの&#x200B;**両方**&#x200B;を削除します。 その結果、プロファイルクラスデータも削除されます。

### 偽名プロファイルデータの有効期限をエクスペリエンスイベントデータの有効期限と組み合わせて使用する方法。

偽名プロファイルデータの有効期限とエクスペリエンスイベントデータの有効期限は、互いを補完するために使用できます。

既知の顧客に関するデータを保持する必要に応じて、データセットにエクスペリエンスイベントデータの有効期限を&#x200B;**常に**&#x200B;設定する必要があります。 エクスペリエンスイベントデータの有効期限が設定されると、偽名プロファイルデータの有効期限を使用して、偽名プロファイルを自動的に削除できます。 通常、偽名プロファイルのデータの有効期限は、エクスペリエンスイベントデータの有効期限より短くなります。

一般的な使用例では、既知のユーザーデータの値に基づいてエクスペリエンスイベントデータの有効期限を設定し、偽名プロファイルのデータ有効期限をはるかに短い期間に設定して、偽名プロファイルの Platform ライセンスコンプライアンスへの影響を制限できます。
