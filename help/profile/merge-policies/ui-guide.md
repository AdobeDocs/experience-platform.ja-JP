---
keywords: Experience Platform;プロファイル;リアルタイム顧客プロファイル;結合ポリシー;UI;ユーザーインターフェイス;順序付きタイムスタンプ;データセットの優先順位
title: 結合ポリシー UI ガイド
type: Documentation
description: 複数のソースから得られたデータを Experience Platform で統合する際に、Platform では、データの優先順位を設定する方法と統合ビューを作成するために組み合わせるデータを決定するためのルールとして、結合ポリシーを使用します。このガイドでは、Adobe Experience Platform ユーザーインターフェイスを使用して結合ポリシーを操作する手順を説明します。
exl-id: 0489217a-6a53-428c-a531-fd0a0e5bb71f
source-git-commit: a6a49b4cf9c89b5c6b4679f36daede93590ffb3c
workflow-type: tm+mt
source-wordcount: '2193'
ht-degree: 100%

---


# 結合ポリシー UI ガイド

Adobe Experience Platform では、個々の顧客の全体像を把握するために、複数のソースから得られたデータフラグメントを統合し組み合わせることができます。このデータを統合する際に、[!DNL Platform] では、データの優先順位を設定する方法と統合ビューを作成するために組み合わせるデータを決定するためのルールとして、結合ポリシーを使用します。

RESTful API またはユーザーインターフェイスを介すると、新しい結合ポリシーの作成、既存のポリシーの管理、組織のデフォルトの結合ポリシーの設定をおこなえます。このガイドでは、Adobe Experience Platform ユーザーインターフェイス（UI）を使用して結合ポリシーを扱う手順を説明します。

結合ポリシーと、Experience Platform 内での結合ポリシーの役割について詳しくは、まず[結合ポリシーの概要](overview.md)をお読みください。

## はじめに

このガイドを利用するには、[!DNL Experience Platform] のいくつかの重要な機能に関する実用的な知識が必要です。このガイドに従う前に、次のサービスのドキュメントを確認してください。

* [リアルタイム顧客プロファイル](../home.md)：複数のソースから集約されたデータに基づいて、統合されたリアルタイムのコンシューマープロファイルを提供します。
* [Adobe Experience Platform ID サービス](../../identity-service/home.md)：様々なデータソースから得られた ID を [!DNL Platform] に取り込むことで、リアルタイム顧客プロファイルを有効にします。
* [エクスペリエンスデータモデル（XDM）](../../xdm/home.md)：[!DNL Platform] が顧客エクスペリエンスデータを整理する際に使用する標準化されたフレームワーク。

## 結合ポリシーの表示 {#view-merge-policies}

[!DNL Experience Platform] UI 内で結合ポリシーの操作を開始するには、左側のナビゲーションで「**[!UICONTROL プロファイル]**」を選択し、「**[!UICONTROL 結合ポリシー]**」タブを選択します。このタブには、組織の既存の結合ポリシーの一覧と各結合ポリシーの詳細（ポリシー名、デフォルトの結合ポリシーであるかどうか、結合ポリシーが関連するスキーマクラスなど）が含まれています。

![ポリシーの結合ランディングページ](../images/merge-policies/landing.png)

表示する詳細を選択するか、表示に列を追加するには、「**[!UICONTROL 列を設定]**」を選択し、列名をクリックして、列を表示に追加または表示から削除します。

![](../images/merge-policies/adjust-view.png)

## 結合ポリシーの作成 {#create-a-merge-policy}

新しい結合ポリシーを作成するには、「結合ポリシー」タブで「**[!UICONTROL 結合ポリシーを作成]**」を選択して、新しい結合ポリシーワークフローを入力します。

![作成ボタンがハイライト表示された結合ポリシーランディングページ](../images/merge-policies/create-new.png)

**[!UICONTROL 新しい結合ポリシー]**&#x200B;ワークフローでは、一連のガイド付き手順を通じて、新しい結合ポリシーに関する重要な情報を入力する必要があります。これらの手順の概要を以降の節で説明します。

![「新しい結合ポリシー」ワークフロー](../images/merge-policies/create.png)

## [!UICONTROL 設定] {#configure}

ワークフローの最初の手順では、基本情報を入力して結合ポリシーを設定できます。こうした情報には、次のものが含まれます。

* **[!UICONTROL 名前]**：結合ポリシーの名前は、説明的かつ簡潔にする必要があります。
* **[!UICONTROL スキーマクラス]**：結合ポリシーに関連付けられた XDM スキーマクラス。この結合ポリシーを作成するスキーマクラスを指定します。組織は、スキーマクラスごとに複数の結合ポリシーを作成できます。現在、UI では [!UICONTROL XDM 個人プロファイル]クラスのみ使用できます。「**[!UICONTROL 和集合スキーマを表示]**」を選択すると、スキーマクラスの和集合スキーマをプレビューできます。詳しくは、次の「[和集合スキーマの表示](#view-union-schema)」節を参照してください。
* **[!UICONTROL ID ステッチ]**：このフィールドでは、顧客の関連 ID を特定する方法を定義します。ID ステッチには 2 つの値が考えられます。選択した ID ステッチのタイプがデータに与える影響を理解することが重要です。詳しくは、[結合ポリシーの概要](overview.md)を参照してください。
   * **[!UICONTROL なし]**：ID ステッチを実行しない。
   * **[!UICONTROL 非公開グラフ]**：非公開の ID グラフに基づいて ID ステッチを実行します。
* **[!UICONTROL 既定の結合ポリシー]**：組織のデフォルトとしてこの結合ポリシーを使用するかどうかを選択するトグルボタン。セレクターをオンにすると、組織のデフォルトの結合ポリシーを変更することに対する確認を求める警告が表示されます。デフォルトの結合ポリシーについて詳しくは、[結合ポリシーの概要](overview.md)を参照してください。
   ![](../images/merge-policies/create-make-default.png)

必須フィールドに入力したら、「**[!UICONTROL 次へ]**」をクリックしてワークフローを続行します。

![「次へ」ボタンがハイライト表示された設定画面全体](../images/merge-policies/create-complete.png)

## [!UICONTROL 和集合スキーマの表示] {#view-union-schema}

結合ポリシーを作成または編集する際に、「**[!UICONTROL 和集合スキーマを表示]**」をクリックすると、選択したスキーマクラスの和集合スキーマを表示できます。

![](../images/merge-policies/view-union-schema.png)

[!UICONTROL 和集合スキーマを表示]ダイアログが開き、和集合スキーマに関連付けられている、要因となるすべてのスキーマ、ID および関係が表示されます。このダイアログを使用して、和集合スキーマを調べることができます。方法は、Platform UI の「[!UICONTROL プロファイル]」セクションの「[!UICONTROL 和集合スキーマ]」タブにアクセスする場合と同じです。

和集合スキーマの詳細（結合ポリシーワークフローに表示される「[!UICONTROL 和集合スキーマ]」タブや[!UICONTROL 和集合スキーマを表示]ダイアログでの操作方法など）については、[和集合スキーマ UI ガイド](../ui/union-schema.md)を参照してください。

![](../images/merge-policies/view-union-schema-dialog.png)

## [!UICONTROL プロファイルデータセットの選択] {#select-profile-datasets}

**[!UICONTROL プロファイルデータセットの選択]**&#x200B;画面で、結合ポリシーに使用する「**[!UICONTROL 結合方法]**」を選択する必要があります。また、この画面には、前の画面で選択したスキーマクラスに関連する、組織内の[!UICONTROL プロファイルデータセット]の合計数が表示されます。

選択した結合方法に応じて、すべてのプロファイルデータセットが最後に更新された順序（順序付きタイムスタンプ）で結合されるか、結合ポリシーに含めるプロファイルデータセットと結合する順序（データセットの優先順位）を選択する必要があります。

結合メソッドの詳細情報は、[結合ポリシーの概要](overview.md)を参照してください。

### 順序付きタイムスタンプ {#timestamp-ordered-profile}

結合メソッドとして&#x200B;**[!UICONTROL 順序付きタイムスタンプ]**&#x200B;を選択すると、最近更新されたデータセットの属性が優先されます。これは、すべてのプロファイルデータセットに適用されます。

>[!NOTE]
>
>**[!UICONTROL プロファイルデータセット]**&#x200B;の横にある角括弧で囲まれた数（例えば、図の `(37)`）は、含まれるプロファイルデータセットの合計数を示します。

![](../images/merge-policies/timestamp-ordered.png)

### データセットの優先順位 {#dataset-precedence-profile}

結合メソッドとして&#x200B;**[!UICONTROL データセットの優先順位]**&#x200B;を選択するには、プロファイルデータセットを選択し、手動で優先順位を付ける必要があります。リストされる各データセットには、最後に取得されたバッチのステータスも含まれます。また、バッチがそのデータセットに取得されていないことを示す通知も表示されます。

データセットリストから最大 50 個のデータセットを選択して、結合ポリシーに含めることができます。

>[!NOTE]
>
>**[!UICONTROL プロファイルデータセット]**&#x200B;の横にある角括弧で囲まれた数（例えば、図の `(37)`）は、選択可能なプロファイルデータセットの合計数を示します。

データセットを選択すると、データセットが「**[!UICONTROL データセットを選択]**」セクションに追加され、データセットをドラッグ＆ドロップして、必要な優先順位に従って並べ替えることができます。リストでデータセットが調整されると、データセットの横に表示される序数（1、2、3 など）が更新され、優先度が表示されます（1 が最も高い優先度 、次に 2 以降）。

データセットを選択すると、「**[!UICONTROL 和集合スキーマ]**」セクションも更新され、各データセットがデータを提供する和集合スキーマ内のフィールドが表示されます。UI のビジュアライゼーションの操作方法など、和集合スキーマについて詳しくは、[和集合スキーマ UI ガイド](../ui/union-schema.md)を参照してください。

![](../images/merge-policies/dataset-precedence.png)

## [!UICONTROL ExperienceEvent データセットの選択] {#select-experienceevent-datasets}

ワークフローの次の手順では、ExperienceEvent データセットを選択する必要があります。この画面は、[[!UICONTROL プロファイルデータセットの選択]](#select-profile-datasets)画面で選択した結合メソッドの影響を受けます。

### 順序付きタイムスタンプ {#timestamp-ordered-experienceevent}

プロファイルデータセットの結合メソッドとして&#x200B;**[!UICONTROL 順序付きタイムスタンプ]**&#x200B;を選択した場合は、最近更新された ExperienceEvent データセットの属性もここで優先されます。

>[!NOTE]
>
>**[!UICONTROL ExperienceEvent データセット]**&#x200B;の横にある角括弧で囲まれた数（例えば、図の `(20)`）は、結合ポリシー設定画面で選択したスキーマクラスに関連する、組織が作成した ExperienceEvent データセットの合計数を示します。

![](../images/merge-policies/timestamp-experienceevent.png)

### データセットの優先順位 {#dataset-precedence-experienceevent}

プロファイルデータセットの結合メソッドとして&#x200B;**[!UICONTROL データセットの優先順位]**&#x200B;を選択した場合は、含める ExperienceEvent データセットを選択する必要があります。データセットリストから最大 50 個の ExperienceEvent データセットを選択できます。

>[!NOTE]
>
>**[!UICONTROL ExperienceEvent データセット]**&#x200B;の横にある角括弧で囲まれた数（例えば、図の `(20)`）は、結合ポリシー設定画面で選択したスキーマクラスに関連する、組織が作成した ExperienceEvent データセットの合計数を示します。

データセットが選択されると、「[!UICONTROL データセットを選択]」セクションに表示されます。

ExperienceEvent データセットは手動で並べ替えることはできません。同じプロファイルフラグメントに属する場合、ExperienceEvent データセットの属性がプロファイルデータセットに追加されます。

プロファイルデータセットの選択と同様に、ExperienceEvent データセットを選択すると、「**[!UICONTROL 和集合スキーマ]**」セクションも更新され、各データセットがデータを提供する和集合スキーマのフィールドが表示されます。UI のビジュアライゼーションの操作方法など、和集合スキーマについて詳しくは、[和集合スキーマ UI ガイド](../ui/union-schema.md)を参照してください。

![](../images/merge-policies/dataset-precedence-experienceevent.png)

## [!UICONTROL レビュー] {#review}

ワークフローの最後の手順は、結合ポリシーを確認することです。**[!UICONTROL レビュー]**&#x200B;画面には、選択した ID ステッチ方法、選択した結合方法、含まれたデータセットなど、結合ポリシーに関する情報が表示されます。（含まれるすべてのプロファイルまたは ExperienceEvent データセットを表示するには、データセットの数を選択してドロップダウンリストを展開します）。

また、レビュー画面には、結合ポリシーを使用したサンプルプロファイルレコードを示す&#x200B;**[!UICONTROL プレビューデータ]**&#x200B;テーブルも含まれています。これにより、結合ポリシーを保存する前に、顧客プロファイルがどのように表示されるかをプレビューできます。

「**[!UICONTROL 完了]**」を選択して作成ワークフローを完了する前に、結合ポリシーの設定とプレビューデータを慎重に確認してください。

### 順序付きタイムスタンプ {#timestamp-ordered-review}

結合ポリシーの結合メソッドとして&#x200B;**[!UICONTROL 順序付きタイムスタンプ]**&#x200B;を選択した場合、プロファイルデータセットのリストには、スキーマクラスに関連する組織が作成したすべてのデータセットがタイムスタンプの順に含まれます。ExperienceEvent データセットのリストには、選択したスキーマクラスに対して組織が作成したすべてのデータセットが含まれ、プロファイルデータセットに追加されます。

**[!UICONTROL プレビューデータ]**&#x200B;テーブルは、データセットのタイムスタンプ順序に基づくサンプルプロファイルレコードを示しています。これにより、結合ポリシーを保存する前に、顧客プロファイルがどのように表示されるかをプレビューできます。

![](../images/merge-policies/timestamp-review.png)

### データセットの優先順位 {#dataset-precedence-review}

結合ポリシーの結合方法として&#x200B;**[!UICONTROL データセットの優先順位]**&#x200B;を選択した場合、プロファイルデータセットと ExperienceEvent データセットのリストには、作成ワークフローで選択したプロファイルデータセットと ExperienceEvent データセットのみが含まれます。プロファイルデータセットの順序は、作成時に指定した優先順位と一致する必要があります。一致しない場合は、「[!UICONTROL 戻る]」ボタンを使用して前のワークフローステップに戻り、優先度を調整します。

**[!UICONTROL プレビューデータ]**&#x200B;テーブルに、選択したデータセットを使用したサンプルプロファイルレコードが表示されます。これにより、結合ポリシーを保存する前に、顧客プロファイルがどのように表示されるかをプレビューできます。

![](../images/merge-policies/dataset-precedence-review.png)

### 結合ポリシーの更新されたリスト {#updated-list}

新しい結合ポリシーを作成するワークフローを完了すると、「**[!UICONTROL 結合ポリシー]**」タブに戻ります。組織の結合ポリシーのリストに、作成した結合ポリシーが含まれている必要があります。

![](../images/merge-policies/new-merge-policy-created.png)

## 結合ポリシーの編集

「[!UICONTROL 結合ポリシー]」タブで、[!DNL XDM Individual Profile] クラス用に作成した既存の結合ポリシーを変更できます。変更するには、編集する結合ポリシーの&#x200B;**[!UICONTROL ポリシー名]**&#x200B;を選択します。

![ポリシーの結合ランディングページ](../images/merge-policies/select-edit.png)

**[!UICONTROL 結合ポリシーの編集]**&#x200B;画面が表示されたら、名前と [!UICONTROL ID のステッチ]メソッドを変更し、このポリシーが組織のデフォルトの結合ポリシーであるかどうかを変更できます。

「**[!UICONTROL 次へ]**」を選択して、結合ポリシーのワークフローを続行し、結合ポリシーに含まれる結合メソッドとデータセットを更新します。

![](../images/merge-policies/edit-screen.png)

必要な変更を加えたら、結合ポリシーを確認し、「**[!UICONTROL 完了]**」を選択して変更を保存し、「[!UICONTROL 結合ポリシー]」タブに戻ります。

>[!WARNING]
>
>結合ポリシーを変更すると、データの競合を解決する方法が変わるので、セグメント化とプロファイルの結果に影響を与える可能性があります。結合ポリシーの変更は、保存する前に慎重に確認してください。

![](../images/merge-policies/edit-review.png)

## データガバナンスポリシー違反

結合ポリシーを作成または更新すると、結合ポリシーが組織で定義されたデータ使用ポリシーに違反しているかどうかを確認するチェックが実行されます。データ使用ポリシーは、Adobe Experience Platform [!DNL Data Governance] の一部です。このポリシーは、特定の [!DNL Platform] データに対して実行を許可または制限するマーケティングアクションの種類を記述するルールです。例えば、組織のデータ使用ポリシーによって特定のデータをサードパーティに書き出すことを防止している場合、結合ポリシーを使用してサードパーティの宛先に対してアクティブ化されたセグメントを作成し、結合ポリシーを保存しようとすると、「**[!UICONTROL データガバナンスポリシーの違反が検出されました]**」という通知が表示されます。

この通知には、違反したデータ使用ポリシーのリストが含まれ、リストから選択すると、違反の詳細を表示できます。違反ポリシーを選択すると、「**[!UICONTROL データ系列]**」タブに違反理由と影響を受けるアクティベーションが表示され、データ使用ポリシーの違反の詳細を確認できます。

Adobe Experience Platform 内でのデータガバナンスの実行方法について詳しくは、まず[データガバナンスの概要](../../data-governance/home.md)を読んでください。

![](../images/merge-policies/policy-violation.png)

## 次の手順

これで、組織の結合ポリシーを作成して設定できました。これらのポリシーを使用して、Platform 内の顧客プロファイルの表示を調整し、プロファイルデータからオーディエンスセグメントを作成できます。[!DNL Experience Platform] UI と API を使用してセグメントを作成および操作する方法について詳しくは、[セグメントの概要](../../segmentation/home.md)を参照してください。
