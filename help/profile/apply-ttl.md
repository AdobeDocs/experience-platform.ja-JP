---
keywords: Experience Platform；ホーム；人気のあるトピック；データセット；データセット；有効期間；ttl；有効期間；
solution: Experience Platform
title: データセットの有効期間
description: このドキュメントでは、Adobe Experience Platformのプロファイルストアにあるデータセットの有効期間(TTL)に関する一般的なガイダンスを提供します。
source-git-commit: 878c04c688268f8cf1850c3e8d40f958a6d2d69b
workflow-type: tm+mt
source-wordcount: '459'
ht-degree: 0%

---


# プロファイルサービスの有効期間(TTL)

プロファイルサービスを使用すると、ユーザーはプロファイルストア内のデータに有効期間(TTL)を適用できます。 TTLは、データセット内のデータの存続時間を制限するメカニズムです。 これにより、使用事例で役に立たなくなったデータをプロファイルストアから自動的に削除できます。

現在、プロファイルはエクスペリエンスイベントTTLのみをサポートしています。

## エクスペリエンスイベントのTTL

エクスペリエンスイベントTTLを使用すると、リアルタイム顧客プロファイル対応データセットにTTLを適用して、有効でなくなったデータをプロファイルストアから削除できます。

>[!NOTE]
>
>データセットでエクスペリエンスイベントTTLを有効にするには、サポートに連絡する必要があります。

プロファイルが有効なデータセットでエクスペリエンスイベントのTTLを有効にした後、Platformは、次の2つの手順でエクスペリエンスイベントデータにTTL有効期限値を自動的に適用します。

1. データセットに取り込まれる新しいデータには、すべて取り込み時にTTL有効期限の値が適用されます。
2. データセット内の既存のすべてのデータには、1回限りのバックフィルシステムジョブとして遡って適用されるTTL有効期限の値が設定されます。 TTL有効期限の値がデータセットに配置されると、TTL有効期限の値より古いイベントは、システムジョブが実行されるとすぐに破棄されます。 その他のイベントは、イベントタイムスタンプのTTL有効期限値に達するとすぐにドロップオフされます。

>[!NOTE]
>
>TTLが適用されると、TTLの日数より古いデータは&#x200B;**永続的に削除**&#x200B;され、復元できなくなります。
> 
>さらに、セグメントのルックバックウィンドウがTTL境界内にあることを確認します。 そうしないと、TTLを適用した後、セグメントの結果が正しくなくなる可能性があります。 例えば、TTLが30日に適用され、最大45日前のデータを表示しようとしたセグメントがある場合、そのセグメントでは正しくないプロファイルが生成されます。
> 
>その結果、セグメント化ロジックの異なるデータセット間で異なるTTL値が影響を受けるのを防ぐため、可能であればすべてのデータセットに対して同じTTLを保持する必要があります。

例えば、5月15日に30日のTTL値を適用した場合、次の手順が実行されます。

1. すべての新しいイベントのTTL値は、取り込み時に適用され、30日になります。
2. タイムスタンプが4月15日より古い既存のイベントは、すべてシステムジョブで直ちに削除されます。
3. 4月15日より新しいタイムスタンプを持つ既存のイベントはすべて、イベントタイムスタンプの30日後にTTL有効期限の値が設定されます。 したがって、イベントのタイムスタンプが4月18日の場合、そのタイムスタンプの日付（5月18日）の30日後に削除されます。

