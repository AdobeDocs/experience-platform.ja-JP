---
keywords: Experience Platform;ホーム;人気のあるトピック;データセット;データセット;有効期間;ttl;有効期間;
solution: Experience Platform
title: データセットの有効期間
description: このドキュメントでは、Adobe Experience Platform のプロファイルストアにあるデータセットの有効期間（TTL）に関する一般的なガイダンスを提供します。
exl-id: a91f2cd2-3a5d-42e6-81c3-0ec5bc644f5f
source-git-commit: a8b0282004dd57096dfc63a9adb82ad70d37495d
workflow-type: tm+mt
source-wordcount: '459'
ht-degree: 100%

---

# プロファイルサービスの有効期間（TTL）

プロファイルサービスを使用すると、プロファイルストア内のデータに有効期間（TTL）を適用できます。TTL は、データセット内のデータの存続時間を制限するメカニズムです。これにより、ユースケースに役立たなくなったデータをプロファイルストアから自動的に削除できます。

現在、プロファイルではエクスペリエンスイベント TTL のみをサポートしています。

## エクスペリエンスイベント TTL

エクスペリエンスイベント TTL を使用すると、リアルタイム顧客プロファイル対応データセットに TTL を適用して、無効になったデータをプロファイルストアから削除できます。

>[!NOTE]
>
>データセットでエクスペリエンスイベント TTL を有効にするには、サポートに連絡する必要があります。

プロファイル対応データセットでエクスペリエンスイベント TTL を有効にすると、Platform は次の 2 段階のプロセスでエクスペリエンスイベントデータに TTL 有効期限値を自動的に適用します。

1. データセットに取り込まれるすべての新しいデータには、取り込み時に TTL 有効期限値が適用されます。
2. データセット内のすべての既存データは、1 回限りのバックフィルシステムジョブとして、TTL 有効期限値が遡及的に適用されます。TTL 有効期限値がデータセットに設定されると、TTL 有効期限値より古いイベントは、システムジョブが実行されしだいドロップされます。その他のイベントは、イベントタイムスタンプから TTL 有効期限値に達するとすぐにドロップオフされます。

>[!NOTE]
>
>TTL が適用されると、TTL の日数より古いデータは&#x200B;**永続的に削除**&#x200B;され、復元できなくなります。
> 
>さらに、セグメントのルックバックウィンドウが TTL 境界内にあることを確認します。そうでない場合は、TTL を適用した後にセグメントの結果が正しくなくなる可能性があります。したがって、例えば、30 日の TTL を適用した場合、最大 45 日前までのデータを表示しようとしたセグメントがあると、そのセグメントから生成されるプロファイルは誤っていることになります。
> 
>その結果、セグメント化ロジックの異なるデータセットに異なる TTL 値の影響が及ぶのを避けるため、可能であればすべてのデータセットの TTL を同じ値に保ってください。

例えば、5 月 15 日に 30 日の TTL 値を適用した場合、次のような手順が実行されます。

1. すべての新しいイベントは、取り込まれた時点で 30 日の TTL 値が適用されます。
2. 4 月 15 日より古いタイムスタンプを持つ既存のイベントはすべて、システムジョブによって直ちに削除されます。
3. 4 月 15 日より新しいタイムスタンプを持つ既存のイベントはすべて、TTL 有効期限値がイベントタイムスタンプの 30 日後に設定されます。したがって、イベントのタイムスタンプが 4 月 18 日の場合、そのタイムスタンプの日付の 30 日後（5 月 18 日）にイベントが削除されます。
