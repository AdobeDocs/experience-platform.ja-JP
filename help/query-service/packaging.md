---
title: クエリサービスのパッケージ化
description: 次のドキュメントでは、クエリサービスで使用できる機能と製品のパッケージ化の概要と、アドホッククエリとバッチクエリの違いについて説明します。
exl-id: ba472d9e-afe6-423d-9abd-13ecea43f04f
source-git-commit: f129c215ebc5dc169b9a7ef9b3faa3463ab413f3
workflow-type: tm+mt
source-wordcount: '987'
ht-degree: 5%

---

# クエリサービスのパッケージング

このドキュメントでは、クエリサービスで使用できる様々なタイプのパッケージ化およびクエリ実行機能の概要を説明します。

Adobe Experience Platform クエリサービスは、実行可能なクエリパターンに基づいて、次の 2 つの機能に分けることができます。

- **アドホッククエリ** は、取り込んだデータセットを調査して検証、検証、実験などを行うために使用される SQL クエリです。 これらのクエリでは、データがExperience Platform データレイクに書き戻されません。
- **バッチクエリ** は、取り込まれたデータセットの取り込み後処理を実行するために使用される SQL クエリです。 これらのクエリでは、データのクリーン、シェイプ、操作およびエンリッチメントを行い、その結果をExperience Platform データレイクに書き戻します。 これらのクエリは、バッチジョブとしてスケジュール、管理、監視できます。

クエリサービス機能は、次の製品およびアドオンと共にパッケージ化されます。

- **Experience Platform ベースのアプリケーション** （Adobe Real-Time Customer Data Platform、Adobe Customer Journey AnalyticsおよびAdobe Journey Optimizer）: Experience Platform ベースのアプリケーションのすべてのバリエーションと層で、アドホッククエリを実行するクエリサービスへのアクセスが最初から提供されます。
- **[!DNL Data Distiller]** （Adobe Real-Time CDP、Customer Journey Analytics、Adobe Journey Optimizerで購入できるアドオンパッケージ）：バッチクエリを実行するためのクエリサービスへのアクセス権が [!DNL Data Distiller] に用意されています。

## 使用権限 {#entitlements}

次の表に、パッケージ化の方法に基づいた、クエリサービスの主な使用権限の概要を示します。

| クエリサービスの使用権限 | Experience Platformベースのアプリケーションと共にパッケージ化 | [!DNL Data Distiller] と共にパッケージ |
|---|---|---|
| サポートされているクエリパターン | アドホッククエリのみ | バッチクエリ |
| サポートされているユースケース | <ul><li>探索&#x200B;</li><li>データ検出&#x200B;</li><li>データの検証</li><li>実験</li></ul> | <ul><li>クリーニング</li><li>絞り</li><li>操作</li><li>エンリッチ</li></ul> |
| サポートされるセマンティクス | <ul><li>クエリを選択</li></ul> | <ul><li>CTAS および ITAS クエリ</li></ul> |
| 最大実行時間 | 10 分 | 24 時間 |
| ライセンス指標 | **クエリ ユーザーの同時実行**: <ul><li>同時ユーザー 1 名（Real-Time CDP、Adobe Journey Optimizer）&#x200B;</li><li>同時ユーザー 5 人（Customer Journey Analytics）&#x200B;</li></ul> **クエリの同時実行性**: <ul><li>1 つの同時実行クエリ（すべてのアプリケーション）&#x200B;</li></ul> **追加のアドホッククエリユーザーパックのアドオン** を購入して、承認済みのアドホッククエリの使用権限を増やすことができます。 <ul><li>パックあたり+5 人の追加の同時ユーザー</li><li>パックごとに 1 つ追加の同時実行クエリ</li></ul> | **時間を計算**: <ul><li>変数（アプリケーションの使用権限に基づくスコープ）</li></ul> **計算時間** は、バッチクエリの実行時にクエリサービスエンジンがデータの読み取り、処理およびデータレイクへの書き戻しに要した時間を測定する指標です。 <br>Data Distiller SKU を使用すると、追加のユーザーとクエリの同時実行性も取得でき、アドホッククエリの実行に使用できます。  Data Distiller SKU には次のものが含まれます。<br><ul><li>+5 人の追加の同時ユーザー</li><li>さらに 1 つの同時実行クエリ</li></ul> |
| クエリとレポートの使用の高速化 | × | 対応 – 同時高速クエリを使用すると、高速ストアからデータを読み取り、ダッシュボード内で表示できます。 また、レポートモデルとデータセットを高速ストアに保存する専用の権限も提供されます。 |
| データレイクのストレージ容量 | 使用できるストレージの総容量は、使用しているプラットフォームベースのアプリケーションライセンスによって異なります。 例えば、Real-Time CDP、AJO、CJAなどです。 | 対応 – データの有効期限が 7 日間を超えて Data Distillerのユースケース用に生のデータセットや派生データセットを保持するための追加のストレージ使用権が提供されます。<br> データレイクのストレージ容量は、テラバイト（TB）単位で測定されます。これは、購入したコンピューティング時間の量によって異なります。 詳しくは、製品の説明を確認してください。 |
| データ書き出し許可 | 書き出しの使用権限の合計は、プラットフォームベースのアプリケーションライセンスによって異なります。 例えば、Real-Time CDP、AJO、CJAなどです。 | 対応 – 追加の書き出し使用権限が提供され、Data Distillerを使用して作成された派生データセットを書き出すことができます。<br> 年間のデータ書き出し許容量はテラバイト（TB）単位で測定され、購入したコンピューティング時間の量に応じて異なります。 詳細は製品説明をご確認ください。 |
| クエリ実行インターフェイス | <ul><li>クエリサービス UI</li><li>サードパーティクライアント UI</li><li>[!DNL PostgresSQL] クライアント UI</li></ul> | <ul><li>クエリサービス UI </li><li>サードパーティクライアント UI</li><li>[!DNL PostgresSQL] クライアント UI</li><li>REST API</li></ul> |
| から返されたクエリの結果 | クライアント UI | データレイクに保存された派生データセット |
| 結果の制限 | <ul><li>クエリサービス UI – 出力行数は、50～500 行まで [UI 設定を使用して設定 ](./ui/user-guide.md#result-count) できます。</li><li>サードパーティのクライアント - 50,000</li><li>[!DNL PostgresSQL] クライアント - 50,000</li></ul> | CTAS および ITAS クエリは、クエリ出力が派生データセットに保存されるので、成功メッセージのみを生成します。 |
| データセット処理能力の読み取り | ○ | ○ |
| データセット容量の書き込み | × | ○ |
| スケジュール処理能力 | × | ○ |
| 処理能力の監視 | ○ | ○ |
| クエリ アラート設定処理能力 | × | ○ |

{style="table-layout:auto"}

## アクセス制御 {#access-control}

Experience Platformのアクセス制御は、[Adobe Admin Consoleで管理され ](https://adminconsole.adobe.com/) 製品プロファイルがユーザーを権限とサンドボックスにリンクします。 詳しくは、「[アクセス制御の概要](../access-control/home.md)」を参照してください。

製品プロファイルの権限へのアクセスをリクエストする手順について詳しくは、[ 製品プロファイルの権限の管理 ](../access-control/ui/permissions.md) および [ 製品プロファイルのユーザーの管理 ](../access-control/ui/users.md) を参照してください

### 関連するクエリサービス権限 {#query-service-permissions}

クエリサービスを使用するには、Admin Console内で **[!DNL Manage Queries]** 権限を有効にする必要があります。 この権限を使用すると、ユーザーはアドホッククエリとバッチクエリを実行できます。

次の表に、[!DNL Manage Queries] 権限の影響の概要を示します。

| 権限 | 関数 |
|---|---|
| [!DNL Manage Queries] （データ書き込み権限なし） | アドホッククエリの実行にアクセスできます |
| [!DNL Manage Queries] （データ書き込み権限あり） | バッチ クエリを実行するためのアクセスを提供します |

{style="table-layout:auto"}

### 関連する SQL Insights 権限 {#sql-insights-permissions}

ダッシュボード内に Data Distiller[SQL Insights](./data-distiller/sql-insights/overview.md) を作成するには、Admin Console内で次の権限 **有効にする必要があります**。

| 権限 | 関数 |
|---|---|
| [!DNL View Custom Dashboard] | ユーザー定義ダッシュボードに表示アクセスを提供します |
| [!DNL Manage Custom Dashboard] | ユーザー定義ダッシュボードに管理アクセスを提供します |

{style="table-layout:auto"}

## サンドボックスのサポート {#sandbox-support}

サンドボックスは、Experience Platform の単一のインスタンス内の仮想パーティションです。各Experience Platform インスタンスは、複数の実稼動用サンドボックスおよび非実稼動用サンドボックスをサポートしており、それぞれがExperience Platform リソースの独自のライブラリを保持します。 非実稼動用サンドボックスを使用すると、実稼動用サンドボックスに影響を与えることなく、機能のテスト、実験の実行、カスタム設定を行うことができます。 サンドボックスについて詳しくは、「[ サンドボックスの概要 ](../sandboxes/home.md)」を参照してください。 すべてのクエリサービス権限は、すべてのサンドボックスで共有されます。

## 次の手順

このドキュメントを読むことで、クエリサービスで使用できる様々なパッケージタイプとクエリ実行機能について、理解を深めることができました。 よく知られている業界のユースケースなど、クエリサービスについて詳しくは、[ ユースケースドキュメント ](./use-cases/abandoned-browse.md) を参照してください。 一般的な情報については、[ クエリサービスの概要 ](./home.md) を参照してください。

