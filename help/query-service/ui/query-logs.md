---
title: クエリログ
description: クエリ ログは、クエリが実行されるたびに自動的に生成され、トラブルシューティングに役立つように UI から利用できます。 このドキュメントでは、UIの [ログのクエリサービス] セクションを使用およびナビゲートする方法について説明します。
exl-id: 929e9fba-a9ba-4bf9-a363-ca8657a84f75
source-git-commit: 41c069ef1c0a19f34631e77afd7a80b8967c5060
workflow-type: tm+mt
source-wordcount: '1012'
ht-degree: 3%

---

# クエリログ

>[!IMPORTANT]
>
>特定のクエリログ機能は、現在、限定リリースになっており、すべてのお客様が使用できるわけではありません。 編集アイコンを使用しない場合、UI の表示が若干異なる場合があります。 また、クエリ名を選択するプロセスでは、[クエリ ログの詳細]] 表示ではなく[!UICONTROL クエリエディターに移動する場合があります。

Adobe Experience Platform は、API と UI の両方を通じて発生するすべてのクエリイベントのログを保持します。 この情報は、「ログ]」タブの[!UICONTROL 「クエリー」サービス UIで使用できます。

ログ ファイルは任意のクエリ イベントによって自動的に生成され、使用された SQL、クエリの状態、かかった時間、最後の実行時間などの情報が含まれています。 クエリログデータは、非効率なクエリや問題クエリのトラブルシューティングのための強力なツールとして使用できます。 詳細包括的なログ情報は、監査ログ機能の一部として保持され、監査ログの [ドキュメント](../../landing/governance-privacy-security/audit-logs/overview.md)に記載されています。

## クエリログを確認する {#check-query-logs}

クエリログを確認するには、次を選択します。 [!UICONTROL クエリ] クエリサービス ワークスペースに移動し、を選択します。 [!UICONTROL ログ] 使用可能なオプションから。

>[!NOTE]
>
>システムクエリとダッシュボードクエリは、どちらもデフォルトで除外されます。 を参照してください。 [フィルター](#filter-logs) 設定に基づいて表示されるログを絞り込む方法については、を参照してください。

![クエリとログが強調表示された Platform UI](../images/ui/query-log/logs.png)

## カスタマイズと検索 {#customize-and-search}

クエリサービスログは、カスタマイズ可能なテーブル形式で表示されます。 テーブルの列をカスタマイズするには、設定アイコン（![設定アイコン。](../images/ui/query-log/settings-icon.png)）を選択します。 A [!UICONTROL テーブルをカスタマイズ] 各列の選択を解除できるダイアログが表示されます。

また、検索フィールドにテンプレート名を入力して、特定のクエリテンプレートに関するログを検索することもできます。

![検索バーと管理列テーブルのドロップダウンがハイライト表示されたクエリログワークスペース。](../images/ui/query-log/customize-logs.png)

A [各ログテーブル列の説明](./overview.md#log) 詳しくは、クエリサービスの概要の「ログ」セクションを参照してください。

## ログデータの検出

各行は、クエリ テンプレートに関連付けられたクエリ実行のログデータを表します。 テーブルから任意の行を選択して、右側のサイドバーにその実行のログデータを入力します。

![クエリログワークスペース行が選択され、右側のサイドバーのログデータが強調表示されます。](../images/ui/query-log/log-details.png)

ログ詳細パネルでは、様々なアクションを実行できます。 クエリを CTAS として実行できます。これにより新しい出力データセットを作成したり、実行で使用された完全な SQL クエリを確認またはコピーしたり、クエリを削除したりできます。

>[!NOTE]
>
>対するオプション [!UICONTROL CTAS として実行] は、SELECT クエリでのみ使用できます。

![行が選択されたクエリログワークスペース、CTAS として実行、クエリを削除、SQL をコピーのアイコンがハイライト表示されています。](../images/ui/query-log/edit-output-dataset.png)

>[!IMPORTANT]
>
>一部の クエリ ログ機能は、現在限定リリースとなっており、一部のお客様にはご利用いただけません。

名前列から[!UICONTROL クエリ テンプレート名を選択して、[[!UICONTROL クエリ ログの詳細]] 表示に直接移動]することもできます。

>[!NOTE]
>
>クエリが API を使用して作成され、初期化中にテンプレート名が指定されなかった場合は、代わりに SQL クエリの最初の数十文字が表示されます。

![[クエリ ログの詳細] 表示。](../images/ui/query-log/query-log-details.png)

## ログ編集 {#edit-logs}

各行のテンプレート名または SQL スニペットの横には、鉛筆アイコン（![鉛筆アイコン。](../images/ui/query-log/edit-icon.png)）にアクセスできます。これを使用して、クエリエディターに移動できます。 次に、エディターで編集できるようにクエリが事前設定されます。

![鉛筆アイコンがハイライト表示されたクエリログワークスペース。](../images/ui/query-log/edit-query.png)

## ログをフィルター {#filter-logs}

様々な設定に基づいて、クエリログのリストをフィルタリングできます。 フィルターアイコン（![フィルターアイコン。](../images/ui/query-log/filter-icon.png)）を選択し、左側のパネルで一連のフィルターオプションを開きます。

![フィルターアイコンがハイライト表示されたクエリログワークスペース。](../images/ui/query-log/log-filter.png)

使用可能なフィルターのリストが表示されます。

![フィルターオプションが表示されハイライト表示されたクエリログワークスペース。](../images/ui/query-log/log-filter-settings.png)

次の表に、各フィルターの説明を示します。

| フィルター | 説明 |
| ------ | ----------- |
| [!UICONTROL ダッシュボードクエリを除外] | このチェックボックスはデフォルトで有効になっており、インサイトの生成に使用されるクエリで生成されたログは除外されます。 これらのクエリはシステムで生成され、監視、管理、トラブルシューティングに必要な、ユーザーが生成したログの記録を隠します。 システム生成ログを表示するには、このチェックボックスをオフにします。 |
| [!UICONTROL システムクエリの除外] | このチェックボックスはデフォルトで有効になっており、システムで生成されたログは除外されます。 システム生成クエリには、多くの場合、ユーザーの監視、管理、またはトラブルシューティングの目的に関連しないバックグラウンド タスクまたはメンテナンス操作が含まれます。 システム生成ログを調べる必要がある場合は、このチェックボックスをオフにして、ログ表示に含めます。 |
| [!UICONTROL 開始日] | 特定の期間中に作成されたクエリをログでフィルタリングするには、次を設定します [!UICONTROL 開始] および [!UICONTROL 終了] の日付 [!UICONTROL 開始日] セクション。 |
| [!UICONTROL 完了日] | 特定の期間に完了したクエリでログをフィルタリングするには、次を設定します [!UICONTROL 開始] および [!UICONTROL 終了] の日付 [!UICONTROL 完了日] セクション。 |
| [!UICONTROL ステータス] | に基づいてログをフィルタリングするには [!UICONTROL ステータス] クエリで、適切なラジオボタンを選択します。 使用可能なオプションは次のとおりです [!UICONTROL 送信済み], [!UICONTROL 処理中], [!UICONTROL 成功]、および [!UICONTROL 失敗]. ログは、一度に 1 つのステータス条件に基づいてのみフィルタリングできます。 |
| [!UICONTROL クライアント] | 使用するクエリクライアントに基づいてログをフィルタリングするには、次の使用可能な値のいずれかをフリーテキストフィールドに入力します。 `API`, `Adobe Query Service UI`、または `QsAccel`. |
| [!UICONTROL マイクエリ] | [マイ クエリ]] [!UICONTROL トグルを使用して、自分が実行したクエリのログをフィルター処理します。 |
| [!UICONTROL クエリログ ID] | クエリの一意のログ ID に基づいてフィルタリングするには、無償テキストフィールドにログ ID を入力します。 この情報 [!UICONTROL ログの詳細]. |

適用されたフィルターは、フィルターされたログ結果の上に表示されます。

![適用されたフィルターのリストが強調表示されたクエリワークスペースの「ログ」タブ。](../images/ui/query-log/applied-log-filters.png)

## 次の手順

このドキュメントを読むことで、クエリ サービス UIで クエリ ログにアクセスして使用する方法をよりよく理解できます。

クエリサービスの機能について詳しくは、[UI の概要](./overview.md)または [Query Service API ガイド](../api/getting-started.md)を参照してください。

[クエリ サービス によってスケジュールされたクエリ実行の可視性がどのように向上するかについては、監視 クエリ ドキュメント](./monitor-queries.md)を参照してください。
