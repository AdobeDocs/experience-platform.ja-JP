---
keywords: Experience Platform；ホーム；人気のあるトピック；クエリサービス；クエリサービス；トラブルシューティングガイド；faq；トラブルシューティング；
solution: Experience Platform
title: クエリサービストラブルシューティングガイド
topic-legacy: troubleshooting
description: このドキュメントには、発生する一般的なエラーコードと考えられる原因に関する情報が含まれています。
exl-id: 14cdff7a-40dd-4103-9a92-3f29fa4c0809
source-git-commit: 2b118228473a5f07ab7e2c744b799f33a4c44c98
workflow-type: tm+mt
source-wordcount: '525'
ht-degree: 29%

---

# [!DNL Query Service] トラブルシューティングガイド

このドキュメントでは、クエリサービスに関するよくある質問に対する回答を示し、クエリサービスを使用する際によく見られるエラーコードのリストを示します。 Adobe Experience Platform の他のサービスに関する質問やトラブルシューティングについては、[Experience Platform のトラブルシューティングガイド](../landing/troubleshooting.md)を参照してください。

## よくある質問

次に、クエリサービスに関するよくある質問に対する回答のリストを示します。

### クエリのメタデータのみを取得するにはどうすればよいですか？

クエリのメタデータのみを取得するには、次のように、0行を返すクエリを実行します。

```sql
SELECT * FROM <table> WHERE 1=0
```

このクエリは、指定したテーブルのメタデータのみを返します。

### CTAS(Create Table as Select)クエリを実体化せずに、すばやく繰り返し処理する方法を教えてください。

一時テーブルを作成して、クエリを実現する前にクエリをすばやく繰り返し実行できます。 また、一時テーブルを使用して、クエリが機能しているかどうかを検証することもできます。

例えば、一時テーブルを作成できます。

```sql
CREATE temp TABLE temp_dataset AS
SELECT *
FROM actual_dataset
WHERE 1 = 0;
```

次に、一時テーブルを次のように使用します。

```sql
INSERT INTO temp_dataset
SELECT a._company AS _company,
a._id AS _id,
a.timestamp AS timestamp
FROM actual_dataset a
WHERE timestamp >= TO_TIMESTAMP('2021-01-21 12:00:00')
AND timestamp < TO_TIMESTAMP('2021-01-21 13:00:00')
LIMIT 100;
```

### 時系列データのフィルタリングはどのように行う必要がありますか。

時系列データを使用してクエリを実行する場合、より正確な分析をおこなうには、可能な限りタイムスタンプフィルターを使用する必要があります。

タイムスタンプフィルターの使用例を以下に示します。

```sql
SELECT a._company  AS _company,
       a._id       AS _id,
       a.timestamp AS timestamp
FROM   dataset a
WHERE  timestamp >= To_timestamp('2021-01-21 12:00:00')
       AND timestamp < To_timestamp('2021-01-21 13:00:00')
```

### データセットからすべての行を取得する場合は、ワイルドカード（*など）を使用する必要がありますか？

クエリサービスは、従来の行ベースのストアシステムではなく、**column-store**&#x200B;として扱う必要があるので、ワイルドカードを使用して行からすべてのデータを取得することはできません。

## REST API エラー

| HTTPステータスコード | 説明 | 考えられる原因 |
| ---------------- | ----------- | --------------- |
| 400 | 不正なリクエストです。 | クエリの形式が不正であるか、不正なクエリです。 |
| 401 | 認証に失敗しました。 | 認証トークンが無効です。 |
| 500 | 内部サーバーエラー。 | 内部システム障害が発生しています。 |

## PostgreSQL API エラー

| エラーコード | 接続状態 | 説明 | 考えられる原因 |
| ---------- | ---------------- | ----------- | -------------- |
| **08P01** | なし | メッセージの種類がサポートされていません。 | メッセージの種類がサポートされていません。 |
| **28P01** | 起動 — 認証 | パスワードが無効です。 | 認証トークンが無効です。 |
| **28000** | 起動 — 認証 | 認証タイプが無効です。 | 認証タイプが無効です。`AuthenticationCleartextPassword` である必要があります。 |
| **42P12** | 起動 — 認証 | テーブルが見つかりません。 | 使用するテーブルが見つかりません。 |
| **42601** | クエリ | 構文エラー。 | コマンドが無効であるか、構文にエラーがあります。 |
| **42P01** | クエリ | テーブルが見つかりません。 | クエリで指定されたテーブルが見つかりませんでした。 |
| **42P07** | クエリ | テーブルが存在します。 | 同じ名前のテーブルが既に存在します(CREATE TABLE) |
| **53400** | クエリ | LIMIT が最大値を超えています。 | ユーザーが LIMIT 句で 100,000 を超える行数を指定しました。 |
| **53400** | クエリ | ステートメントがタイムアウトになりました。 | 送信されたステートメントの処理時間が最大値の 10 分を超えました。 |
| **58000** | クエリ | システムエラー。 | 内部システム障害が発生しています。 |
| **0A000** | クエリ/コマンド | サポートなし | クエリ/コマンドの機能はサポートされていません |
| **42501** | DROP TABLE Query | クエリサービスで作成されていないテーブルを削除しています | 削除中のテーブルは、`CREATE TABLE`ステートメントを使用してクエリサービスによって作成されませんでした |
| **42501** | DROP TABLE Query | 認証済みユーザーが作成していないテーブル | 削除中のテーブルは、現在ログインしているユーザーによって作成されませんでした |
| **42P01** | DROP TABLE Query | テーブルが見つかりません。 | クエリで指定されたテーブルが見つかりませんでした |
| **42P12** | DROP TABLE Query | `dbName`のテーブルが見つかりません：`dbName`を確認してください。 | 現在のデータベースにテーブルが見つかりませんでした |
