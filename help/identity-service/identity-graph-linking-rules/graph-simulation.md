---
title: グラフシミュレーション
description: ID サービス UI でグラフシミュレーションを使用する方法を説明します。
hide: true
hidefromtoc: true
badge: ベータ版
source-git-commit: 2afdfd54b420bcf59423ea64048d928422ea61c9
workflow-type: tm+mt
source-wordcount: '1590'
ht-degree: 5%

---

# グラフシミュレーション

グラフシミュレーションは、ID サービス UI のツールで、特定の ID の組み合わせでの ID グラフの動作と、の設定方法をシミュレートするために使用できます [id 最適化アルゴリズム](./identity-optimization-algorithm.md).

このドキュメントでは、グラフシミュレーションを使用して ID グラフの動作をより深く理解する方法と、グラフアルゴリズムがどのように機能するかについて説明します。

## グラフシミュレーションインターフェイスの理解

Adobe Experience Platform UI で、グラフシミュレーションにアクセスできます。 を選択 **[!UICONTROL ID]** 左側のナビゲーションからを選択し、 **[!UICONTROL グラフシミュレーション]** 上部ヘッダーから。

![Adobe Experience Platform UI のグラフシミュレーションインターフェイス。](../images/graph-simulation/graph-simulation.png)

グラフシミュレーションインターフェイスは、次の 3 つのセクションに分けることができます。

* イベント：を使用します **[!UICONTROL イベント]** グラフをシミュレートする ID を追加するパネル。 完全修飾 ID には、ID 名前空間とそれに対応する ID 値が必要です。 グラフをシミュレートするには、少なくとも 2 つの ID を追加する必要があります。 以下を選択することもできます。 **[!UICONTROL 読み込みの例]** 事前設定済みのイベントとアルゴリズム設定を入力します。

![グラフシミュレーションツールのイベントパネル。](../images/graph-simulation/events.png)

* アルゴリズム設定：を使用します **[!UICONTROL アルゴリズム設定]** パネルを使用して、名前空間の最適化アルゴリズムを追加および設定できます。 名前空間をドラッグ&amp;ドロップして、それぞれの優先度ランキングを変更できます。 以下を選択することもできます。 **[!UICONTROL グラフごとのユニーク数]** 名前空間が一意かどうかを判断します。

![グラフシミュレーションツールのアルゴリズム設定。](../images/graph-simulation/algorithm-configuration.png)

* シミュレート・グラフ・ビューア：シミュレート・グラフ・ビューアには、追加したイベントと構成したアルゴリズムに基づいて、結果のグラフが表示されます。 2 つのノード間の直線は、リンクが確立されていることを意味します。 点線は、リンクが削除されたことを示します。


![シミュレーショングラフの例を示した、シミュレーショングラフビューアパネル。](../images/graph-simulation/simulated-graph.png)

## イベントを追加

開始するには、を選択します **[!UICONTROL イベントを追加]**.

![「イベントを追加」ボタンが選択されています。](../images/graph-simulation/add-events.png)

ポップアップウィンドウが以下を対象に表示されます [!UICONTROL イベント #1]. ここから、ID 名前空間と ID 値の組み合わせを入力します。 ドロップダウンメニューを使用して、ID 名前空間を選択できます。 または、名前空間の最初の数文字を入力したあと、ドロップダウンメニューに表示されるオプションを選択することもできます。 名前空間を選択したら、名前空間に対応する ID 値を指定します。

![](../images/graph-simulation/event-one.png)

>[!TIP]
>
>グラフシミュレーションの演習で入力する ID 値は、実際の ID 値である必要はなく、単純なプレースホルダーにすることができます。

最初の ID が完成したら、追加アイコン（**`+`**）を選択して、2 つ目の ID を追加します。

![{Email:tom@acme.com} の最初の完全修飾 ID は、グラフシミュレーションのイベントパネルに入力されます。](../images/graph-simulation/event-one-added.png)

次に、同じ手順を繰り返し、2 つ目の ID を追加します。 ID グラフを生成するには、2 つの完全修飾 ID が必要です。 以下の例では、ECID が名前空間として追加され、の値が指定されます。 `111`. 完了したら「**[!UICONTROL 保存]**」を選択します。

![{ECID：の 2 つ目の ID 111} がイベント #1 に追加されました。](../images/graph-simulation/first-event.png)

この [!UICONTROL イベント] インターフェイスが更新され、最初のイベントが表示されます。この場合は、次のようになります。 `{Email: tom@acme.com, ECID: 111}`.

![{Email:tom@acme.com、ECID：を使用した更新されたイベントインターフェイス 111}.](../images/graph-simulation/add-second-event.png)

次に、同じ手順を繰り返して、2 番目のイベントを追加します。 イベント #2 の場合は、 `{Email: summer@acme.com}` を最初の ID として設定してから、同じを追加します `{ECID: 111}` 2 つ目の ID として設定することで、次の 2 つ目のイベントを作成します。 `{Email: summer@acme.com}, {ECID: 111}`. 完了したら、次のイベントを 2 つ作成します `{Email: tom@acme.com, ECID: 111}` と 1 つ `{Email: summer@acme.com}, {ECID: 111}`.

![2 つのイベントを含む更新されたイベントインターフェイス。](../images/graph-simulation/two-events.png)

### 例を読み込む

+++プリロードされたグラフの使用例の使用方法に関する手順を表示する場合に選択します

事前設定済みのアルゴリズムを使用してグラフの例を設定するには、次を選択します。 **[!UICONTROL 読み込みの例]**. ポップアップウィンドウが開き、次の中から選択できる使用可能なグラフシナリオが表示されます。

| グラフ例 | 説明 | 例 |
| --- | --- | --- |
| 共有デバイス | 共有デバイスとは、2 人の異なるユーザーが同じ単一のデバイスにログインするシナリオを指します。 | インターネットブラウジングや e コマースを目的として、夫婦でiPadをシェアする。 |
| 無効な (一意でない) 電話 | 無効または一意でない電話とは、2 人の異なるユーザーが同じ電話番号を使用してアカウントを作成するシナリオを指します。 | 母親と娘は、共有されている自宅の電話番号を使用して、e コマースアカウントに新規登録します。 |
| 「無効」な ID 値 | 「無効な」 ID 値は、誤った実装が原因で ID サービスが一意でない IDFA を生成するシナリオを指します。 | WebSDK がエラーでを送信する `user_null` コードの実装に関する問題が原因のすべてのイベントの値。 |

任意のオプションを選択して、事前設定済みのイベントおよびアルゴリズムを含むグラフシミュレーションを読み込みます。 事前に読み込まれたグラフシナリオの例に対して、さらに設定を加えることもできます。

終了したら、 **[!UICONTROL シミュレート]**.

+++

### テキストバージョンを使用

+++選択すると、テキストバージョンの使用方法の手順が表示されます

テキストモードを使用してイベントを設定することもできます。 テキストモードを使用するには、歯車（?）を選択します アイコンをクリックし、を選択します。 **[!UICONTROL テキスト （詳細ユーザー）]**.

テキストモードを使用して、ID を手動で入力できます。 コロン（`:`）を選択して、入力した名前空間に対応する ID 値を識別し、コンマ（`,`）を使用して ID を分離します。 異なるイベントを区別するには、イベントごとに新しい行を使用します。

+++

### イベントを編集

イベントを編集するには、省略記号（`...`）を選択し、次のいずれかを選択します **[!UICONTROL 編集]**.

### イベントを削除

イベントを削除するには、省略記号（`...`）を選択し、次のいずれかを選択します **[!UICONTROL 削除]**.

## アルゴリズムの設定

設定するアルゴリズムによって、イベントに入力した名前空間が ID サービスでどのように処理されるかが決まります。 グラフシミュレーション UI で作成した設定は、ID 設定には保存されません。

開始するには、「追加」（`+`）を選択します。



空の設定行が表示されます。 まず、イベントに使用したのと同じ名前空間を入力します。 この場合は、まず CRM ID を入力します。 名前空間を入力すると、の列が [!UICONTROL ID シンボル] および [!UICONTROL ID タイプ] 自動入力。



次に、同じ手順を繰り返し、2 つ目の名前空間（この場合は ECID）を追加します。 すべての名前空間を入力したら、その優先度と一意性の設定を開始できます。

* **名前空間の優先度**：名前空間の優先度によって、特定の ID グラフ内の他の名前空間と比較した、相対的な重要度が決まります。 例えば、ID グラフに 4 つの異なる名前空間（CRM ID、ECID、メール、Apple IDFA）がある場合、優先度を設定して、4 つの名前空間の重要な順序を判断できます。 （理由を追加）
* **一意の名前空間**：名前空間が一意として指定されている場合、ID サービスは、特定の一意の名前空間を持つ 1 つの ID のみが存在できるという注意事項を伴ったグラフを生成します。 例えば、CRM ID が一意の名前空間として指定されている場合、グラフには、CRM ID を持つ ID を 1 つだけ含めることができます。 CRM ID 名前空間の ID が複数ある場合は、最も古いリンクが削除されます。

名前空間の優先度を設定するには、名前空間の行を選択して目的の優先度の順序にドラッグします。一番上の行は高い優先度を表し、一番下の行は低い優先度を表します。 名前空間を一意として指定するには、 **[!UICONTROL グラフごとのユニーク数]** チェックボックス。



終了したら、 **[!UICONTROL シミュレート]**.

## シミュレーショングラフを表示

この [!UICONTROL シミュレーショングラフ] セクションには、追加したイベントと設定したアルゴリズムに基づいて生成された ID グラフが表示されます。

| グラフアイコン | 説明 |
| --- | --- |
| 実線 | 実線は、2 つの ID 間の確立されたリンクを表します。 |
| 点線 | 点線は、2 つの ID 間で削除されたリンクを表します。 |
| ライン上の数値 | 行の数字は、その特定のリンクが生成された時点のタイムスタンプを表します。 最も小さい数値（1）は、最も早く確立されたリンクを表します。 |

次のグラフの例では、間に点線が存在します `{CRM ID: Tom}` および `{ECID: 111}` 次の理由によります。

* CRM ID は、アルゴリズム設定手順で一意として指定されました。 したがって、グラフに存在できるのは、CRM ID 名前空間を持つ 1 つの ID のみです。
* 間のリンク `{CRM ID: Tom}` および `{ECID: 111}` は最初に確立された ID でした（イベント #1）。 これは最も古いリンクなので、削除されます。

## グラフシナリオの例

>[!NOTE]
>
>「CRM ID」はカスタム名前空間です。 したがって、以下の例では、「CRM ID」の表示名と ID 記号を持つカスタム名前空間を作成する必要があります。

次のセクションでは、グラフシミュレーションで発生する可能性のあるグラフシナリオの例を示します。

### CRM ID のみ

イベント：

* CRM ID:Tom、ECID:111

アルゴリズム設定：

| 優先度 | 表示名 | ID シンボル | ID タイプ | グラフごとに一意 |
| ---| --- | --- | --- | --- |
| 1 | CRM ID | CRM ID | CROSS_DEVICE | ○ |
| 2 | ECID | ECID | COOKIE | 不可 |

+++選択してシミュレーショングラフを表示

+++

### ハッシュ化されたメールを含む CRM ID

このシナリオでは、CRM ID が取り込まれ、オンライン（エクスペリエンスイベント）とオフライン（プロファイルレコード）の両方のデータを表します。 このシナリオでは、CRM レコードデータセット内で CRM ID と共に送信された別の名前空間を表す、ハッシュ化されたメールの取り込みも含まれます。

イベント：

* CRM ID:Tom、Email_LC_SHA256:tom<span>@acme.com
* CRM ID:Tom、ECID:111
* CRM ID：夏、Email_LC_SHA256：夏<span>@acme.com
* CRM ID：夏物、ECID:222

アルゴリズム設定：

| 優先度 | 表示名 | ID シンボル | ID タイプ | グラフごとに一意 |
| ---| --- | --- | --- | --- |
| 1 | CRM ID | CRM ID | CROSS_DEVICE | ○ |
| 2 | メール（SHA256、小文字） | Email_LC_SHA256 | メール | 不可 |
| 3 | ECID | ECID | COOKIE | 不可 |

+++選択してシミュレーショングラフを表示

+++

### ハッシュ化されたメール、ハッシュ化された電話、GAID および IDFA を含んだ CRM ID

イベント：

* CRM ID:Tom、Email_LC_SHA256:aabbcc、Phone_SHA256:123-4567
* CRM ID:Tom、ECID:111
* CRM ID:Tom、ECID:222、IDFA:A-A-A
* CRM ID：夏時間、Email_LC_SHA256:ddeeff、Phone_SHA256:765-4321
* CRM ID：夏物、ECID:333
* CRM ID：夏物、ECID:444、GAID:B-B-B

アルゴリズム設定：

| 優先度 | 表示名 | ID シンボル | ID タイプ | グラフごとに一意 |
| ---| --- | --- | --- | --- |
| 1 | CRM ID | CRM ID | CROSS_DEVICE | ○ |
| 2 | メール（SHA256、小文字） | Email_LC_SHA256 | メール | 不可 |
| 3 | 電話（SHA256） | Phone_SHA256 | Phone | 不可 |
| 4 | Google広告 ID （GAID） | GAID | デバイス | 不可 |
| 5 | Apple IDFA （Appleの ID） | IDFA | デバイス | 不可 |
| 6 | ECID | ECID | COOKIE | 不可 |

+++選択してシミュレーショングラフを表示

+++